(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();var Qx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Im(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Fd={exports:{}},Eu={};var Nv;function Yx(){if(Nv)return Eu;Nv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(s,l,c){var p=null;if(c!==void 0&&(p=""+c),l.key!==void 0&&(p=""+l.key),"key"in l){c={};for(var _ in l)_!=="key"&&(c[_]=l[_])}else c=l;return l=c.ref,{$$typeof:a,type:s,key:p,ref:l!==void 0?l:null,props:c}}return Eu.Fragment=t,Eu.jsx=r,Eu.jsxs=r,Eu}var Cv;function Xx(){return Cv||(Cv=1,Fd.exports=Yx()),Fd.exports}var g=Xx(),Hd={exports:{}},ft={};var Dv;function $x(){if(Dv)return ft;Dv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),p=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),O=Symbol.iterator;function H(q){return q===null||typeof q!="object"?null:(q=O&&q[O]||q["@@iterator"],typeof q=="function"?q:null)}var le={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oe=Object.assign,ee={};function ce(q,_e,je){this.props=q,this.context=_e,this.refs=ee,this.updater=je||le}ce.prototype.isReactComponent={},ce.prototype.setState=function(q,_e){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,_e,"setState")},ce.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function re(){}re.prototype=ce.prototype;function pe(q,_e,je){this.props=q,this.context=_e,this.refs=ee,this.updater=je||le}var De=pe.prototype=new re;De.constructor=pe,oe(De,ce.prototype),De.isPureReactComponent=!0;var Ke=Array.isArray;function Ge(){}var k={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function P(q,_e,je){var Re=je.ref;return{$$typeof:a,type:q,key:_e,ref:Re!==void 0?Re:null,props:je}}function j(q,_e){return P(q.type,_e,q.props)}function z(q){return typeof q=="object"&&q!==null&&q.$$typeof===a}function Y(q){var _e={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(je){return _e[je]})}var V=/\/+/g;function at(q,_e){return typeof q=="object"&&q!==null&&q.key!=null?Y(""+q.key):_e.toString(36)}function dt(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(Ge,Ge):(q.status="pending",q.then(function(_e){q.status==="pending"&&(q.status="fulfilled",q.value=_e)},function(_e){q.status==="pending"&&(q.status="rejected",q.reason=_e)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function $(q,_e,je,Re,Be){var $e=typeof q;($e==="undefined"||$e==="boolean")&&(q=null);var rt=!1;if(q===null)rt=!0;else switch($e){case"bigint":case"string":case"number":rt=!0;break;case"object":switch(q.$$typeof){case a:case t:rt=!0;break;case A:return rt=q._init,$(rt(q._payload),_e,je,Re,Be)}}if(rt)return Be=Be(q),rt=Re===""?"."+at(q,0):Re,Ke(Be)?(je="",rt!=null&&(je=rt.replace(V,"$&/")+"/"),$(Be,_e,je,"",function(hn){return hn})):Be!=null&&(z(Be)&&(Be=j(Be,je+(Be.key==null||q&&q.key===Be.key?"":(""+Be.key).replace(V,"$&/")+"/")+rt)),_e.push(Be)),1;rt=0;var qt=Re===""?".":Re+":";if(Ke(q))for(var Oe=0;Oe<q.length;Oe++)Re=q[Oe],$e=qt+at(Re,Oe),rt+=$(Re,_e,je,$e,Be);else if(Oe=H(q),typeof Oe=="function")for(q=Oe.call(q),Oe=0;!(Re=q.next()).done;)Re=Re.value,$e=qt+at(Re,Oe++),rt+=$(Re,_e,je,$e,Be);else if($e==="object"){if(typeof q.then=="function")return $(dt(q),_e,je,Re,Be);throw _e=String(q),Error("Objects are not valid as a React child (found: "+(_e==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":_e)+"). If you meant to render a collection of children, use an array instead.")}return rt}function Se(q,_e,je){if(q==null)return q;var Re=[],Be=0;return $(q,Re,"","",function($e){return _e.call(je,$e,Be++)}),Re}function Ae(q){if(q._status===-1){var _e=q._result;_e=_e(),_e.then(function(je){(q._status===0||q._status===-1)&&(q._status=1,q._result=je)},function(je){(q._status===0||q._status===-1)&&(q._status=2,q._result=je)}),q._status===-1&&(q._status=0,q._result=_e)}if(q._status===1)return q._result.default;throw q._result}var it=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var _e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(_e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},tt={map:Se,forEach:function(q,_e,je){Se(q,function(){_e.apply(this,arguments)},je)},count:function(q){var _e=0;return Se(q,function(){_e++}),_e},toArray:function(q){return Se(q,function(_e){return _e})||[]},only:function(q){if(!z(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return ft.Activity=N,ft.Children=tt,ft.Component=ce,ft.Fragment=r,ft.Profiler=l,ft.PureComponent=pe,ft.StrictMode=s,ft.Suspense=b,ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,ft.__COMPILER_RUNTIME={__proto__:null,c:function(q){return k.H.useMemoCache(q)}},ft.cache=function(q){return function(){return q.apply(null,arguments)}},ft.cacheSignal=function(){return null},ft.cloneElement=function(q,_e,je){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var Re=oe({},q.props),Be=q.key;if(_e!=null)for($e in _e.key!==void 0&&(Be=""+_e.key),_e)!M.call(_e,$e)||$e==="key"||$e==="__self"||$e==="__source"||$e==="ref"&&_e.ref===void 0||(Re[$e]=_e[$e]);var $e=arguments.length-2;if($e===1)Re.children=je;else if(1<$e){for(var rt=Array($e),qt=0;qt<$e;qt++)rt[qt]=arguments[qt+2];Re.children=rt}return P(q.type,Be,Re)},ft.createContext=function(q){return q={$$typeof:p,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:c,_context:q},q},ft.createElement=function(q,_e,je){var Re,Be={},$e=null;if(_e!=null)for(Re in _e.key!==void 0&&($e=""+_e.key),_e)M.call(_e,Re)&&Re!=="key"&&Re!=="__self"&&Re!=="__source"&&(Be[Re]=_e[Re]);var rt=arguments.length-2;if(rt===1)Be.children=je;else if(1<rt){for(var qt=Array(rt),Oe=0;Oe<rt;Oe++)qt[Oe]=arguments[Oe+2];Be.children=qt}if(q&&q.defaultProps)for(Re in rt=q.defaultProps,rt)Be[Re]===void 0&&(Be[Re]=rt[Re]);return P(q,$e,Be)},ft.createRef=function(){return{current:null}},ft.forwardRef=function(q){return{$$typeof:_,render:q}},ft.isValidElement=z,ft.lazy=function(q){return{$$typeof:A,_payload:{_status:-1,_result:q},_init:Ae}},ft.memo=function(q,_e){return{$$typeof:v,type:q,compare:_e===void 0?null:_e}},ft.startTransition=function(q){var _e=k.T,je={};k.T=je;try{var Re=q(),Be=k.S;Be!==null&&Be(je,Re),typeof Re=="object"&&Re!==null&&typeof Re.then=="function"&&Re.then(Ge,it)}catch($e){it($e)}finally{_e!==null&&je.types!==null&&(_e.types=je.types),k.T=_e}},ft.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},ft.use=function(q){return k.H.use(q)},ft.useActionState=function(q,_e,je){return k.H.useActionState(q,_e,je)},ft.useCallback=function(q,_e){return k.H.useCallback(q,_e)},ft.useContext=function(q){return k.H.useContext(q)},ft.useDebugValue=function(){},ft.useDeferredValue=function(q,_e){return k.H.useDeferredValue(q,_e)},ft.useEffect=function(q,_e){return k.H.useEffect(q,_e)},ft.useEffectEvent=function(q){return k.H.useEffectEvent(q)},ft.useId=function(){return k.H.useId()},ft.useImperativeHandle=function(q,_e,je){return k.H.useImperativeHandle(q,_e,je)},ft.useInsertionEffect=function(q,_e){return k.H.useInsertionEffect(q,_e)},ft.useLayoutEffect=function(q,_e){return k.H.useLayoutEffect(q,_e)},ft.useMemo=function(q,_e){return k.H.useMemo(q,_e)},ft.useOptimistic=function(q,_e){return k.H.useOptimistic(q,_e)},ft.useReducer=function(q,_e,je){return k.H.useReducer(q,_e,je)},ft.useRef=function(q){return k.H.useRef(q)},ft.useState=function(q){return k.H.useState(q)},ft.useSyncExternalStore=function(q,_e,je){return k.H.useSyncExternalStore(q,_e,je)},ft.useTransition=function(){return k.H.useTransition()},ft.version="19.2.0",ft}var Iv;function Mf(){return Iv||(Iv=1,Hd.exports=$x()),Hd.exports}var ae=Mf();const To=Im(ae);var Kd={exports:{}},wu={},Gd={exports:{}},Qd={};var jv;function Zx(){return jv||(jv=1,(function(a){function t($,Se){var Ae=$.length;$.push(Se);e:for(;0<Ae;){var it=Ae-1>>>1,tt=$[it];if(0<l(tt,Se))$[it]=Se,$[Ae]=tt,Ae=it;else break e}}function r($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var Se=$[0],Ae=$.pop();if(Ae!==Se){$[0]=Ae;e:for(var it=0,tt=$.length,q=tt>>>1;it<q;){var _e=2*(it+1)-1,je=$[_e],Re=_e+1,Be=$[Re];if(0>l(je,Ae))Re<tt&&0>l(Be,je)?($[it]=Be,$[Re]=Ae,it=Re):($[it]=je,$[_e]=Ae,it=_e);else if(Re<tt&&0>l(Be,Ae))$[it]=Be,$[Re]=Ae,it=Re;else break e}}return Se}function l($,Se){var Ae=$.sortIndex-Se.sortIndex;return Ae!==0?Ae:$.id-Se.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var p=Date,_=p.now();a.unstable_now=function(){return p.now()-_}}var b=[],v=[],A=1,N=null,O=3,H=!1,le=!1,oe=!1,ee=!1,ce=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,pe=typeof setImmediate<"u"?setImmediate:null;function De($){for(var Se=r(v);Se!==null;){if(Se.callback===null)s(v);else if(Se.startTime<=$)s(v),Se.sortIndex=Se.expirationTime,t(b,Se);else break;Se=r(v)}}function Ke($){if(oe=!1,De($),!le)if(r(b)!==null)le=!0,Ge||(Ge=!0,Y());else{var Se=r(v);Se!==null&&dt(Ke,Se.startTime-$)}}var Ge=!1,k=-1,M=5,P=-1;function j(){return ee?!0:!(a.unstable_now()-P<M)}function z(){if(ee=!1,Ge){var $=a.unstable_now();P=$;var Se=!0;try{e:{le=!1,oe&&(oe=!1,re(k),k=-1),H=!0;var Ae=O;try{t:{for(De($),N=r(b);N!==null&&!(N.expirationTime>$&&j());){var it=N.callback;if(typeof it=="function"){N.callback=null,O=N.priorityLevel;var tt=it(N.expirationTime<=$);if($=a.unstable_now(),typeof tt=="function"){N.callback=tt,De($),Se=!0;break t}N===r(b)&&s(b),De($)}else s(b);N=r(b)}if(N!==null)Se=!0;else{var q=r(v);q!==null&&dt(Ke,q.startTime-$),Se=!1}}break e}finally{N=null,O=Ae,H=!1}Se=void 0}}finally{Se?Y():Ge=!1}}}var Y;if(typeof pe=="function")Y=function(){pe(z)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,at=V.port2;V.port1.onmessage=z,Y=function(){at.postMessage(null)}}else Y=function(){ce(z,0)};function dt($,Se){k=ce(function(){$(a.unstable_now())},Se)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function($){$.callback=null},a.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<$?Math.floor(1e3/$):5},a.unstable_getCurrentPriorityLevel=function(){return O},a.unstable_next=function($){switch(O){case 1:case 2:case 3:var Se=3;break;default:Se=O}var Ae=O;O=Se;try{return $()}finally{O=Ae}},a.unstable_requestPaint=function(){ee=!0},a.unstable_runWithPriority=function($,Se){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Ae=O;O=$;try{return Se()}finally{O=Ae}},a.unstable_scheduleCallback=function($,Se,Ae){var it=a.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?it+Ae:it):Ae=it,$){case 1:var tt=-1;break;case 2:tt=250;break;case 5:tt=1073741823;break;case 4:tt=1e4;break;default:tt=5e3}return tt=Ae+tt,$={id:A++,callback:Se,priorityLevel:$,startTime:Ae,expirationTime:tt,sortIndex:-1},Ae>it?($.sortIndex=Ae,t(v,$),r(b)===null&&$===r(v)&&(oe?(re(k),k=-1):oe=!0,dt(Ke,Ae-it))):($.sortIndex=tt,t(b,$),le||H||(le=!0,Ge||(Ge=!0,Y()))),$},a.unstable_shouldYield=j,a.unstable_wrapCallback=function($){var Se=O;return function(){var Ae=O;O=Se;try{return $.apply(this,arguments)}finally{O=Ae}}}})(Qd)),Qd}var Ov;function Jx(){return Ov||(Ov=1,Gd.exports=Zx()),Gd.exports}var Yd={exports:{}},gr={};var Mv;function Wx(){if(Mv)return gr;Mv=1;var a=Mf();function t(b){var v="https://react.dev/errors/"+b;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+b+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(b,v,A){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:N==null?null:""+N,children:b,containerInfo:v,implementation:A}}var p=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(b,v){if(b==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return gr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,gr.createPortal=function(b,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(b,v,null,A)},gr.flushSync=function(b){var v=p.T,A=s.p;try{if(p.T=null,s.p=2,b)return b()}finally{p.T=v,s.p=A,s.d.f()}},gr.preconnect=function(b,v){typeof b=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(b,v))},gr.prefetchDNS=function(b){typeof b=="string"&&s.d.D(b)},gr.preinit=function(b,v){if(typeof b=="string"&&v&&typeof v.as=="string"){var A=v.as,N=_(A,v.crossOrigin),O=typeof v.integrity=="string"?v.integrity:void 0,H=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(b,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:N,integrity:O,fetchPriority:H}):A==="script"&&s.d.X(b,{crossOrigin:N,integrity:O,fetchPriority:H,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},gr.preinitModule=function(b,v){if(typeof b=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=_(v.as,v.crossOrigin);s.d.M(b,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(b)},gr.preload=function(b,v){if(typeof b=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,N=_(A,v.crossOrigin);s.d.L(b,A,{crossOrigin:N,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},gr.preloadModule=function(b,v){if(typeof b=="string")if(v){var A=_(v.as,v.crossOrigin);s.d.m(b,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(b)},gr.requestFormReset=function(b){s.d.r(b)},gr.unstable_batchedUpdates=function(b,v){return b(v)},gr.useFormState=function(b,v,A){return p.H.useFormState(b,v,A)},gr.useFormStatus=function(){return p.H.useHostTransitionStatus()},gr.version="19.2.0",gr}var Vv;function eE(){if(Vv)return Yd.exports;Vv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Yd.exports=Wx(),Yd.exports}var kv;function tE(){if(kv)return wu;kv=1;var a=Jx(),t=Mf(),r=eE();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function b(e){if(c(e)!==e)throw Error(s(188))}function v(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var i=e,o=n;;){var h=i.return;if(h===null)break;var m=h.alternate;if(m===null){if(o=h.return,o!==null){i=o;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===i)return b(h),e;if(m===o)return b(h),n;m=m.sibling}throw Error(s(188))}if(i.return!==o.return)i=h,o=m;else{for(var w=!1,C=h.child;C;){if(C===i){w=!0,i=h,o=m;break}if(C===o){w=!0,o=h,i=m;break}C=C.sibling}if(!w){for(C=m.child;C;){if(C===i){w=!0,i=m,o=h;break}if(C===o){w=!0,o=m,i=h;break}C=C.sibling}if(!w)throw Error(s(189))}}if(i.alternate!==o)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var N=Object.assign,O=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),le=Symbol.for("react.portal"),oe=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),re=Symbol.for("react.consumer"),pe=Symbol.for("react.context"),De=Symbol.for("react.forward_ref"),Ke=Symbol.for("react.suspense"),Ge=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function Y(e){return e===null||typeof e!="object"?null:(e=z&&e[z]||e["@@iterator"],typeof e=="function"?e:null)}var V=Symbol.for("react.client.reference");function at(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===V?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case oe:return"Fragment";case ce:return"Profiler";case ee:return"StrictMode";case Ke:return"Suspense";case Ge:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case le:return"Portal";case pe:return e.displayName||"Context";case re:return(e._context.displayName||"Context")+".Consumer";case De:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k:return n=e.displayName||null,n!==null?n:at(e.type)||"Memo";case M:n=e._payload,e=e._init;try{return at(e(n))}catch{}}return null}var dt=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae={pending:!1,data:null,method:null,action:null},it=[],tt=-1;function q(e){return{current:e}}function _e(e){0>tt||(e.current=it[tt],it[tt]=null,tt--)}function je(e,n){tt++,it[tt]=e.current,e.current=n}var Re=q(null),Be=q(null),$e=q(null),rt=q(null);function qt(e,n){switch(je($e,n),je(Be,e),je(Re,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Zy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Zy(n),e=Jy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}_e(Re),je(Re,e)}function Oe(){_e(Re),_e(Be),_e($e)}function hn(e){e.memoizedState!==null&&je(rt,e);var n=Re.current,i=Jy(n,e.type);n!==i&&(je(Be,e),je(Re,i))}function On(e){Be.current===e&&(_e(Re),_e(Be)),rt.current===e&&(_e(rt),vu._currentValue=Ae)}var Qe,Je;function Ft(e){if(Qe===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Qe=n&&n[1]||"",Je=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qe+e+Je}var yt=!1;function zt(e,n){if(!e||yt)return"";yt=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(ge){var de=ge}Reflect.construct(e,[],Ee)}else{try{Ee.call()}catch(ge){de=ge}e.call(Ee.prototype)}}else{try{throw Error()}catch(ge){de=ge}(Ee=e())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(ge){if(ge&&de&&typeof ge.stack=="string")return[ge.stack,de.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),w=m[0],C=m[1];if(w&&C){var U=w.split(`
`),fe=C.split(`
`);for(h=o=0;o<U.length&&!U[o].includes("DetermineComponentFrameRoot");)o++;for(;h<fe.length&&!fe[h].includes("DetermineComponentFrameRoot");)h++;if(o===U.length||h===fe.length)for(o=U.length-1,h=fe.length-1;1<=o&&0<=h&&U[o]!==fe[h];)h--;for(;1<=o&&0<=h;o--,h--)if(U[o]!==fe[h]){if(o!==1||h!==1)do if(o--,h--,0>h||U[o]!==fe[h]){var ve=`
`+U[o].replace(" at new "," at ");return e.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",e.displayName)),ve}while(1<=o&&0<=h);break}}}finally{yt=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Ft(i):""}function on(e,n){switch(e.tag){case 26:case 27:case 5:return Ft(e.type);case 16:return Ft("Lazy");case 13:return e.child!==n&&n!==null?Ft("Suspense Fallback"):Ft("Suspense");case 19:return Ft("SuspenseList");case 0:case 15:return zt(e.type,!1);case 11:return zt(e.type.render,!1);case 1:return zt(e.type,!0);case 31:return Ft("Activity");default:return""}}function Yn(e){try{var n="",i=null;do n+=on(e,i),i=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Nt=Object.prototype.hasOwnProperty,Mt=a.unstable_scheduleCallback,wn=a.unstable_cancelCallback,Po=a.unstable_shouldYield,ri=a.unstable_requestPaint,Xn=a.unstable_now,Xr=a.unstable_getCurrentPriorityLevel,$r=a.unstable_ImmediatePriority,Zr=a.unstable_UserBlockingPriority,va=a.unstable_NormalPriority,Ei=a.unstable_LowPriority,rs=a.unstable_IdlePriority,wi=a.log,_a=a.unstable_setDisableYieldValue,fr=null,Tn=null;function Sn(e){if(typeof wi=="function"&&_a(e),Tn&&typeof Tn.setStrictMode=="function")try{Tn.setStrictMode(fr,e)}catch{}}var ze=Math.clz32?Math.clz32:Ti,ai=Math.log,Rr=Math.LN2;function Ti(e){return e>>>=0,e===0?32:31-(ai(e)/Rr|0)|0}var ke=256,Ba=262144,dn=4194304;function Nr(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Jr(e,n,i){var o=e.pendingLanes;if(o===0)return 0;var h=0,m=e.suspendedLanes,w=e.pingedLanes;e=e.warmLanes;var C=o&134217727;return C!==0?(o=C&~m,o!==0?h=Nr(o):(w&=C,w!==0?h=Nr(w):i||(i=C&~e,i!==0&&(h=Nr(i))))):(C=o&~m,C!==0?h=Nr(C):w!==0?h=Nr(w):i||(i=o&~e,i!==0&&(h=Nr(i)))),h===0?0:n!==0&&n!==h&&(n&m)===0&&(m=h&-h,i=n&-n,m>=i||m===32&&(i&4194048)!==0)?n:h}function br(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function zl(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lo(){var e=dn;return dn<<=1,(dn&62914560)===0&&(dn=4194304),e}function ar(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Cr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function eo(e,n,i,o,h,m){var w=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var C=e.entanglements,U=e.expirationTimes,fe=e.hiddenUpdates;for(i=w&~i;0<i;){var ve=31-ze(i),Ee=1<<ve;C[ve]=0,U[ve]=-1;var de=fe[ve];if(de!==null)for(fe[ve]=null,ve=0;ve<de.length;ve++){var ge=de[ve];ge!==null&&(ge.lane&=-536870913)}i&=~Ee}o!==0&&ba(e,o,0),m!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=m&~(w&~n))}function ba(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ze(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|i&261930}function Ut(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var o=31-ze(i),h=1<<o;h&n|e[o]&n&&(e[o]|=n),i&=~h}}function ln(e,n){var i=n&-n;return i=(i&42)!==0?1:Si(i),(i&(e.suspendedLanes|n))!==0?0:i}function Si(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Dr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ai(){var e=Se.p;return e!==0?e:(e=window.event,e===void 0?32:xv(e.type))}function hr(e,n){var i=Se.p;try{return Se.p=e,n()}finally{Se.p=i}}var Wr=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Wr,nn="__reactProps$"+Wr,Kn="__reactContainer$"+Wr,qa="__reactEvents$"+Wr,Ul="__reactListeners$"+Wr,ea="__reactHandles$"+Wr,to="__reactResources$"+Wr,$n="__reactMarker$"+Wr;function Ri(e){delete e[Ht],delete e[nn],delete e[qa],delete e[Ul],delete e[ea]}function Ir(e){var n=e[Ht];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Kn]||i[Ht]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=iv(e);e!==null;){if(i=e[Ht])return i;e=iv(e)}return n}e=i,i=e.parentNode}return null}function It(e){if(e=e[Ht]||e[Kn]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function An(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Mn(e){var n=e[to];return n||(n=e[to]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function mn(e){e[$n]=!0}var xa=new Set,ii={};function jr(e,n){Or(e,n),Or(e+"Capture",n)}function Or(e,n){for(ii[e]=n,e=0;e<n.length;e++)xa.add(n[e])}var ta=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),as={},si={};function no(e){return Nt.call(si,e)?!0:Nt.call(as,e)?!1:ta.test(e)?si[e]=!0:(as[e]=!0,!1)}function mt(e,n,i){if(no(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function dr(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function pn(e,n,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+o)}}function gn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function is(e,n,i){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(w){i=""+w,m.call(this,w)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(w){i=""+w},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Vt(e){if(!e._valueTracker){var n=Mr(e)?"checked":"value";e._valueTracker=is(e,n,""+e[n])}}function oi(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),o="";return e&&(o=Mr(e)?e.checked?"true":"false":e.value),e=o,e!==i?(n.setValue(e),!0):!1}function xt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var na=/[\n"\\]/g;function Vn(e){return e.replace(na,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ra(e,n,i,o,h,m,w,C){e.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.type=w:e.removeAttribute("type"),n!=null?w==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+gn(n)):e.value!==""+gn(n)&&(e.value=""+gn(n)):w!=="submit"&&w!=="reset"||e.removeAttribute("value"),n!=null?Ni(e,w,gn(n)):i!=null?Ni(e,w,gn(i)):o!=null&&e.removeAttribute("value"),h==null&&m!=null&&(e.defaultChecked=!!m),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+gn(C):e.removeAttribute("name")}function ss(e,n,i,o,h,m,w,C){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||i!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){Vt(e);return}i=i!=null?""+gn(i):"",n=n!=null?""+gn(n):i,C||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=C?e.checked:!!o,e.defaultChecked=!!o,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.name=w),Vt(e)}function Ni(e,n,i){n==="number"&&xt(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function aa(e,n,i,o){if(e=e.options,n){n={};for(var h=0;h<i.length;h++)n["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=n.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&o&&(e[i].defaultSelected=!0)}else{for(i=""+gn(i),n=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ro(e,n,i){if(n!=null&&(n=""+gn(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+gn(i):""}function ia(e,n,i,o){if(n==null){if(o!=null){if(i!=null)throw Error(s(92));if(dt(o)){if(1<o.length)throw Error(s(93));o=o[0]}i=o}i==null&&(i=""),n=i}i=gn(n),e.defaultValue=i,o=e.textContent,o===i&&o!==""&&o!==null&&(e.value=o),Vt(e)}function ir(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var zo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bt(e,n,i){var o=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,i):typeof i!="number"||i===0||zo.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function os(e,n,i){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&i[h]!==o&&bt(e,h,o)}else for(var m in n)n.hasOwnProperty(m)&&bt(e,m,n[m])}function ls(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(e){return bn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function mr(){}var Vr=null;function xr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fa=null,Kt=null;function Zn(e){var n=It(e);if(n&&(e=n.stateNode)){var i=e[nn]||null;e:switch(e=n.stateNode,n.type){case"input":if(ra(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Vn(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var o=i[n];if(o!==e&&o.form===e.form){var h=o[nn]||null;if(!h)throw Error(s(90));ra(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<i.length;n++)o=i[n],o.form===e.form&&oi(o)}break e;case"textarea":ro(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&aa(e,!!i.multiple,n,!1)}}}var Ea=!1;function kr(e,n,i){if(Ea)return e(n,i);Ea=!0;try{var o=e(n);return o}finally{if(Ea=!1,(Fa!==null||Kt!==null)&&(Dc(),Fa&&(n=Fa,e=Kt,Kt=Fa=null,Zn(n),e)))for(n=0;n<e.length;n++)Zn(e[n])}}function Er(e,n){var i=e.stateNode;if(i===null)return null;var o=i[nn]||null;if(o===null)return null;i=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,n,typeof i));return i}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ci=!1;if(Rn)try{var _t={};Object.defineProperty(_t,"passive",{get:function(){Ci=!0}}),window.addEventListener("test",_t,_t),window.removeEventListener("test",_t,_t)}catch{Ci=!1}var Pr=null,us=null,Ha=null;function Ka(){if(Ha)return Ha;var e,n=us,i=n.length,o,h="value"in Pr?Pr.value:Pr.textContent,m=h.length;for(e=0;e<i&&n[e]===h[e];e++);var w=i-e;for(o=1;o<=w&&n[i-o]===h[m-o];o++);return Ha=h.slice(e,1<o?1-o:void 0)}function Ga(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function wa(){return!0}function oa(){return!1}function yn(e){function n(i,o,h,m,w){this._reactName=i,this._targetInst=h,this.type=o,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(i=e[C],this[C]=i?i(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?wa:oa,this.isPropagationStopped=oa,this}return N(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=wa)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=wa)},persist:function(){},isPersistent:wa}),n}var Qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ta=yn(Qa),la=N({},Qa,{view:0,detail:0}),li=yn(la),Sa,cs,Aa,fs=N({},la,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Aa&&(Aa&&e.type==="mousemove"?(Sa=e.screenX-Aa.screenX,cs=e.screenY-Aa.screenY):cs=Sa=0,Aa=e),Sa)},movementY:function(e){return"movementY"in e?e.movementY:cs}}),Di=yn(fs),Ya=N({},fs,{dataTransfer:0}),ao=yn(Ya),Ii=N({},la,{relatedTarget:0}),Ra=yn(Ii),ui=N({},Qa,{animationName:0,elapsedTime:0,pseudoElement:0}),io=yn(ui),hs=N({},Qa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xa=yn(hs),ds=N({},Qa,{data:0}),Lr=yn(ds),ms={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ps={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ci(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Nn[e])?!!n[e]:!1}function zr(){return ci}var Jn=N({},la,{key:function(e){if(e.key){var n=ms[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ga(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ps[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zr,charCode:function(e){return e.type==="keypress"?Ga(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ga(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ji=yn(Jn),so=N({},fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Na=yn(so),u=N({},la,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zr}),x=yn(u),T=N({},Qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),D=yn(T),ie=N({},fs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),me=yn(ie),Me=N({},Qa,{newState:0,oldState:0}),ut=yn(Me),vn=[9,13,27,32],Ct=Rn&&"CompositionEvent"in window,Gt=null;Rn&&"documentMode"in document&&(Gt=document.documentMode);var Ur=Rn&&"TextEvent"in window&&!Gt,Br=Rn&&(!Ct||Gt&&8<Gt&&11>=Gt),wr=" ",ua=!1;function fi(e,n){switch(e){case"keyup":return vn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gs(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Oi=!1;function $u(e,n){switch(e){case"compositionend":return gs(n);case"keypress":return n.which!==32?null:(ua=!0,wr);case"textInput":return e=n.data,e===wr&&ua?null:e;default:return null}}function rh(e,n){if(Oi)return e==="compositionend"||!Ct&&fi(e,n)?(e=Ka(),Ha=us=Pr=null,Oi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Br&&n.locale!=="ko"?null:n.data;default:return null}}var Zu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bo(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Zu[e.type]:n==="textarea"}function Bl(e,n,i,o){Fa?Kt?Kt.push(o):Kt=[o]:Fa=o,n=Pc(n,"onChange"),0<n.length&&(i=new Ta("onChange","change",null,i,o),e.push({event:i,listeners:n}))}var ys=null,oo=null;function ah(e){Ky(e,0)}function qo(e){var n=An(e);if(oi(n))return e}function lo(e,n){if(e==="change")return n}var Ca=!1;if(Rn){var rn;if(Rn){var vs="oninput"in document;if(!vs){var Tr=document.createElement("div");Tr.setAttribute("oninput","return;"),vs=typeof Tr.oninput=="function"}rn=vs}else rn=!1;Ca=rn&&(!document.documentMode||9<document.documentMode)}function Ju(){ys&&(ys.detachEvent("onpropertychange",Fo),oo=ys=null)}function Fo(e){if(e.propertyName==="value"&&qo(oo)){var n=[];Bl(n,oo,e,xr(e)),kr(ah,n)}}function Wu(e,n,i){e==="focusin"?(Ju(),ys=n,oo=i,ys.attachEvent("onpropertychange",Fo)):e==="focusout"&&Ju()}function Mi(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qo(oo)}function ql(e,n){if(e==="click")return qo(n)}function _s(e,n){if(e==="input"||e==="change")return qo(n)}function hi(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pr=typeof Object.is=="function"?Object.is:hi;function f(e,n){if(pr(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),o=Object.keys(n);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var h=i[o];if(!Nt.call(n,h)||!pr(e[h],n[h]))return!1}return!0}function d(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function y(e,n){var i=d(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=n&&o>=n)return{node:i,offset:n-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=d(i)}}function E(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?E(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function S(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=xt(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=xt(e.document)}return n}function R(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var I=Rn&&"documentMode"in document&&11>=document.documentMode,L=null,F=null,K=null,J=!1;function B(e,n,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;J||L==null||L!==xt(o)||(o=L,"selectionStart"in o&&R(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),K&&f(K,o)||(K=o,o=Pc(F,"onSelect"),0<o.length&&(n=new Ta("onSelect","select",null,n,i),e.push({event:n,listeners:o}),n.target=L)))}function te(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var G={animationend:te("Animation","AnimationEnd"),animationiteration:te("Animation","AnimationIteration"),animationstart:te("Animation","AnimationStart"),transitionrun:te("Transition","TransitionRun"),transitionstart:te("Transition","TransitionStart"),transitioncancel:te("Transition","TransitionCancel"),transitionend:te("Transition","TransitionEnd")},X={},Z={};Rn&&(Z=document.createElement("div").style,"AnimationEvent"in window||(delete G.animationend.animation,delete G.animationiteration.animation,delete G.animationstart.animation),"TransitionEvent"in window||delete G.transitionend.transition);function W(e){if(X[e])return X[e];if(!G[e])return e;var n=G[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Z)return X[e]=n[i];return e}var se=W("animationend"),he=W("animationiteration"),ye=W("animationstart"),xe=W("transitionrun"),Ie=W("transitionstart"),Le=W("transitioncancel"),Ne=W("transitionend"),Ve=new Map,Pe="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pe.push("scrollEnd");function Ce(e,n){Ve.set(e,n),jr(n,[e])}var Ue=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},We=[],lt=0,pt=0;function Wn(){for(var e=lt,n=pt=lt=0;n<e;){var i=We[n];We[n++]=null;var o=We[n];We[n++]=null;var h=We[n];We[n++]=null;var m=We[n];if(We[n++]=null,o!==null&&h!==null){var w=o.pending;w===null?h.next=h:(h.next=w.next,w.next=h),o.pending=h}m!==0&&uo(i,h,m)}}function ot(e,n,i,o){We[lt++]=e,We[lt++]=n,We[lt++]=i,We[lt++]=o,pt|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function kn(e,n,i,o){return ot(e,n,i,o),Pn(e)}function un(e,n){return ot(e,null,null,n),Pn(e)}function uo(e,n,i){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i);for(var h=!1,m=e.return;m!==null;)m.childLanes|=i,o=m.alternate,o!==null&&(o.childLanes|=i),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(h=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,h&&n!==null&&(h=31-ze(i),e=m.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=i|536870912),m):null}function Pn(e){if(50<fu)throw fu=0,dd=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var qr={};function Fl(e,n,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ca(e,n,i,o){return new Fl(e,n,i,o)}function ih(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vi(e,n){var i=e.alternate;return i===null?(i=ca(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Rp(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ec(e,n,i,o,h,m){var w=0;if(o=e,typeof e=="function")ih(e)&&(w=1);else if(typeof e=="string")w=Vx(e,i,Re.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case P:return e=ca(31,i,n,h),e.elementType=P,e.lanes=m,e;case oe:return co(i.children,h,m,n);case ee:w=8,h|=24;break;case ce:return e=ca(12,i,n,h|2),e.elementType=ce,e.lanes=m,e;case Ke:return e=ca(13,i,n,h),e.elementType=Ke,e.lanes=m,e;case Ge:return e=ca(19,i,n,h),e.elementType=Ge,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pe:w=10;break e;case re:w=9;break e;case De:w=11;break e;case k:w=14;break e;case M:w=16,o=null;break e}w=29,i=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=ca(w,i,n,h),n.elementType=e,n.type=o,n.lanes=m,n}function co(e,n,i,o){return e=ca(7,e,o,n),e.lanes=i,e}function sh(e,n,i){return e=ca(6,e,null,n),e.lanes=i,e}function Np(e){var n=ca(18,null,null,0);return n.stateNode=e,n}function oh(e,n,i){return n=ca(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Cp=new WeakMap;function Da(e,n){if(typeof e=="object"&&e!==null){var i=Cp.get(e);return i!==void 0?i:(n={value:e,source:n,stack:Yn(n)},Cp.set(e,n),n)}return{value:e,source:n,stack:Yn(n)}}var Ho=[],Ko=0,tc=null,Hl=0,Ia=[],ja=0,bs=null,di=1,mi="";function ki(e,n){Ho[Ko++]=Hl,Ho[Ko++]=tc,tc=e,Hl=n}function Dp(e,n,i){Ia[ja++]=di,Ia[ja++]=mi,Ia[ja++]=bs,bs=e;var o=di;e=mi;var h=32-ze(o)-1;o&=~(1<<h),i+=1;var m=32-ze(n)+h;if(30<m){var w=h-h%5;m=(o&(1<<w)-1).toString(32),o>>=w,h-=w,di=1<<32-ze(n)+h|i<<h|o,mi=m+e}else di=1<<m|i<<h|o,mi=e}function lh(e){e.return!==null&&(ki(e,1),Dp(e,1,0))}function uh(e){for(;e===tc;)tc=Ho[--Ko],Ho[Ko]=null,Hl=Ho[--Ko],Ho[Ko]=null;for(;e===bs;)bs=Ia[--ja],Ia[ja]=null,mi=Ia[--ja],Ia[ja]=null,di=Ia[--ja],Ia[ja]=null}function Ip(e,n){Ia[ja++]=di,Ia[ja++]=mi,Ia[ja++]=bs,di=n.id,mi=n.overflow,bs=e}var sr=null,an=null,Dt=!1,xs=null,Oa=!1,ch=Error(s(519));function Es(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kl(Da(n,e)),ch}function jp(e){var n=e.stateNode,i=e.type,o=e.memoizedProps;switch(n[Ht]=e,n[nn]=o,i){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(i=0;i<du.length;i++)wt(du[i],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":wt("invalid",n),ss(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":wt("invalid",n);break;case"textarea":wt("invalid",n),ia(n,o.value,o.defaultValue,o.children)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||o.suppressHydrationWarning===!0||Xy(n.textContent,i)?(o.popover!=null&&(wt("beforetoggle",n),wt("toggle",n)),o.onScroll!=null&&wt("scroll",n),o.onScrollEnd!=null&&wt("scrollend",n),o.onClick!=null&&(n.onclick=mr),n=!0):n=!1,n||Es(e,!0)}function Op(e){for(sr=e.return;sr;)switch(sr.tag){case 5:case 31:case 13:Oa=!1;return;case 27:case 3:Oa=!0;return;default:sr=sr.return}}function Go(e){if(e!==sr)return!1;if(!Dt)return Op(e),Dt=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Nd(e.type,e.memoizedProps)),i=!i),i&&an&&Es(e),Op(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));an=av(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));an=av(e)}else n===27?(n=an,ks(e.type)?(e=Od,Od=null,an=e):an=n):an=sr?Va(e.stateNode.nextSibling):null;return!0}function fo(){an=sr=null,Dt=!1}function fh(){var e=xs;return e!==null&&(Gr===null?Gr=e:Gr.push.apply(Gr,e),xs=null),e}function Kl(e){xs===null?xs=[e]:xs.push(e)}var hh=q(null),ho=null,Pi=null;function ws(e,n,i){je(hh,n._currentValue),n._currentValue=i}function Li(e){e._currentValue=hh.current,_e(hh)}function dh(e,n,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===i)break;e=e.return}}function mh(e,n,i,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var m=h.dependencies;if(m!==null){var w=h.child;m=m.firstContext;e:for(;m!==null;){var C=m;m=h;for(var U=0;U<n.length;U++)if(C.context===n[U]){m.lanes|=i,C=m.alternate,C!==null&&(C.lanes|=i),dh(m.return,i,e),o||(w=null);break e}m=C.next}}else if(h.tag===18){if(w=h.return,w===null)throw Error(s(341));w.lanes|=i,m=w.alternate,m!==null&&(m.lanes|=i),dh(w,i,e),w=null}else w=h.child;if(w!==null)w.return=h;else for(w=h;w!==null;){if(w===e){w=null;break}if(h=w.sibling,h!==null){h.return=w.return,w=h;break}w=w.return}h=w}}function Qo(e,n,i,o){e=null;for(var h=n,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var w=h.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var C=h.type;pr(h.pendingProps.value,w.value)||(e!==null?e.push(C):e=[C])}}else if(h===rt.current){if(w=h.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(vu):e=[vu])}h=h.return}e!==null&&mh(n,e,i,o),n.flags|=262144}function nc(e){for(e=e.firstContext;e!==null;){if(!pr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function mo(e){ho=e,Pi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function or(e){return Mp(ho,e)}function rc(e,n){return ho===null&&mo(e),Mp(e,n)}function Mp(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},Pi===null){if(e===null)throw Error(s(308));Pi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Pi=Pi.next=n;return i}var I1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},j1=a.unstable_scheduleCallback,O1=a.unstable_NormalPriority,Ln={$$typeof:pe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ph(){return{controller:new I1,data:new Map,refCount:0}}function Gl(e){e.refCount--,e.refCount===0&&j1(O1,function(){e.controller.abort()})}var Ql=null,gh=0,Yo=0,Xo=null;function M1(e,n){if(Ql===null){var i=Ql=[];gh=0,Yo=_d(),Xo={status:"pending",value:void 0,then:function(o){i.push(o)}}}return gh++,n.then(Vp,Vp),n}function Vp(){if(--gh===0&&Ql!==null){Xo!==null&&(Xo.status="fulfilled");var e=Ql;Ql=null,Yo=0,Xo=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function V1(e,n){var i=[],o={status:"pending",value:null,reason:null,then:function(h){i.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<i.length;h++)(0,i[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<i.length;h++)(0,i[h])(void 0)}),o}var kp=$.S;$.S=function(e,n){_y=Xn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&M1(e,n),kp!==null&&kp(e,n)};var po=q(null);function yh(){var e=po.current;return e!==null?e:Wt.pooledCache}function ac(e,n){n===null?je(po,po.current):je(po,n.pool)}function Pp(){var e=yh();return e===null?null:{parent:Ln._currentValue,pool:e}}var $o=Error(s(460)),vh=Error(s(474)),ic=Error(s(542)),sc={then:function(){}};function Lp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zp(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(mr,mr),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Bp(e),e;default:if(typeof n.status=="string")n.then(mr,mr);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Bp(e),e}throw yo=n,$o}}function go(e){try{var n=e._init;return n(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(yo=i,$o):i}}var yo=null;function Up(){if(yo===null)throw Error(s(459));var e=yo;return yo=null,e}function Bp(e){if(e===$o||e===ic)throw Error(s(483))}var Zo=null,Yl=0;function oc(e){var n=Yl;return Yl+=1,Zo===null&&(Zo=[]),zp(Zo,e,n)}function Xl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function lc(e,n){throw n.$$typeof===O?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function qp(e){function n(ne,Q){if(e){var ue=ne.deletions;ue===null?(ne.deletions=[Q],ne.flags|=16):ue.push(Q)}}function i(ne,Q){if(!e)return null;for(;Q!==null;)n(ne,Q),Q=Q.sibling;return null}function o(ne){for(var Q=new Map;ne!==null;)ne.key!==null?Q.set(ne.key,ne):Q.set(ne.index,ne),ne=ne.sibling;return Q}function h(ne,Q){return ne=Vi(ne,Q),ne.index=0,ne.sibling=null,ne}function m(ne,Q,ue){return ne.index=ue,e?(ue=ne.alternate,ue!==null?(ue=ue.index,ue<Q?(ne.flags|=67108866,Q):ue):(ne.flags|=67108866,Q)):(ne.flags|=1048576,Q)}function w(ne){return e&&ne.alternate===null&&(ne.flags|=67108866),ne}function C(ne,Q,ue,be){return Q===null||Q.tag!==6?(Q=sh(ue,ne.mode,be),Q.return=ne,Q):(Q=h(Q,ue),Q.return=ne,Q)}function U(ne,Q,ue,be){var et=ue.type;return et===oe?ve(ne,Q,ue.props.children,be,ue.key):Q!==null&&(Q.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===M&&go(et)===Q.type)?(Q=h(Q,ue.props),Xl(Q,ue),Q.return=ne,Q):(Q=ec(ue.type,ue.key,ue.props,null,ne.mode,be),Xl(Q,ue),Q.return=ne,Q)}function fe(ne,Q,ue,be){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ue.containerInfo||Q.stateNode.implementation!==ue.implementation?(Q=oh(ue,ne.mode,be),Q.return=ne,Q):(Q=h(Q,ue.children||[]),Q.return=ne,Q)}function ve(ne,Q,ue,be,et){return Q===null||Q.tag!==7?(Q=co(ue,ne.mode,be,et),Q.return=ne,Q):(Q=h(Q,ue),Q.return=ne,Q)}function Ee(ne,Q,ue){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=sh(""+Q,ne.mode,ue),Q.return=ne,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return ue=ec(Q.type,Q.key,Q.props,null,ne.mode,ue),Xl(ue,Q),ue.return=ne,ue;case le:return Q=oh(Q,ne.mode,ue),Q.return=ne,Q;case M:return Q=go(Q),Ee(ne,Q,ue)}if(dt(Q)||Y(Q))return Q=co(Q,ne.mode,ue,null),Q.return=ne,Q;if(typeof Q.then=="function")return Ee(ne,oc(Q),ue);if(Q.$$typeof===pe)return Ee(ne,rc(ne,Q),ue);lc(ne,Q)}return null}function de(ne,Q,ue,be){var et=Q!==null?Q.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return et!==null?null:C(ne,Q,""+ue,be);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case H:return ue.key===et?U(ne,Q,ue,be):null;case le:return ue.key===et?fe(ne,Q,ue,be):null;case M:return ue=go(ue),de(ne,Q,ue,be)}if(dt(ue)||Y(ue))return et!==null?null:ve(ne,Q,ue,be,null);if(typeof ue.then=="function")return de(ne,Q,oc(ue),be);if(ue.$$typeof===pe)return de(ne,Q,rc(ne,ue),be);lc(ne,ue)}return null}function ge(ne,Q,ue,be,et){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return ne=ne.get(ue)||null,C(Q,ne,""+be,et);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case H:return ne=ne.get(be.key===null?ue:be.key)||null,U(Q,ne,be,et);case le:return ne=ne.get(be.key===null?ue:be.key)||null,fe(Q,ne,be,et);case M:return be=go(be),ge(ne,Q,ue,be,et)}if(dt(be)||Y(be))return ne=ne.get(ue)||null,ve(Q,ne,be,et,null);if(typeof be.then=="function")return ge(ne,Q,ue,oc(be),et);if(be.$$typeof===pe)return ge(ne,Q,ue,rc(Q,be),et);lc(Q,be)}return null}function Ye(ne,Q,ue,be){for(var et=null,kt=null,Xe=Q,vt=Q=0,St=null;Xe!==null&&vt<ue.length;vt++){Xe.index>vt?(St=Xe,Xe=null):St=Xe.sibling;var Pt=de(ne,Xe,ue[vt],be);if(Pt===null){Xe===null&&(Xe=St);break}e&&Xe&&Pt.alternate===null&&n(ne,Xe),Q=m(Pt,Q,vt),kt===null?et=Pt:kt.sibling=Pt,kt=Pt,Xe=St}if(vt===ue.length)return i(ne,Xe),Dt&&ki(ne,vt),et;if(Xe===null){for(;vt<ue.length;vt++)Xe=Ee(ne,ue[vt],be),Xe!==null&&(Q=m(Xe,Q,vt),kt===null?et=Xe:kt.sibling=Xe,kt=Xe);return Dt&&ki(ne,vt),et}for(Xe=o(Xe);vt<ue.length;vt++)St=ge(Xe,ne,vt,ue[vt],be),St!==null&&(e&&St.alternate!==null&&Xe.delete(St.key===null?vt:St.key),Q=m(St,Q,vt),kt===null?et=St:kt.sibling=St,kt=St);return e&&Xe.forEach(function(Bs){return n(ne,Bs)}),Dt&&ki(ne,vt),et}function nt(ne,Q,ue,be){if(ue==null)throw Error(s(151));for(var et=null,kt=null,Xe=Q,vt=Q=0,St=null,Pt=ue.next();Xe!==null&&!Pt.done;vt++,Pt=ue.next()){Xe.index>vt?(St=Xe,Xe=null):St=Xe.sibling;var Bs=de(ne,Xe,Pt.value,be);if(Bs===null){Xe===null&&(Xe=St);break}e&&Xe&&Bs.alternate===null&&n(ne,Xe),Q=m(Bs,Q,vt),kt===null?et=Bs:kt.sibling=Bs,kt=Bs,Xe=St}if(Pt.done)return i(ne,Xe),Dt&&ki(ne,vt),et;if(Xe===null){for(;!Pt.done;vt++,Pt=ue.next())Pt=Ee(ne,Pt.value,be),Pt!==null&&(Q=m(Pt,Q,vt),kt===null?et=Pt:kt.sibling=Pt,kt=Pt);return Dt&&ki(ne,vt),et}for(Xe=o(Xe);!Pt.done;vt++,Pt=ue.next())Pt=ge(Xe,ne,vt,Pt.value,be),Pt!==null&&(e&&Pt.alternate!==null&&Xe.delete(Pt.key===null?vt:Pt.key),Q=m(Pt,Q,vt),kt===null?et=Pt:kt.sibling=Pt,kt=Pt);return e&&Xe.forEach(function(Gx){return n(ne,Gx)}),Dt&&ki(ne,vt),et}function Jt(ne,Q,ue,be){if(typeof ue=="object"&&ue!==null&&ue.type===oe&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case H:e:{for(var et=ue.key;Q!==null;){if(Q.key===et){if(et=ue.type,et===oe){if(Q.tag===7){i(ne,Q.sibling),be=h(Q,ue.props.children),be.return=ne,ne=be;break e}}else if(Q.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===M&&go(et)===Q.type){i(ne,Q.sibling),be=h(Q,ue.props),Xl(be,ue),be.return=ne,ne=be;break e}i(ne,Q);break}else n(ne,Q);Q=Q.sibling}ue.type===oe?(be=co(ue.props.children,ne.mode,be,ue.key),be.return=ne,ne=be):(be=ec(ue.type,ue.key,ue.props,null,ne.mode,be),Xl(be,ue),be.return=ne,ne=be)}return w(ne);case le:e:{for(et=ue.key;Q!==null;){if(Q.key===et)if(Q.tag===4&&Q.stateNode.containerInfo===ue.containerInfo&&Q.stateNode.implementation===ue.implementation){i(ne,Q.sibling),be=h(Q,ue.children||[]),be.return=ne,ne=be;break e}else{i(ne,Q);break}else n(ne,Q);Q=Q.sibling}be=oh(ue,ne.mode,be),be.return=ne,ne=be}return w(ne);case M:return ue=go(ue),Jt(ne,Q,ue,be)}if(dt(ue))return Ye(ne,Q,ue,be);if(Y(ue)){if(et=Y(ue),typeof et!="function")throw Error(s(150));return ue=et.call(ue),nt(ne,Q,ue,be)}if(typeof ue.then=="function")return Jt(ne,Q,oc(ue),be);if(ue.$$typeof===pe)return Jt(ne,Q,rc(ne,ue),be);lc(ne,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(ue=""+ue,Q!==null&&Q.tag===6?(i(ne,Q.sibling),be=h(Q,ue),be.return=ne,ne=be):(i(ne,Q),be=sh(ue,ne.mode,be),be.return=ne,ne=be),w(ne)):i(ne,Q)}return function(ne,Q,ue,be){try{Yl=0;var et=Jt(ne,Q,ue,be);return Zo=null,et}catch(Xe){if(Xe===$o||Xe===ic)throw Xe;var kt=ca(29,Xe,null,ne.mode);return kt.lanes=be,kt.return=ne,kt}finally{}}}var vo=qp(!0),Fp=qp(!1),Ts=!1;function _h(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ss(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function As(e,n,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Lt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Pn(e),uo(e,null,i),n}return ot(e,o,n,i),Pn(e)}function $l(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,Ut(e,i)}}function xh(e,n){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var h=null,m=null;if(i=i.firstBaseUpdate,i!==null){do{var w={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};m===null?h=m=w:m=m.next=w,i=i.next}while(i!==null);m===null?h=m=n:m=m.next=n}else h=m=n;i={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Eh=!1;function Zl(){if(Eh){var e=Xo;if(e!==null)throw e}}function Jl(e,n,i,o){Eh=!1;var h=e.updateQueue;Ts=!1;var m=h.firstBaseUpdate,w=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var U=C,fe=U.next;U.next=null,w===null?m=fe:w.next=fe,w=U;var ve=e.alternate;ve!==null&&(ve=ve.updateQueue,C=ve.lastBaseUpdate,C!==w&&(C===null?ve.firstBaseUpdate=fe:C.next=fe,ve.lastBaseUpdate=U))}if(m!==null){var Ee=h.baseState;w=0,ve=fe=U=null,C=m;do{var de=C.lane&-536870913,ge=de!==C.lane;if(ge?(Tt&de)===de:(o&de)===de){de!==0&&de===Yo&&(Eh=!0),ve!==null&&(ve=ve.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Ye=e,nt=C;de=n;var Jt=i;switch(nt.tag){case 1:if(Ye=nt.payload,typeof Ye=="function"){Ee=Ye.call(Jt,Ee,de);break e}Ee=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=nt.payload,de=typeof Ye=="function"?Ye.call(Jt,Ee,de):Ye,de==null)break e;Ee=N({},Ee,de);break e;case 2:Ts=!0}}de=C.callback,de!==null&&(e.flags|=64,ge&&(e.flags|=8192),ge=h.callbacks,ge===null?h.callbacks=[de]:ge.push(de))}else ge={lane:de,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ve===null?(fe=ve=ge,U=Ee):ve=ve.next=ge,w|=de;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;ge=C,C=ge.next,ge.next=null,h.lastBaseUpdate=ge,h.shared.pending=null}}while(!0);ve===null&&(U=Ee),h.baseState=U,h.firstBaseUpdate=fe,h.lastBaseUpdate=ve,m===null&&(h.shared.lanes=0),Is|=w,e.lanes=w,e.memoizedState=Ee}}function Hp(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Kp(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Hp(i[e],n)}var Jo=q(null),uc=q(0);function Gp(e,n){e=Qi,je(uc,e),je(Jo,n),Qi=e|n.baseLanes}function wh(){je(uc,Qi),je(Jo,Jo.current)}function Th(){Qi=uc.current,_e(Jo),_e(uc)}var fa=q(null),Ma=null;function Rs(e){var n=e.alternate;je(Cn,Cn.current&1),je(fa,e),Ma===null&&(n===null||Jo.current!==null||n.memoizedState!==null)&&(Ma=e)}function Sh(e){je(Cn,Cn.current),je(fa,e),Ma===null&&(Ma=e)}function Qp(e){e.tag===22?(je(Cn,Cn.current),je(fa,e),Ma===null&&(Ma=e)):Ns()}function Ns(){je(Cn,Cn.current),je(fa,fa.current)}function ha(e){_e(fa),Ma===e&&(Ma=null),_e(Cn)}var Cn=q(0);function cc(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Id(i)||jd(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var zi=0,gt=null,$t=null,zn=null,fc=!1,Wo=!1,_o=!1,hc=0,Wl=0,el=null,k1=0;function xn(){throw Error(s(321))}function Ah(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!pr(e[i],n[i]))return!1;return!0}function Rh(e,n,i,o,h,m){return zi=m,gt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$.H=e===null||e.memoizedState===null?Dg:qh,_o=!1,m=i(o,h),_o=!1,Wo&&(m=Xp(n,i,o,h)),Yp(e),m}function Yp(e){$.H=nu;var n=$t!==null&&$t.next!==null;if(zi=0,zn=$t=gt=null,fc=!1,Wl=0,el=null,n)throw Error(s(300));e===null||Un||(e=e.dependencies,e!==null&&nc(e)&&(Un=!0))}function Xp(e,n,i,o){gt=e;var h=0;do{if(Wo&&(el=null),Wl=0,Wo=!1,25<=h)throw Error(s(301));if(h+=1,zn=$t=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}$.H=Ig,m=n(i,o)}while(Wo);return m}function P1(){var e=$.H,n=e.useState()[0];return n=typeof n.then=="function"?eu(n):n,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(gt.flags|=1024),n}function Nh(){var e=hc!==0;return hc=0,e}function Ch(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function Dh(e){if(fc){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}fc=!1}zi=0,zn=$t=gt=null,Wo=!1,Wl=hc=0,el=null}function Sr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?gt.memoizedState=zn=e:zn=zn.next=e,zn}function Dn(){if($t===null){var e=gt.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var n=zn===null?gt.memoizedState:zn.next;if(n!==null)zn=n,$t=e;else{if(e===null)throw gt.alternate===null?Error(s(467)):Error(s(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},zn===null?gt.memoizedState=zn=e:zn=zn.next=e}return zn}function dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eu(e){var n=Wl;return Wl+=1,el===null&&(el=[]),e=zp(el,e,n),n=gt,(zn===null?n.memoizedState:zn.next)===null&&(n=n.alternate,$.H=n===null||n.memoizedState===null?Dg:qh),e}function mc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return eu(e);if(e.$$typeof===pe)return or(e)}throw Error(s(438,String(e)))}function Ih(e){var n=null,i=gt.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var o=gt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=dc(),gt.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),o=0;o<e;o++)i[o]=j;return n.index++,i}function Ui(e,n){return typeof n=="function"?n(e):n}function pc(e){var n=Dn();return jh(n,$t,e)}function jh(e,n,i){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var h=e.baseQueue,m=o.pending;if(m!==null){if(h!==null){var w=h.next;h.next=m.next,m.next=w}n.baseQueue=h=m,o.pending=null}if(m=e.baseState,h===null)e.memoizedState=m;else{n=h.next;var C=w=null,U=null,fe=n,ve=!1;do{var Ee=fe.lane&-536870913;if(Ee!==fe.lane?(Tt&Ee)===Ee:(zi&Ee)===Ee){var de=fe.revertLane;if(de===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),Ee===Yo&&(ve=!0);else if((zi&de)===de){fe=fe.next,de===Yo&&(ve=!0);continue}else Ee={lane:0,revertLane:fe.revertLane,gesture:null,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},U===null?(C=U=Ee,w=m):U=U.next=Ee,gt.lanes|=de,Is|=de;Ee=fe.action,_o&&i(m,Ee),m=fe.hasEagerState?fe.eagerState:i(m,Ee)}else de={lane:Ee,revertLane:fe.revertLane,gesture:fe.gesture,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},U===null?(C=U=de,w=m):U=U.next=de,gt.lanes|=Ee,Is|=Ee;fe=fe.next}while(fe!==null&&fe!==n);if(U===null?w=m:U.next=C,!pr(m,e.memoizedState)&&(Un=!0,ve&&(i=Xo,i!==null)))throw i;e.memoizedState=m,e.baseState=w,e.baseQueue=U,o.lastRenderedState=m}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Oh(e){var n=Dn(),i=n.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var o=i.dispatch,h=i.pending,m=n.memoizedState;if(h!==null){i.pending=null;var w=h=h.next;do m=e(m,w.action),w=w.next;while(w!==h);pr(m,n.memoizedState)||(Un=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),i.lastRenderedState=m}return[m,o]}function $p(e,n,i){var o=gt,h=Dn(),m=Dt;if(m){if(i===void 0)throw Error(s(407));i=i()}else i=n();var w=!pr(($t||h).memoizedState,i);if(w&&(h.memoizedState=i,Un=!0),h=h.queue,kh(Wp.bind(null,o,h,e),[e]),h.getSnapshot!==n||w||zn!==null&&zn.memoizedState.tag&1){if(o.flags|=2048,tl(9,{destroy:void 0},Jp.bind(null,o,h,i,n),null),Wt===null)throw Error(s(349));m||(zi&127)!==0||Zp(o,n,i)}return i}function Zp(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=gt.updateQueue,n===null?(n=dc(),gt.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Jp(e,n,i,o){n.value=i,n.getSnapshot=o,eg(n)&&tg(e)}function Wp(e,n,i){return i(function(){eg(n)&&tg(e)})}function eg(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!pr(e,i)}catch{return!0}}function tg(e){var n=un(e,2);n!==null&&Qr(n,e,2)}function Mh(e){var n=Sr();if(typeof e=="function"){var i=e;if(e=i(),_o){Sn(!0);try{i()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:e},n}function ng(e,n,i,o){return e.baseState=i,jh(e,$t,typeof o=="function"?o:Ui)}function L1(e,n,i,o,h){if(vc(e))throw Error(s(485));if(e=n.action,e!==null){var m={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){m.listeners.push(w)}};$.T!==null?i(!0):m.isTransition=!1,o(m),i=n.pending,i===null?(m.next=n.pending=m,rg(n,m)):(m.next=i.next,n.pending=i.next=m)}}function rg(e,n){var i=n.action,o=n.payload,h=e.state;if(n.isTransition){var m=$.T,w={};$.T=w;try{var C=i(h,o),U=$.S;U!==null&&U(w,C),ag(e,n,C)}catch(fe){Vh(e,n,fe)}finally{m!==null&&w.types!==null&&(m.types=w.types),$.T=m}}else try{m=i(h,o),ag(e,n,m)}catch(fe){Vh(e,n,fe)}}function ag(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){ig(e,n,o)},function(o){return Vh(e,n,o)}):ig(e,n,i)}function ig(e,n,i){n.status="fulfilled",n.value=i,sg(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,rg(e,i)))}function Vh(e,n,i){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=i,sg(n),n=n.next;while(n!==o)}e.action=null}function sg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function og(e,n){return n}function lg(e,n){if(Dt){var i=Wt.formState;if(i!==null){e:{var o=gt;if(Dt){if(an){t:{for(var h=an,m=Oa;h.nodeType!==8;){if(!m){h=null;break t}if(h=Va(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){an=Va(h.nextSibling),o=h.data==="F!";break e}}Es(o)}o=!1}o&&(n=i[0])}}return i=Sr(),i.memoizedState=i.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:og,lastRenderedState:n},i.queue=o,i=Rg.bind(null,gt,o),o.dispatch=i,o=Mh(!1),m=Bh.bind(null,gt,!1,o.queue),o=Sr(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,i=L1.bind(null,gt,h,m,i),h.dispatch=i,o.memoizedState=e,[n,i,!1]}function ug(e){var n=Dn();return cg(n,$t,e)}function cg(e,n,i){if(n=jh(e,n,og)[0],e=pc(Ui)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=eu(n)}catch(w){throw w===$o?ic:w}else o=n;n=Dn();var h=n.queue,m=h.dispatch;return i!==n.memoizedState&&(gt.flags|=2048,tl(9,{destroy:void 0},z1.bind(null,h,i),null)),[o,m,e]}function z1(e,n){e.action=n}function fg(e){var n=Dn(),i=$t;if(i!==null)return cg(n,i,e);Dn(),n=n.memoizedState,i=Dn();var o=i.queue.dispatch;return i.memoizedState=e,[n,o,!1]}function tl(e,n,i,o){return e={tag:e,create:i,deps:o,inst:n,next:null},n=gt.updateQueue,n===null&&(n=dc(),gt.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,n.lastEffect=e),e}function hg(){return Dn().memoizedState}function gc(e,n,i,o){var h=Sr();gt.flags|=e,h.memoizedState=tl(1|n,{destroy:void 0},i,o===void 0?null:o)}function yc(e,n,i,o){var h=Dn();o=o===void 0?null:o;var m=h.memoizedState.inst;$t!==null&&o!==null&&Ah(o,$t.memoizedState.deps)?h.memoizedState=tl(n,m,i,o):(gt.flags|=e,h.memoizedState=tl(1|n,m,i,o))}function dg(e,n){gc(8390656,8,e,n)}function kh(e,n){yc(2048,8,e,n)}function U1(e){gt.flags|=4;var n=gt.updateQueue;if(n===null)n=dc(),gt.updateQueue=n,n.events=[e];else{var i=n.events;i===null?n.events=[e]:i.push(e)}}function mg(e){var n=Dn().memoizedState;return U1({ref:n,nextImpl:e}),function(){if((Lt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function pg(e,n){return yc(4,2,e,n)}function gg(e,n){return yc(4,4,e,n)}function yg(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function vg(e,n,i){i=i!=null?i.concat([e]):null,yc(4,4,yg.bind(null,n,e),i)}function Ph(){}function _g(e,n){var i=Dn();n=n===void 0?null:n;var o=i.memoizedState;return n!==null&&Ah(n,o[1])?o[0]:(i.memoizedState=[e,n],e)}function bg(e,n){var i=Dn();n=n===void 0?null:n;var o=i.memoizedState;if(n!==null&&Ah(n,o[1]))return o[0];if(o=e(),_o){Sn(!0);try{e()}finally{Sn(!1)}}return i.memoizedState=[o,n],o}function Lh(e,n,i){return i===void 0||(zi&1073741824)!==0&&(Tt&261930)===0?e.memoizedState=n:(e.memoizedState=i,e=xy(),gt.lanes|=e,Is|=e,i)}function xg(e,n,i,o){return pr(i,n)?i:Jo.current!==null?(e=Lh(e,i,o),pr(e,n)||(Un=!0),e):(zi&42)===0||(zi&1073741824)!==0&&(Tt&261930)===0?(Un=!0,e.memoizedState=i):(e=xy(),gt.lanes|=e,Is|=e,n)}function Eg(e,n,i,o,h){var m=Se.p;Se.p=m!==0&&8>m?m:8;var w=$.T,C={};$.T=C,Bh(e,!1,n,i);try{var U=h(),fe=$.S;if(fe!==null&&fe(C,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ve=V1(U,o);tu(e,n,ve,pa(e))}else tu(e,n,o,pa(e))}catch(Ee){tu(e,n,{then:function(){},status:"rejected",reason:Ee},pa())}finally{Se.p=m,w!==null&&C.types!==null&&(w.types=C.types),$.T=w}}function B1(){}function zh(e,n,i,o){if(e.tag!==5)throw Error(s(476));var h=wg(e).queue;Eg(e,h,n,Ae,i===null?B1:function(){return Tg(e),i(o)})}function wg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Ae,baseState:Ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:Ae},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Tg(e){var n=wg(e);n.next===null&&(n=e.alternate.memoizedState),tu(e,n.next.queue,{},pa())}function Uh(){return or(vu)}function Sg(){return Dn().memoizedState}function Ag(){return Dn().memoizedState}function q1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=pa();e=Ss(i);var o=As(n,e,i);o!==null&&(Qr(o,n,i),$l(o,n,i)),n={cache:ph()},e.payload=n;return}n=n.return}}function F1(e,n,i){var o=pa();i={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},vc(e)?Ng(n,i):(i=kn(e,n,i,o),i!==null&&(Qr(i,e,o),Cg(i,n,o)))}function Rg(e,n,i){var o=pa();tu(e,n,i,o)}function tu(e,n,i,o){var h={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(vc(e))Ng(n,h);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var w=n.lastRenderedState,C=m(w,i);if(h.hasEagerState=!0,h.eagerState=C,pr(C,w))return ot(e,n,h,0),Wt===null&&Wn(),!1}catch{}finally{}if(i=kn(e,n,h,o),i!==null)return Qr(i,e,o),Cg(i,n,o),!0}return!1}function Bh(e,n,i,o){if(o={lane:2,revertLane:_d(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},vc(e)){if(n)throw Error(s(479))}else n=kn(e,i,o,2),n!==null&&Qr(n,e,2)}function vc(e){var n=e.alternate;return e===gt||n!==null&&n===gt}function Ng(e,n){Wo=fc=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Cg(e,n,i){if((i&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,Ut(e,i)}}var nu={readContext:or,use:mc,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useLayoutEffect:xn,useInsertionEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useSyncExternalStore:xn,useId:xn,useHostTransitionStatus:xn,useFormState:xn,useActionState:xn,useOptimistic:xn,useMemoCache:xn,useCacheRefresh:xn};nu.useEffectEvent=xn;var Dg={readContext:or,use:mc,useCallback:function(e,n){return Sr().memoizedState=[e,n===void 0?null:n],e},useContext:or,useEffect:dg,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,gc(4194308,4,yg.bind(null,n,e),i)},useLayoutEffect:function(e,n){return gc(4194308,4,e,n)},useInsertionEffect:function(e,n){gc(4,2,e,n)},useMemo:function(e,n){var i=Sr();n=n===void 0?null:n;var o=e();if(_o){Sn(!0);try{e()}finally{Sn(!1)}}return i.memoizedState=[o,n],o},useReducer:function(e,n,i){var o=Sr();if(i!==void 0){var h=i(n);if(_o){Sn(!0);try{i(n)}finally{Sn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=F1.bind(null,gt,e),[o.memoizedState,e]},useRef:function(e){var n=Sr();return e={current:e},n.memoizedState=e},useState:function(e){e=Mh(e);var n=e.queue,i=Rg.bind(null,gt,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:Ph,useDeferredValue:function(e,n){var i=Sr();return Lh(i,e,n)},useTransition:function(){var e=Mh(!1);return e=Eg.bind(null,gt,e.queue,!0,!1),Sr().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var o=gt,h=Sr();if(Dt){if(i===void 0)throw Error(s(407));i=i()}else{if(i=n(),Wt===null)throw Error(s(349));(Tt&127)!==0||Zp(o,n,i)}h.memoizedState=i;var m={value:i,getSnapshot:n};return h.queue=m,dg(Wp.bind(null,o,m,e),[e]),o.flags|=2048,tl(9,{destroy:void 0},Jp.bind(null,o,m,i,n),null),i},useId:function(){var e=Sr(),n=Wt.identifierPrefix;if(Dt){var i=mi,o=di;i=(o&~(1<<32-ze(o)-1)).toString(32)+i,n="_"+n+"R_"+i,i=hc++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=k1++,n="_"+n+"r_"+i.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Uh,useFormState:lg,useActionState:lg,useOptimistic:function(e){var n=Sr();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=Bh.bind(null,gt,!0,i),i.dispatch=n,[e,n]},useMemoCache:Ih,useCacheRefresh:function(){return Sr().memoizedState=q1.bind(null,gt)},useEffectEvent:function(e){var n=Sr(),i={impl:e};return n.memoizedState=i,function(){if((Lt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},qh={readContext:or,use:mc,useCallback:_g,useContext:or,useEffect:kh,useImperativeHandle:vg,useInsertionEffect:pg,useLayoutEffect:gg,useMemo:bg,useReducer:pc,useRef:hg,useState:function(){return pc(Ui)},useDebugValue:Ph,useDeferredValue:function(e,n){var i=Dn();return xg(i,$t.memoizedState,e,n)},useTransition:function(){var e=pc(Ui)[0],n=Dn().memoizedState;return[typeof e=="boolean"?e:eu(e),n]},useSyncExternalStore:$p,useId:Sg,useHostTransitionStatus:Uh,useFormState:ug,useActionState:ug,useOptimistic:function(e,n){var i=Dn();return ng(i,$t,e,n)},useMemoCache:Ih,useCacheRefresh:Ag};qh.useEffectEvent=mg;var Ig={readContext:or,use:mc,useCallback:_g,useContext:or,useEffect:kh,useImperativeHandle:vg,useInsertionEffect:pg,useLayoutEffect:gg,useMemo:bg,useReducer:Oh,useRef:hg,useState:function(){return Oh(Ui)},useDebugValue:Ph,useDeferredValue:function(e,n){var i=Dn();return $t===null?Lh(i,e,n):xg(i,$t.memoizedState,e,n)},useTransition:function(){var e=Oh(Ui)[0],n=Dn().memoizedState;return[typeof e=="boolean"?e:eu(e),n]},useSyncExternalStore:$p,useId:Sg,useHostTransitionStatus:Uh,useFormState:fg,useActionState:fg,useOptimistic:function(e,n){var i=Dn();return $t!==null?ng(i,$t,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Ih,useCacheRefresh:Ag};Ig.useEffectEvent=mg;function Fh(e,n,i,o){n=e.memoizedState,i=i(o,n),i=i==null?n:N({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Hh={enqueueSetState:function(e,n,i){e=e._reactInternals;var o=pa(),h=Ss(o);h.payload=n,i!=null&&(h.callback=i),n=As(e,h,o),n!==null&&(Qr(n,e,o),$l(n,e,o))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var o=pa(),h=Ss(o);h.tag=1,h.payload=n,i!=null&&(h.callback=i),n=As(e,h,o),n!==null&&(Qr(n,e,o),$l(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=pa(),o=Ss(i);o.tag=2,n!=null&&(o.callback=n),n=As(e,o,i),n!==null&&(Qr(n,e,i),$l(n,e,i))}};function jg(e,n,i,o,h,m,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,m,w):n.prototype&&n.prototype.isPureReactComponent?!f(i,o)||!f(h,m):!0}function Og(e,n,i,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,o),n.state!==e&&Hh.enqueueReplaceState(n,n.state,null)}function bo(e,n){var i=n;if("ref"in n){i={};for(var o in n)o!=="ref"&&(i[o]=n[o])}if(e=e.defaultProps){i===n&&(i=N({},i));for(var h in e)i[h]===void 0&&(i[h]=e[h])}return i}function Mg(e){Ue(e)}function Vg(e){console.error(e)}function kg(e){Ue(e)}function _c(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Pg(e,n,i){try{var o=e.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Kh(e,n,i){return i=Ss(i),i.tag=3,i.payload={element:null},i.callback=function(){_c(e,n)},i}function Lg(e){return e=Ss(e),e.tag=3,e}function zg(e,n,i,o){var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;e.payload=function(){return h(m)},e.callback=function(){Pg(n,i,o)}}var w=i.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(e.callback=function(){Pg(n,i,o),typeof h!="function"&&(js===null?js=new Set([this]):js.add(this));var C=o.stack;this.componentDidCatch(o.value,{componentStack:C!==null?C:""})})}function H1(e,n,i,o,h){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=i.alternate,n!==null&&Qo(n,i,h,!0),i=fa.current,i!==null){switch(i.tag){case 31:case 13:return Ma===null?Ic():i.alternate===null&&En===0&&(En=3),i.flags&=-257,i.flags|=65536,i.lanes=h,o===sc?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([o]):n.add(o),gd(e,o,h)),!1;case 22:return i.flags|=65536,o===sc?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([o]):i.add(o)),gd(e,o,h)),!1}throw Error(s(435,i.tag))}return gd(e,o,h),Ic(),!1}if(Dt)return n=fa.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==ch&&(e=Error(s(422),{cause:o}),Kl(Da(e,i)))):(o!==ch&&(n=Error(s(423),{cause:o}),Kl(Da(n,i))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Da(o,i),h=Kh(e.stateNode,o,h),xh(e,h),En!==4&&(En=2)),!1;var m=Error(s(520),{cause:o});if(m=Da(m,i),cu===null?cu=[m]:cu.push(m),En!==4&&(En=2),n===null)return!0;o=Da(o,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=h&-h,i.lanes|=e,e=Kh(i.stateNode,o,e),xh(i,e),!1;case 1:if(n=i.type,m=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(js===null||!js.has(m))))return i.flags|=65536,h&=-h,i.lanes|=h,h=Lg(h),zg(h,e,i,o),xh(i,h),!1}i=i.return}while(i!==null);return!1}var Gh=Error(s(461)),Un=!1;function lr(e,n,i,o){n.child=e===null?Fp(n,null,i,o):vo(n,e.child,i,o)}function Ug(e,n,i,o,h){i=i.render;var m=n.ref;if("ref"in o){var w={};for(var C in o)C!=="ref"&&(w[C]=o[C])}else w=o;return mo(n),o=Rh(e,n,i,w,m,h),C=Nh(),e!==null&&!Un?(Ch(e,n,h),Bi(e,n,h)):(Dt&&C&&lh(n),n.flags|=1,lr(e,n,o,h),n.child)}function Bg(e,n,i,o,h){if(e===null){var m=i.type;return typeof m=="function"&&!ih(m)&&m.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=m,qg(e,n,m,o,h)):(e=ec(i.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!ed(e,h)){var w=m.memoizedProps;if(i=i.compare,i=i!==null?i:f,i(w,o)&&e.ref===n.ref)return Bi(e,n,h)}return n.flags|=1,e=Vi(m,o),e.ref=n.ref,e.return=n,n.child=e}function qg(e,n,i,o,h){if(e!==null){var m=e.memoizedProps;if(f(m,o)&&e.ref===n.ref)if(Un=!1,n.pendingProps=o=m,ed(e,h))(e.flags&131072)!==0&&(Un=!0);else return n.lanes=e.lanes,Bi(e,n,h)}return Qh(e,n,i,o,h)}function Fg(e,n,i,o){var h=o.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|i:i,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~m}else o=0,n.child=null;return Hg(e,n,m,i,o)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ac(n,m!==null?m.cachePool:null),m!==null?Gp(n,m):wh(),Qp(n);else return o=n.lanes=536870912,Hg(e,n,m!==null?m.baseLanes|i:i,i,o)}else m!==null?(ac(n,m.cachePool),Gp(n,m),Ns(),n.memoizedState=null):(e!==null&&ac(n,null),wh(),Ns());return lr(e,n,h,i),n.child}function ru(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Hg(e,n,i,o,h){var m=yh();return m=m===null?null:{parent:Ln._currentValue,pool:m},n.memoizedState={baseLanes:i,cachePool:m},e!==null&&ac(n,null),wh(),Qp(n),e!==null&&Qo(e,n,o,!0),n.childLanes=h,null}function bc(e,n){return n=Ec({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Kg(e,n,i){return vo(n,e.child,null,i),e=bc(n,n.pendingProps),e.flags|=2,ha(n),n.memoizedState=null,e}function K1(e,n,i){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Dt){if(o.mode==="hidden")return e=bc(n,o),n.lanes=536870912,ru(null,e);if(Sh(n),(e=an)?(e=rv(e,Oa),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:bs!==null?{id:di,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},i=Np(e),i.return=n,n.child=i,sr=n,an=null)):e=null,e===null)throw Es(n);return n.lanes=536870912,null}return bc(n,o)}var m=e.memoizedState;if(m!==null){var w=m.dehydrated;if(Sh(n),h)if(n.flags&256)n.flags&=-257,n=Kg(e,n,i);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(Un||Qo(e,n,i,!1),h=(i&e.childLanes)!==0,Un||h){if(o=Wt,o!==null&&(w=ln(o,i),w!==0&&w!==m.retryLane))throw m.retryLane=w,un(e,w),Qr(o,e,w),Gh;Ic(),n=Kg(e,n,i)}else e=m.treeContext,an=Va(w.nextSibling),sr=n,Dt=!0,xs=null,Oa=!1,e!==null&&Ip(n,e),n=bc(n,o),n.flags|=4096;return n}return e=Vi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function xc(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function Qh(e,n,i,o,h){return mo(n),i=Rh(e,n,i,o,void 0,h),o=Nh(),e!==null&&!Un?(Ch(e,n,h),Bi(e,n,h)):(Dt&&o&&lh(n),n.flags|=1,lr(e,n,i,h),n.child)}function Gg(e,n,i,o,h,m){return mo(n),n.updateQueue=null,i=Xp(n,o,i,h),Yp(e),o=Nh(),e!==null&&!Un?(Ch(e,n,m),Bi(e,n,m)):(Dt&&o&&lh(n),n.flags|=1,lr(e,n,i,m),n.child)}function Qg(e,n,i,o,h){if(mo(n),n.stateNode===null){var m=qr,w=i.contextType;typeof w=="object"&&w!==null&&(m=or(w)),m=new i(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Hh,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},_h(n),w=i.contextType,m.context=typeof w=="object"&&w!==null?or(w):qr,m.state=n.memoizedState,w=i.getDerivedStateFromProps,typeof w=="function"&&(Fh(n,i,w,o),m.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(w=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),w!==m.state&&Hh.enqueueReplaceState(m,m.state,null),Jl(n,o,m,h),Zl(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){m=n.stateNode;var C=n.memoizedProps,U=bo(i,C);m.props=U;var fe=m.context,ve=i.contextType;w=qr,typeof ve=="object"&&ve!==null&&(w=or(ve));var Ee=i.getDerivedStateFromProps;ve=typeof Ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",C=n.pendingProps!==C,ve||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(C||fe!==w)&&Og(n,m,o,w),Ts=!1;var de=n.memoizedState;m.state=de,Jl(n,o,m,h),Zl(),fe=n.memoizedState,C||de!==fe||Ts?(typeof Ee=="function"&&(Fh(n,i,Ee,o),fe=n.memoizedState),(U=Ts||jg(n,i,U,o,de,fe,w))?(ve||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=fe),m.props=o,m.state=fe,m.context=w,o=U):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,bh(e,n),w=n.memoizedProps,ve=bo(i,w),m.props=ve,Ee=n.pendingProps,de=m.context,fe=i.contextType,U=qr,typeof fe=="object"&&fe!==null&&(U=or(fe)),C=i.getDerivedStateFromProps,(fe=typeof C=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==Ee||de!==U)&&Og(n,m,o,U),Ts=!1,de=n.memoizedState,m.state=de,Jl(n,o,m,h),Zl();var ge=n.memoizedState;w!==Ee||de!==ge||Ts||e!==null&&e.dependencies!==null&&nc(e.dependencies)?(typeof C=="function"&&(Fh(n,i,C,o),ge=n.memoizedState),(ve=Ts||jg(n,i,ve,o,de,ge,U)||e!==null&&e.dependencies!==null&&nc(e.dependencies))?(fe||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,ge,U),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,ge,U)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===e.memoizedProps&&de===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&de===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=ge),m.props=o,m.state=ge,m.context=U,o=ve):(typeof m.componentDidUpdate!="function"||w===e.memoizedProps&&de===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&de===e.memoizedState||(n.flags|=1024),o=!1)}return m=o,xc(e,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&o?(n.child=vo(n,e.child,null,h),n.child=vo(n,null,i,h)):lr(e,n,i,h),n.memoizedState=m.state,e=n.child):e=Bi(e,n,h),e}function Yg(e,n,i,o){return fo(),n.flags|=256,lr(e,n,i,o),n.child}var Yh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xh(e){return{baseLanes:e,cachePool:Pp()}}function $h(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=ma),e}function Xg(e,n,i){var o=n.pendingProps,h=!1,m=(n.flags&128)!==0,w;if((w=m)||(w=e!==null&&e.memoizedState===null?!1:(Cn.current&2)!==0),w&&(h=!0,n.flags&=-129),w=(n.flags&32)!==0,n.flags&=-33,e===null){if(Dt){if(h?Rs(n):Ns(),(e=an)?(e=rv(e,Oa),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:bs!==null?{id:di,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},i=Np(e),i.return=n,n.child=i,sr=n,an=null)):e=null,e===null)throw Es(n);return jd(e)?n.lanes=32:n.lanes=536870912,null}var C=o.children;return o=o.fallback,h?(Ns(),h=n.mode,C=Ec({mode:"hidden",children:C},h),o=co(o,h,i,null),C.return=n,o.return=n,C.sibling=o,n.child=C,o=n.child,o.memoizedState=Xh(i),o.childLanes=$h(e,w,i),n.memoizedState=Yh,ru(null,o)):(Rs(n),Zh(n,C))}var U=e.memoizedState;if(U!==null&&(C=U.dehydrated,C!==null)){if(m)n.flags&256?(Rs(n),n.flags&=-257,n=Jh(e,n,i)):n.memoizedState!==null?(Ns(),n.child=e.child,n.flags|=128,n=null):(Ns(),C=o.fallback,h=n.mode,o=Ec({mode:"visible",children:o.children},h),C=co(C,h,i,null),C.flags|=2,o.return=n,C.return=n,o.sibling=C,n.child=o,vo(n,e.child,null,i),o=n.child,o.memoizedState=Xh(i),o.childLanes=$h(e,w,i),n.memoizedState=Yh,n=ru(null,o));else if(Rs(n),jd(C)){if(w=C.nextSibling&&C.nextSibling.dataset,w)var fe=w.dgst;w=fe,o=Error(s(419)),o.stack="",o.digest=w,Kl({value:o,source:null,stack:null}),n=Jh(e,n,i)}else if(Un||Qo(e,n,i,!1),w=(i&e.childLanes)!==0,Un||w){if(w=Wt,w!==null&&(o=ln(w,i),o!==0&&o!==U.retryLane))throw U.retryLane=o,un(e,o),Qr(w,e,o),Gh;Id(C)||Ic(),n=Jh(e,n,i)}else Id(C)?(n.flags|=192,n.child=e.child,n=null):(e=U.treeContext,an=Va(C.nextSibling),sr=n,Dt=!0,xs=null,Oa=!1,e!==null&&Ip(n,e),n=Zh(n,o.children),n.flags|=4096);return n}return h?(Ns(),C=o.fallback,h=n.mode,U=e.child,fe=U.sibling,o=Vi(U,{mode:"hidden",children:o.children}),o.subtreeFlags=U.subtreeFlags&65011712,fe!==null?C=Vi(fe,C):(C=co(C,h,i,null),C.flags|=2),C.return=n,o.return=n,o.sibling=C,n.child=o,ru(null,o),o=n.child,C=e.child.memoizedState,C===null?C=Xh(i):(h=C.cachePool,h!==null?(U=Ln._currentValue,h=h.parent!==U?{parent:U,pool:U}:h):h=Pp(),C={baseLanes:C.baseLanes|i,cachePool:h}),o.memoizedState=C,o.childLanes=$h(e,w,i),n.memoizedState=Yh,ru(e.child,o)):(Rs(n),i=e.child,e=i.sibling,i=Vi(i,{mode:"visible",children:o.children}),i.return=n,i.sibling=null,e!==null&&(w=n.deletions,w===null?(n.deletions=[e],n.flags|=16):w.push(e)),n.child=i,n.memoizedState=null,i)}function Zh(e,n){return n=Ec({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ec(e,n){return e=ca(22,e,null,n),e.lanes=0,e}function Jh(e,n,i){return vo(n,e.child,null,i),e=Zh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function $g(e,n,i){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),dh(e.return,n,i)}function Wh(e,n,i,o,h,m){var w=e.memoizedState;w===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:h,treeForkCount:m}:(w.isBackwards=n,w.rendering=null,w.renderingStartTime=0,w.last=o,w.tail=i,w.tailMode=h,w.treeForkCount=m)}function Zg(e,n,i){var o=n.pendingProps,h=o.revealOrder,m=o.tail;o=o.children;var w=Cn.current,C=(w&2)!==0;if(C?(w=w&1|2,n.flags|=128):w&=1,je(Cn,w),lr(e,n,o,i),o=Dt?Hl:0,!C&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$g(e,i,n);else if(e.tag===19)$g(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(i=n.child,h=null;i!==null;)e=i.alternate,e!==null&&cc(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=n.child,n.child=null):(h=i.sibling,i.sibling=null),Wh(n,!1,h,i,m,o);break;case"backwards":case"unstable_legacy-backwards":for(i=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&cc(e)===null){n.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}Wh(n,!0,i,null,m,o);break;case"together":Wh(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Bi(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Is|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(Qo(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,i=Vi(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Vi(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function ed(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&nc(e)))}function G1(e,n,i){switch(n.tag){case 3:qt(n,n.stateNode.containerInfo),ws(n,Ln,e.memoizedState.cache),fo();break;case 27:case 5:hn(n);break;case 4:qt(n,n.stateNode.containerInfo);break;case 10:ws(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Sh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Rs(n),n.flags|=128,null):(i&n.child.childLanes)!==0?Xg(e,n,i):(Rs(n),e=Bi(e,n,i),e!==null?e.sibling:null);Rs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(i&n.childLanes)!==0,o||(Qo(e,n,i,!1),o=(i&n.childLanes)!==0),h){if(o)return Zg(e,n,i);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),je(Cn,Cn.current),o)break;return null;case 22:return n.lanes=0,Fg(e,n,i,n.pendingProps);case 24:ws(n,Ln,e.memoizedState.cache)}return Bi(e,n,i)}function Jg(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)Un=!0;else{if(!ed(e,i)&&(n.flags&128)===0)return Un=!1,G1(e,n,i);Un=(e.flags&131072)!==0}else Un=!1,Dt&&(n.flags&1048576)!==0&&Dp(n,Hl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(e=go(n.elementType),n.type=e,typeof e=="function")ih(e)?(o=bo(e,o),n.tag=1,n=Qg(null,n,e,o,i)):(n.tag=0,n=Qh(null,n,e,o,i));else{if(e!=null){var h=e.$$typeof;if(h===De){n.tag=11,n=Ug(null,n,e,o,i);break e}else if(h===k){n.tag=14,n=Bg(null,n,e,o,i);break e}}throw n=at(e)||e,Error(s(306,n,""))}}return n;case 0:return Qh(e,n,n.type,n.pendingProps,i);case 1:return o=n.type,h=bo(o,n.pendingProps),Qg(e,n,o,h,i);case 3:e:{if(qt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var m=n.memoizedState;h=m.element,bh(e,n),Jl(n,o,null,i);var w=n.memoizedState;if(o=w.cache,ws(n,Ln,o),o!==m.cache&&mh(n,[Ln],i,!0),Zl(),o=w.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:w.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Yg(e,n,o,i);break e}else if(o!==h){h=Da(Error(s(424)),n),Kl(h),n=Yg(e,n,o,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(an=Va(e.firstChild),sr=n,Dt=!0,xs=null,Oa=!0,i=Fp(n,null,o,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(fo(),o===h){n=Bi(e,n,i);break e}lr(e,n,o,i)}n=n.child}return n;case 26:return xc(e,n),e===null?(i=uv(n.type,null,n.pendingProps,null))?n.memoizedState=i:Dt||(i=n.type,e=n.pendingProps,o=Lc($e.current).createElement(i),o[Ht]=n,o[nn]=e,ur(o,i,e),mn(o),n.stateNode=o):n.memoizedState=uv(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return hn(n),e===null&&Dt&&(o=n.stateNode=sv(n.type,n.pendingProps,$e.current),sr=n,Oa=!0,h=an,ks(n.type)?(Od=h,an=Va(o.firstChild)):an=h),lr(e,n,n.pendingProps.children,i),xc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Dt&&((h=o=an)&&(o=Ex(o,n.type,n.pendingProps,Oa),o!==null?(n.stateNode=o,sr=n,an=Va(o.firstChild),Oa=!1,h=!0):h=!1),h||Es(n)),hn(n),h=n.type,m=n.pendingProps,w=e!==null?e.memoizedProps:null,o=m.children,Nd(h,m)?o=null:w!==null&&Nd(h,w)&&(n.flags|=32),n.memoizedState!==null&&(h=Rh(e,n,P1,null,null,i),vu._currentValue=h),xc(e,n),lr(e,n,o,i),n.child;case 6:return e===null&&Dt&&((e=i=an)&&(i=wx(i,n.pendingProps,Oa),i!==null?(n.stateNode=i,sr=n,an=null,e=!0):e=!1),e||Es(n)),null;case 13:return Xg(e,n,i);case 4:return qt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=vo(n,null,o,i):lr(e,n,o,i),n.child;case 11:return Ug(e,n,n.type,n.pendingProps,i);case 7:return lr(e,n,n.pendingProps,i),n.child;case 8:return lr(e,n,n.pendingProps.children,i),n.child;case 12:return lr(e,n,n.pendingProps.children,i),n.child;case 10:return o=n.pendingProps,ws(n,n.type,o.value),lr(e,n,o.children,i),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,mo(n),h=or(h),o=o(h),n.flags|=1,lr(e,n,o,i),n.child;case 14:return Bg(e,n,n.type,n.pendingProps,i);case 15:return qg(e,n,n.type,n.pendingProps,i);case 19:return Zg(e,n,i);case 31:return K1(e,n,i);case 22:return Fg(e,n,i,n.pendingProps);case 24:return mo(n),o=or(Ln),e===null?(h=yh(),h===null&&(h=Wt,m=ph(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=i),h=m),n.memoizedState={parent:o,cache:h},_h(n),ws(n,Ln,h)):((e.lanes&i)!==0&&(bh(e,n),Jl(n,null,null,i),Zl()),h=e.memoizedState,m=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ws(n,Ln,o)):(o=m.cache,ws(n,Ln,o),o!==h.cache&&mh(n,[Ln],i,!0))),lr(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function qi(e){e.flags|=4}function td(e,n,i,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Sy())e.flags|=8192;else throw yo=sc,vh}else e.flags&=-16777217}function Wg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!mv(n))if(Sy())e.flags|=8192;else throw yo=sc,vh}function wc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Lo():536870912,e.lanes|=n,il|=n)}function au(e,n){if(!Dt)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function sn(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(n)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=i,n}function Q1(e,n,i){var o=n.pendingProps;switch(uh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(n),null;case 1:return sn(n),null;case 3:return i=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Li(Ln),Oe(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Go(n)?qi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,fh())),sn(n),null;case 26:var h=n.type,m=n.memoizedState;return e===null?(qi(n),m!==null?(sn(n),Wg(n,m)):(sn(n),td(n,h,null,o,i))):m?m!==e.memoizedState?(qi(n),sn(n),Wg(n,m)):(sn(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&qi(n),sn(n),td(n,h,e,o,i)),null;case 27:if(On(n),i=$e.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return sn(n),null}e=Re.current,Go(n)?jp(n):(e=sv(h,o,i),n.stateNode=e,qi(n))}return sn(n),null;case 5:if(On(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return sn(n),null}if(m=Re.current,Go(n))jp(n);else{var w=Lc($e.current);switch(m){case 1:m=w.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=w.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=w.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=w.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=w.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?w.createElement("select",{is:o.is}):w.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?w.createElement(h,{is:o.is}):w.createElement(h)}}m[Ht]=n,m[nn]=o;e:for(w=n.child;w!==null;){if(w.tag===5||w.tag===6)m.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===n)break e;for(;w.sibling===null;){if(w.return===null||w.return===n)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}n.stateNode=m;e:switch(ur(m,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&qi(n)}}return sn(n),td(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,i),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=$e.current,Go(n)){if(e=n.stateNode,i=n.memoizedProps,o=null,h=sr,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ht]=n,e=!!(e.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||Xy(e.nodeValue,i)),e||Es(n,!0)}else e=Lc(e).createTextNode(o),e[Ht]=n,n.stateNode=e}return sn(n),null;case 31:if(i=n.memoizedState,e===null||e.memoizedState!==null){if(o=Go(n),i!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ht]=n}else fo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;sn(n),e=!1}else i=fh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return n.flags&256?(ha(n),n):(ha(n),null);if((n.flags&128)!==0)throw Error(s(558))}return sn(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Go(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ht]=n}else fo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;sn(n),h=!1}else h=fh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(ha(n),n):(ha(n),null)}return ha(n),(n.flags&128)!==0?(n.lanes=i,n):(i=o!==null,e=e!==null&&e.memoizedState!==null,i&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048)),i!==e&&i&&(n.child.flags|=8192),wc(n,n.updateQueue),sn(n),null);case 4:return Oe(),e===null&&wd(n.stateNode.containerInfo),sn(n),null;case 10:return Li(n.type),sn(n),null;case 19:if(_e(Cn),o=n.memoizedState,o===null)return sn(n),null;if(h=(n.flags&128)!==0,m=o.rendering,m===null)if(h)au(o,!1);else{if(En!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=cc(e),m!==null){for(n.flags|=128,au(o,!1),e=m.updateQueue,n.updateQueue=e,wc(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)Rp(i,e),i=i.sibling;return je(Cn,Cn.current&1|2),Dt&&ki(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Xn()>Nc&&(n.flags|=128,h=!0,au(o,!1),n.lanes=4194304)}else{if(!h)if(e=cc(m),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,wc(n,e),au(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!Dt)return sn(n),null}else 2*Xn()-o.renderingStartTime>Nc&&i!==536870912&&(n.flags|=128,h=!0,au(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(e=o.last,e!==null?e.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Xn(),e.sibling=null,i=Cn.current,je(Cn,h?i&1|2:i&1),Dt&&ki(n,o.treeForkCount),e):(sn(n),null);case 22:case 23:return ha(n),Th(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(i&536870912)!==0&&(n.flags&128)===0&&(sn(n),n.subtreeFlags&6&&(n.flags|=8192)):sn(n),i=n.updateQueue,i!==null&&wc(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==i&&(n.flags|=2048),e!==null&&_e(po),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),Li(Ln),sn(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function Y1(e,n){switch(uh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Li(Ln),Oe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return On(n),null;case 31:if(n.memoizedState!==null){if(ha(n),n.alternate===null)throw Error(s(340));fo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(ha(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));fo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return _e(Cn),null;case 4:return Oe(),null;case 10:return Li(n.type),null;case 22:case 23:return ha(n),Th(),e!==null&&_e(po),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Li(Ln),null;case 25:return null;default:return null}}function ey(e,n){switch(uh(n),n.tag){case 3:Li(Ln),Oe();break;case 26:case 27:case 5:On(n);break;case 4:Oe();break;case 31:n.memoizedState!==null&&ha(n);break;case 13:ha(n);break;case 19:_e(Cn);break;case 10:Li(n.type);break;case 22:case 23:ha(n),Th(),e!==null&&_e(po);break;case 24:Li(Ln)}}function iu(e,n){try{var i=n.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var h=o.next;i=h;do{if((i.tag&e)===e){o=void 0;var m=i.create,w=i.inst;o=m(),w.destroy=o}i=i.next}while(i!==h)}}catch(C){Yt(n,n.return,C)}}function Cs(e,n,i){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&e)===e){var w=o.inst,C=w.destroy;if(C!==void 0){w.destroy=void 0,h=n;var U=i,fe=C;try{fe()}catch(ve){Yt(h,U,ve)}}}o=o.next}while(o!==m)}}catch(ve){Yt(n,n.return,ve)}}function ty(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{Kp(n,i)}catch(o){Yt(e,e.return,o)}}}function ny(e,n,i){i.props=bo(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(o){Yt(e,n,o)}}function su(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof i=="function"?e.refCleanup=i(o):i.current=o}}catch(h){Yt(e,n,h)}}function pi(e,n){var i=e.ref,o=e.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(h){Yt(e,n,h)}else i.current=null}function ry(e){var n=e.type,i=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(h){Yt(e,e.return,h)}}function nd(e,n,i){try{var o=e.stateNode;gx(o,e.type,i,n),o[nn]=n}catch(h){Yt(e,e.return,h)}}function ay(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ks(e.type)||e.tag===4}function rd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ay(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ks(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ad(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=mr));else if(o!==4&&(o===27&&ks(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(ad(e,n,i),e=e.sibling;e!==null;)ad(e,n,i),e=e.sibling}function Tc(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(o!==4&&(o===27&&ks(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Tc(e,n,i),e=e.sibling;e!==null;)Tc(e,n,i),e=e.sibling}function iy(e){var n=e.stateNode,i=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ur(n,o,i),n[Ht]=e,n[nn]=i}catch(m){Yt(e,e.return,m)}}var Fi=!1,Bn=!1,id=!1,sy=typeof WeakSet=="function"?WeakSet:Set,er=null;function X1(e,n){if(e=e.containerInfo,Ad=Kc,e=S(e),R(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var h=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{i.nodeType,m.nodeType}catch{i=null;break e}var w=0,C=-1,U=-1,fe=0,ve=0,Ee=e,de=null;t:for(;;){for(var ge;Ee!==i||h!==0&&Ee.nodeType!==3||(C=w+h),Ee!==m||o!==0&&Ee.nodeType!==3||(U=w+o),Ee.nodeType===3&&(w+=Ee.nodeValue.length),(ge=Ee.firstChild)!==null;)de=Ee,Ee=ge;for(;;){if(Ee===e)break t;if(de===i&&++fe===h&&(C=w),de===m&&++ve===o&&(U=w),(ge=Ee.nextSibling)!==null)break;Ee=de,de=Ee.parentNode}Ee=ge}i=C===-1||U===-1?null:{start:C,end:U}}else i=null}i=i||{start:0,end:0}}else i=null;for(Rd={focusedElem:e,selectionRange:i},Kc=!1,er=n;er!==null;)if(n=er,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,er=e;else for(;er!==null;){switch(n=er,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)h=e[i],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,i=n,h=m.memoizedProps,m=m.memoizedState,o=i.stateNode;try{var Ye=bo(i.type,h);e=o.getSnapshotBeforeUpdate(Ye,m),o.__reactInternalSnapshotBeforeUpdate=e}catch(nt){Yt(i,i.return,nt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)Dd(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Dd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,er=e;break}er=n.return}}function oy(e,n,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:Ki(e,i),o&4&&iu(5,i);break;case 1:if(Ki(e,i),o&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(w){Yt(i,i.return,w)}else{var h=bo(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(w){Yt(i,i.return,w)}}o&64&&ty(i),o&512&&su(i,i.return);break;case 3:if(Ki(e,i),o&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{Kp(e,n)}catch(w){Yt(i,i.return,w)}}break;case 27:n===null&&o&4&&iy(i);case 26:case 5:Ki(e,i),n===null&&o&4&&ry(i),o&512&&su(i,i.return);break;case 12:Ki(e,i);break;case 31:Ki(e,i),o&4&&cy(e,i);break;case 13:Ki(e,i),o&4&&fy(e,i),o&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=ax.bind(null,i),Tx(e,i))));break;case 22:if(o=i.memoizedState!==null||Fi,!o){n=n!==null&&n.memoizedState!==null||Bn,h=Fi;var m=Bn;Fi=o,(Bn=n)&&!m?Gi(e,i,(i.subtreeFlags&8772)!==0):Ki(e,i),Fi=h,Bn=m}break;case 30:break;default:Ki(e,i)}}function ly(e){var n=e.alternate;n!==null&&(e.alternate=null,ly(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ri(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var cn=null,Fr=!1;function Hi(e,n,i){for(i=i.child;i!==null;)uy(e,n,i),i=i.sibling}function uy(e,n,i){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(fr,i)}catch{}switch(i.tag){case 26:Bn||pi(i,n),Hi(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Bn||pi(i,n);var o=cn,h=Fr;ks(i.type)&&(cn=i.stateNode,Fr=!1),Hi(e,n,i),pu(i.stateNode),cn=o,Fr=h;break;case 5:Bn||pi(i,n);case 6:if(o=cn,h=Fr,cn=null,Hi(e,n,i),cn=o,Fr=h,cn!==null)if(Fr)try{(cn.nodeType===9?cn.body:cn.nodeName==="HTML"?cn.ownerDocument.body:cn).removeChild(i.stateNode)}catch(m){Yt(i,n,m)}else try{cn.removeChild(i.stateNode)}catch(m){Yt(i,n,m)}break;case 18:cn!==null&&(Fr?(e=cn,tv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),dl(e)):tv(cn,i.stateNode));break;case 4:o=cn,h=Fr,cn=i.stateNode.containerInfo,Fr=!0,Hi(e,n,i),cn=o,Fr=h;break;case 0:case 11:case 14:case 15:Cs(2,i,n),Bn||Cs(4,i,n),Hi(e,n,i);break;case 1:Bn||(pi(i,n),o=i.stateNode,typeof o.componentWillUnmount=="function"&&ny(i,n,o)),Hi(e,n,i);break;case 21:Hi(e,n,i);break;case 22:Bn=(o=Bn)||i.memoizedState!==null,Hi(e,n,i),Bn=o;break;default:Hi(e,n,i)}}function cy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{dl(e)}catch(i){Yt(n,n.return,i)}}}function fy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{dl(e)}catch(i){Yt(n,n.return,i)}}function $1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new sy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new sy),n;default:throw Error(s(435,e.tag))}}function Sc(e,n){var i=$1(e);n.forEach(function(o){if(!i.has(o)){i.add(o);var h=ix.bind(null,e,o);o.then(h,h)}})}function Hr(e,n){var i=n.deletions;if(i!==null)for(var o=0;o<i.length;o++){var h=i[o],m=e,w=n,C=w;e:for(;C!==null;){switch(C.tag){case 27:if(ks(C.type)){cn=C.stateNode,Fr=!1;break e}break;case 5:cn=C.stateNode,Fr=!1;break e;case 3:case 4:cn=C.stateNode.containerInfo,Fr=!0;break e}C=C.return}if(cn===null)throw Error(s(160));uy(m,w,h),cn=null,Fr=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)hy(n,e),n=n.sibling}var $a=null;function hy(e,n){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hr(n,e),Kr(e),o&4&&(Cs(3,e,e.return),iu(3,e),Cs(5,e,e.return));break;case 1:Hr(n,e),Kr(e),o&512&&(Bn||i===null||pi(i,i.return)),o&64&&Fi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var h=$a;if(Hr(n,e),Kr(e),o&512&&(Bn||i===null||pi(i,i.return)),o&4){var m=i!==null?i.memoizedState:null;if(o=e.memoizedState,i===null)if(o===null)if(e.stateNode===null){e:{o=e.type,i=e.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":m=h.getElementsByTagName("title")[0],(!m||m[$n]||m[Ht]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(o),h.head.insertBefore(m,h.querySelector("head > title"))),ur(m,o,i),m[Ht]=e,mn(m),o=m;break e;case"link":var w=hv("link","href",h).get(o+(i.href||""));if(w){for(var C=0;C<w.length;C++)if(m=w[C],m.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&m.getAttribute("rel")===(i.rel==null?null:i.rel)&&m.getAttribute("title")===(i.title==null?null:i.title)&&m.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){w.splice(C,1);break t}}m=h.createElement(o),ur(m,o,i),h.head.appendChild(m);break;case"meta":if(w=hv("meta","content",h).get(o+(i.content||""))){for(C=0;C<w.length;C++)if(m=w[C],m.getAttribute("content")===(i.content==null?null:""+i.content)&&m.getAttribute("name")===(i.name==null?null:i.name)&&m.getAttribute("property")===(i.property==null?null:i.property)&&m.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&m.getAttribute("charset")===(i.charSet==null?null:i.charSet)){w.splice(C,1);break t}}m=h.createElement(o),ur(m,o,i),h.head.appendChild(m);break;default:throw Error(s(468,o))}m[Ht]=e,mn(m),o=m}e.stateNode=o}else dv(h,e.type,e.stateNode);else e.stateNode=fv(h,o,e.memoizedProps);else m!==o?(m===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):m.count--,o===null?dv(h,e.type,e.stateNode):fv(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&nd(e,e.memoizedProps,i.memoizedProps)}break;case 27:Hr(n,e),Kr(e),o&512&&(Bn||i===null||pi(i,i.return)),i!==null&&o&4&&nd(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Hr(n,e),Kr(e),o&512&&(Bn||i===null||pi(i,i.return)),e.flags&32){h=e.stateNode;try{ir(h,"")}catch(Ye){Yt(e,e.return,Ye)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,nd(e,h,i!==null?i.memoizedProps:h)),o&1024&&(id=!0);break;case 6:if(Hr(n,e),Kr(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,i=e.stateNode;try{i.nodeValue=o}catch(Ye){Yt(e,e.return,Ye)}}break;case 3:if(Bc=null,h=$a,$a=zc(n.containerInfo),Hr(n,e),$a=h,Kr(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{dl(n.containerInfo)}catch(Ye){Yt(e,e.return,Ye)}id&&(id=!1,dy(e));break;case 4:o=$a,$a=zc(e.stateNode.containerInfo),Hr(n,e),Kr(e),$a=o;break;case 12:Hr(n,e),Kr(e);break;case 31:Hr(n,e),Kr(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Sc(e,o)));break;case 13:Hr(n,e),Kr(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Rc=Xn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Sc(e,o)));break;case 22:h=e.memoizedState!==null;var U=i!==null&&i.memoizedState!==null,fe=Fi,ve=Bn;if(Fi=fe||h,Bn=ve||U,Hr(n,e),Bn=ve,Fi=fe,Kr(e),o&8192)e:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(i===null||U||Fi||Bn||xo(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){U=i=n;try{if(m=U.stateNode,h)w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{C=U.stateNode;var Ee=U.memoizedProps.style,de=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;C.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(Ye){Yt(U,U.return,Ye)}}}else if(n.tag===6){if(i===null){U=n;try{U.stateNode.nodeValue=h?"":U.memoizedProps}catch(Ye){Yt(U,U.return,Ye)}}}else if(n.tag===18){if(i===null){U=n;try{var ge=U.stateNode;h?nv(ge,!0):nv(U.stateNode,!1)}catch(Ye){Yt(U,U.return,Ye)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,Sc(e,i))));break;case 19:Hr(n,e),Kr(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Sc(e,o)));break;case 30:break;case 21:break;default:Hr(n,e),Kr(e)}}function Kr(e){var n=e.flags;if(n&2){try{for(var i,o=e.return;o!==null;){if(ay(o)){i=o;break}o=o.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var h=i.stateNode,m=rd(e);Tc(e,m,h);break;case 5:var w=i.stateNode;i.flags&32&&(ir(w,""),i.flags&=-33);var C=rd(e);Tc(e,C,w);break;case 3:case 4:var U=i.stateNode.containerInfo,fe=rd(e);ad(e,fe,U);break;default:throw Error(s(161))}}catch(ve){Yt(e,e.return,ve)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function dy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;dy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ki(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)oy(e,n.alternate,n),n=n.sibling}function xo(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Cs(4,n,n.return),xo(n);break;case 1:pi(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&ny(n,n.return,i),xo(n);break;case 27:pu(n.stateNode);case 26:case 5:pi(n,n.return),xo(n);break;case 22:n.memoizedState===null&&xo(n);break;case 30:xo(n);break;default:xo(n)}e=e.sibling}}function Gi(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,m=n,w=m.flags;switch(m.tag){case 0:case 11:case 15:Gi(h,m,i),iu(4,m);break;case 1:if(Gi(h,m,i),o=m,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(fe){Yt(o,o.return,fe)}if(o=m,h=o.updateQueue,h!==null){var C=o.stateNode;try{var U=h.shared.hiddenCallbacks;if(U!==null)for(h.shared.hiddenCallbacks=null,h=0;h<U.length;h++)Hp(U[h],C)}catch(fe){Yt(o,o.return,fe)}}i&&w&64&&ty(m),su(m,m.return);break;case 27:iy(m);case 26:case 5:Gi(h,m,i),i&&o===null&&w&4&&ry(m),su(m,m.return);break;case 12:Gi(h,m,i);break;case 31:Gi(h,m,i),i&&w&4&&cy(h,m);break;case 13:Gi(h,m,i),i&&w&4&&fy(h,m);break;case 22:m.memoizedState===null&&Gi(h,m,i),su(m,m.return);break;case 30:break;default:Gi(h,m,i)}n=n.sibling}}function sd(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Gl(i))}function od(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Gl(e))}function Za(e,n,i,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)my(e,n,i,o),n=n.sibling}function my(e,n,i,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Za(e,n,i,o),h&2048&&iu(9,n);break;case 1:Za(e,n,i,o);break;case 3:Za(e,n,i,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Gl(e)));break;case 12:if(h&2048){Za(e,n,i,o),e=n.stateNode;try{var m=n.memoizedProps,w=m.id,C=m.onPostCommit;typeof C=="function"&&C(w,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){Yt(n,n.return,U)}}else Za(e,n,i,o);break;case 31:Za(e,n,i,o);break;case 13:Za(e,n,i,o);break;case 23:break;case 22:m=n.stateNode,w=n.alternate,n.memoizedState!==null?m._visibility&2?Za(e,n,i,o):ou(e,n):m._visibility&2?Za(e,n,i,o):(m._visibility|=2,nl(e,n,i,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&sd(w,n);break;case 24:Za(e,n,i,o),h&2048&&od(n.alternate,n);break;default:Za(e,n,i,o)}}function nl(e,n,i,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,w=n,C=i,U=o,fe=w.flags;switch(w.tag){case 0:case 11:case 15:nl(m,w,C,U,h),iu(8,w);break;case 23:break;case 22:var ve=w.stateNode;w.memoizedState!==null?ve._visibility&2?nl(m,w,C,U,h):ou(m,w):(ve._visibility|=2,nl(m,w,C,U,h)),h&&fe&2048&&sd(w.alternate,w);break;case 24:nl(m,w,C,U,h),h&&fe&2048&&od(w.alternate,w);break;default:nl(m,w,C,U,h)}n=n.sibling}}function ou(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,o=n,h=o.flags;switch(o.tag){case 22:ou(i,o),h&2048&&sd(o.alternate,o);break;case 24:ou(i,o),h&2048&&od(o.alternate,o);break;default:ou(i,o)}n=n.sibling}}var lu=8192;function rl(e,n,i){if(e.subtreeFlags&lu)for(e=e.child;e!==null;)py(e,n,i),e=e.sibling}function py(e,n,i){switch(e.tag){case 26:rl(e,n,i),e.flags&lu&&e.memoizedState!==null&&kx(i,$a,e.memoizedState,e.memoizedProps);break;case 5:rl(e,n,i);break;case 3:case 4:var o=$a;$a=zc(e.stateNode.containerInfo),rl(e,n,i),$a=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=lu,lu=16777216,rl(e,n,i),lu=o):rl(e,n,i));break;default:rl(e,n,i)}}function gy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function uu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];er=o,vy(o,e)}gy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)yy(e),e=e.sibling}function yy(e){switch(e.tag){case 0:case 11:case 15:uu(e),e.flags&2048&&Cs(9,e,e.return);break;case 3:uu(e);break;case 12:uu(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ac(e)):uu(e);break;default:uu(e)}}function Ac(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];er=o,vy(o,e)}gy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Cs(8,n,n.return),Ac(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,Ac(n));break;default:Ac(n)}e=e.sibling}}function vy(e,n){for(;er!==null;){var i=er;switch(i.tag){case 0:case 11:case 15:Cs(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Gl(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,er=o;else e:for(i=e;er!==null;){o=er;var h=o.sibling,m=o.return;if(ly(o),o===i){er=null;break e}if(h!==null){h.return=m,er=h;break e}er=m}}}var Z1={getCacheForType:function(e){var n=or(Ln),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i},cacheSignal:function(){return or(Ln).controller.signal}},J1=typeof WeakMap=="function"?WeakMap:Map,Lt=0,Wt=null,Et=null,Tt=0,Qt=0,da=null,Ds=!1,al=!1,ld=!1,Qi=0,En=0,Is=0,Eo=0,ud=0,ma=0,il=0,cu=null,Gr=null,cd=!1,Rc=0,_y=0,Nc=1/0,Cc=null,js=null,Gn=0,Os=null,sl=null,Yi=0,fd=0,hd=null,by=null,fu=0,dd=null;function pa(){return(Lt&2)!==0&&Tt!==0?Tt&-Tt:$.T!==null?_d():Ai()}function xy(){if(ma===0)if((Tt&536870912)===0||Dt){var e=Ba;Ba<<=1,(Ba&3932160)===0&&(Ba=262144),ma=e}else ma=536870912;return e=fa.current,e!==null&&(e.flags|=32),ma}function Qr(e,n,i){(e===Wt&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(ol(e,0),Ms(e,Tt,ma,!1)),Cr(e,i),((Lt&2)===0||e!==Wt)&&(e===Wt&&((Lt&2)===0&&(Eo|=i),En===4&&Ms(e,Tt,ma,!1)),gi(e))}function Ey(e,n,i){if((Lt&6)!==0)throw Error(s(327));var o=!i&&(n&127)===0&&(n&e.expiredLanes)===0||br(e,n),h=o?tx(e,n):pd(e,n,!0),m=o;do{if(h===0){al&&!o&&Ms(e,n,0,!1);break}else{if(i=e.current.alternate,m&&!W1(i)){h=pd(e,n,!1),m=!1;continue}if(h===2){if(m=n,e.errorRecoveryDisabledLanes&m)var w=0;else w=e.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){n=w;e:{var C=e;h=cu;var U=C.current.memoizedState.isDehydrated;if(U&&(ol(C,w).flags|=256),w=pd(C,w,!1),w!==2){if(ld&&!U){C.errorRecoveryDisabledLanes|=m,Eo|=m,h=4;break e}m=Gr,Gr=h,m!==null&&(Gr===null?Gr=m:Gr.push.apply(Gr,m))}h=w}if(m=!1,h!==2)continue}}if(h===1){ol(e,0),Ms(e,n,0,!0);break}e:{switch(o=e,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ms(o,n,ma,!Ds);break e;case 2:Gr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Rc+300-Xn(),10<h)){if(Ms(o,n,ma,!Ds),Jr(o,0,!0)!==0)break e;Yi=n,o.timeoutHandle=Wy(wy.bind(null,o,i,Gr,Cc,cd,n,ma,Eo,il,Ds,m,"Throttled",-0,0),h);break e}wy(o,i,Gr,Cc,cd,n,ma,Eo,il,Ds,m,null,-0,0)}}break}while(!0);gi(e)}function wy(e,n,i,o,h,m,w,C,U,fe,ve,Ee,de,ge){if(e.timeoutHandle=-1,Ee=n.subtreeFlags,Ee&8192||(Ee&16785408)===16785408){Ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mr},py(n,m,Ee);var Ye=(m&62914560)===m?Rc-Xn():(m&4194048)===m?_y-Xn():0;if(Ye=Px(Ee,Ye),Ye!==null){Yi=m,e.cancelPendingCommit=Ye(Iy.bind(null,e,n,m,i,o,h,w,C,U,ve,Ee,null,de,ge)),Ms(e,m,w,!fe);return}}Iy(e,n,m,i,o,h,w,C,U)}function W1(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var h=i[o],m=h.getSnapshot;h=h.value;try{if(!pr(m(),h))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ms(e,n,i,o){n&=~ud,n&=~Eo,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var m=31-ze(h),w=1<<m;o[m]=-1,h&=~w}i!==0&&ba(e,i,n)}function Dc(){return(Lt&6)===0?(hu(0),!1):!0}function md(){if(Et!==null){if(Qt===0)var e=Et.return;else e=Et,Pi=ho=null,Dh(e),Zo=null,Yl=0,e=Et;for(;e!==null;)ey(e.alternate,e),e=e.return;Et=null}}function ol(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,_x(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Yi=0,md(),Wt=e,Et=i=Vi(e.current,null),Tt=n,Qt=0,da=null,Ds=!1,al=br(e,n),ld=!1,il=ma=ud=Eo=Is=En=0,Gr=cu=null,cd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ze(o),m=1<<h;n|=e[h],o&=~m}return Qi=n,Wn(),i}function Ty(e,n){gt=null,$.H=nu,n===$o||n===ic?(n=Up(),Qt=3):n===vh?(n=Up(),Qt=4):Qt=n===Gh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,da=n,Et===null&&(En=1,_c(e,Da(n,e.current)))}function Sy(){var e=fa.current;return e===null?!0:(Tt&4194048)===Tt?Ma===null:(Tt&62914560)===Tt||(Tt&536870912)!==0?e===Ma:!1}function Ay(){var e=$.H;return $.H=nu,e===null?nu:e}function Ry(){var e=$.A;return $.A=Z1,e}function Ic(){En=4,Ds||(Tt&4194048)!==Tt&&fa.current!==null||(al=!0),(Is&134217727)===0&&(Eo&134217727)===0||Wt===null||Ms(Wt,Tt,ma,!1)}function pd(e,n,i){var o=Lt;Lt|=2;var h=Ay(),m=Ry();(Wt!==e||Tt!==n)&&(Cc=null,ol(e,n)),n=!1;var w=En;e:do try{if(Qt!==0&&Et!==null){var C=Et,U=da;switch(Qt){case 8:md(),w=6;break e;case 3:case 2:case 9:case 6:fa.current===null&&(n=!0);var fe=Qt;if(Qt=0,da=null,ll(e,C,U,fe),i&&al){w=0;break e}break;default:fe=Qt,Qt=0,da=null,ll(e,C,U,fe)}}ex(),w=En;break}catch(ve){Ty(e,ve)}while(!0);return n&&e.shellSuspendCounter++,Pi=ho=null,Lt=o,$.H=h,$.A=m,Et===null&&(Wt=null,Tt=0,Wn()),w}function ex(){for(;Et!==null;)Ny(Et)}function tx(e,n){var i=Lt;Lt|=2;var o=Ay(),h=Ry();Wt!==e||Tt!==n?(Cc=null,Nc=Xn()+500,ol(e,n)):al=br(e,n);e:do try{if(Qt!==0&&Et!==null){n=Et;var m=da;t:switch(Qt){case 1:Qt=0,da=null,ll(e,n,m,1);break;case 2:case 9:if(Lp(m)){Qt=0,da=null,Cy(n);break}n=function(){Qt!==2&&Qt!==9||Wt!==e||(Qt=7),gi(e)},m.then(n,n);break e;case 3:Qt=7;break e;case 4:Qt=5;break e;case 7:Lp(m)?(Qt=0,da=null,Cy(n)):(Qt=0,da=null,ll(e,n,m,7));break;case 5:var w=null;switch(Et.tag){case 26:w=Et.memoizedState;case 5:case 27:var C=Et;if(w?mv(w):C.stateNode.complete){Qt=0,da=null;var U=C.sibling;if(U!==null)Et=U;else{var fe=C.return;fe!==null?(Et=fe,jc(fe)):Et=null}break t}}Qt=0,da=null,ll(e,n,m,5);break;case 6:Qt=0,da=null,ll(e,n,m,6);break;case 8:md(),En=6;break e;default:throw Error(s(462))}}nx();break}catch(ve){Ty(e,ve)}while(!0);return Pi=ho=null,$.H=o,$.A=h,Lt=i,Et!==null?0:(Wt=null,Tt=0,Wn(),En)}function nx(){for(;Et!==null&&!Po();)Ny(Et)}function Ny(e){var n=Jg(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,n===null?jc(e):Et=n}function Cy(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=Gg(i,n,n.pendingProps,n.type,void 0,Tt);break;case 11:n=Gg(i,n,n.pendingProps,n.type.render,n.ref,Tt);break;case 5:Dh(n);default:ey(i,n),n=Et=Rp(n,Qi),n=Jg(i,n,Qi)}e.memoizedProps=e.pendingProps,n===null?jc(e):Et=n}function ll(e,n,i,o){Pi=ho=null,Dh(n),Zo=null,Yl=0;var h=n.return;try{if(H1(e,h,n,i,Tt)){En=1,_c(e,Da(i,e.current)),Et=null;return}}catch(m){if(h!==null)throw Et=h,m;En=1,_c(e,Da(i,e.current)),Et=null;return}n.flags&32768?(Dt||o===1?e=!0:al||(Tt&536870912)!==0?e=!1:(Ds=e=!0,(o===2||o===9||o===3||o===6)&&(o=fa.current,o!==null&&o.tag===13&&(o.flags|=16384))),Dy(n,e)):jc(n)}function jc(e){var n=e;do{if((n.flags&32768)!==0){Dy(n,Ds);return}e=n.return;var i=Q1(n.alternate,n,Qi);if(i!==null){Et=i;return}if(n=n.sibling,n!==null){Et=n;return}Et=n=e}while(n!==null);En===0&&(En=5)}function Dy(e,n){do{var i=Y1(e.alternate,e);if(i!==null){i.flags&=32767,Et=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){Et=e;return}Et=e=i}while(e!==null);En=6,Et=null}function Iy(e,n,i,o,h,m,w,C,U){e.cancelPendingCommit=null;do Oc();while(Gn!==0);if((Lt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(m=n.lanes|n.childLanes,m|=pt,eo(e,i,m,w,C,U),e===Wt&&(Et=Wt=null,Tt=0),sl=n,Os=e,Yi=i,fd=m,hd=h,by=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,sx(va,function(){return ky(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=$.T,$.T=null,h=Se.p,Se.p=2,w=Lt,Lt|=4;try{X1(e,n,i)}finally{Lt=w,Se.p=h,$.T=o}}Gn=1,jy(),Oy(),My()}}function jy(){if(Gn===1){Gn=0;var e=Os,n=sl,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=$.T,$.T=null;var o=Se.p;Se.p=2;var h=Lt;Lt|=4;try{hy(n,e);var m=Rd,w=S(e.containerInfo),C=m.focusedElem,U=m.selectionRange;if(w!==C&&C&&C.ownerDocument&&E(C.ownerDocument.documentElement,C)){if(U!==null&&R(C)){var fe=U.start,ve=U.end;if(ve===void 0&&(ve=fe),"selectionStart"in C)C.selectionStart=fe,C.selectionEnd=Math.min(ve,C.value.length);else{var Ee=C.ownerDocument||document,de=Ee&&Ee.defaultView||window;if(de.getSelection){var ge=de.getSelection(),Ye=C.textContent.length,nt=Math.min(U.start,Ye),Jt=U.end===void 0?nt:Math.min(U.end,Ye);!ge.extend&&nt>Jt&&(w=Jt,Jt=nt,nt=w);var ne=y(C,nt),Q=y(C,Jt);if(ne&&Q&&(ge.rangeCount!==1||ge.anchorNode!==ne.node||ge.anchorOffset!==ne.offset||ge.focusNode!==Q.node||ge.focusOffset!==Q.offset)){var ue=Ee.createRange();ue.setStart(ne.node,ne.offset),ge.removeAllRanges(),nt>Jt?(ge.addRange(ue),ge.extend(Q.node,Q.offset)):(ue.setEnd(Q.node,Q.offset),ge.addRange(ue))}}}}for(Ee=[],ge=C;ge=ge.parentNode;)ge.nodeType===1&&Ee.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<Ee.length;C++){var be=Ee[C];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}Kc=!!Ad,Rd=Ad=null}finally{Lt=h,Se.p=o,$.T=i}}e.current=n,Gn=2}}function Oy(){if(Gn===2){Gn=0;var e=Os,n=sl,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=$.T,$.T=null;var o=Se.p;Se.p=2;var h=Lt;Lt|=4;try{oy(e,n.alternate,n)}finally{Lt=h,Se.p=o,$.T=i}}Gn=3}}function My(){if(Gn===4||Gn===3){Gn=0,ri();var e=Os,n=sl,i=Yi,o=by;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Gn=5:(Gn=0,sl=Os=null,Vy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(js=null),Dr(i),n=n.stateNode,Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(fr,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=$.T,h=Se.p,Se.p=2,$.T=null;try{for(var m=e.onRecoverableError,w=0;w<o.length;w++){var C=o[w];m(C.value,{componentStack:C.stack})}}finally{$.T=n,Se.p=h}}(Yi&3)!==0&&Oc(),gi(e),h=e.pendingLanes,(i&261930)!==0&&(h&42)!==0?e===dd?fu++:(fu=0,dd=e):fu=0,hu(0)}}function Vy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Gl(n)))}function Oc(){return jy(),Oy(),My(),ky()}function ky(){if(Gn!==5)return!1;var e=Os,n=fd;fd=0;var i=Dr(Yi),o=$.T,h=Se.p;try{Se.p=32>i?32:i,$.T=null,i=hd,hd=null;var m=Os,w=Yi;if(Gn=0,sl=Os=null,Yi=0,(Lt&6)!==0)throw Error(s(331));var C=Lt;if(Lt|=4,yy(m.current),my(m,m.current,w,i),Lt=C,hu(0,!1),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(fr,m)}catch{}return!0}finally{Se.p=h,$.T=o,Vy(e,n)}}function Py(e,n,i){n=Da(i,n),n=Kh(e.stateNode,n,2),e=As(e,n,2),e!==null&&(Cr(e,2),gi(e))}function Yt(e,n,i){if(e.tag===3)Py(e,e,i);else for(;n!==null;){if(n.tag===3){Py(n,e,i);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(js===null||!js.has(o))){e=Da(i,e),i=Lg(2),o=As(n,i,2),o!==null&&(zg(i,o,n,e),Cr(o,2),gi(o));break}}n=n.return}}function gd(e,n,i){var o=e.pingCache;if(o===null){o=e.pingCache=new J1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(i)||(ld=!0,h.add(i),e=rx.bind(null,e,n,i),n.then(e,e))}function rx(e,n,i){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Wt===e&&(Tt&i)===i&&(En===4||En===3&&(Tt&62914560)===Tt&&300>Xn()-Rc?(Lt&2)===0&&ol(e,0):ud|=i,il===Tt&&(il=0)),gi(e)}function Ly(e,n){n===0&&(n=Lo()),e=un(e,n),e!==null&&(Cr(e,n),gi(e))}function ax(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Ly(e,i)}function ix(e,n){var i=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Ly(e,i)}function sx(e,n){return Mt(e,n)}var Mc=null,ul=null,yd=!1,Vc=!1,vd=!1,Vs=0;function gi(e){e!==ul&&e.next===null&&(ul===null?Mc=ul=e:ul=ul.next=e),Vc=!0,yd||(yd=!0,lx())}function hu(e,n){if(!vd&&Vc){vd=!0;do for(var i=!1,o=Mc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var m=0;else{var w=o.suspendedLanes,C=o.pingedLanes;m=(1<<31-ze(42|e)+1)-1,m&=h&~(w&~C),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(i=!0,qy(o,m))}else m=Tt,m=Jr(o,o===Wt?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||br(o,m)||(i=!0,qy(o,m));o=o.next}while(i);vd=!1}}function ox(){zy()}function zy(){Vc=yd=!1;var e=0;Vs!==0&&vx()&&(e=Vs);for(var n=Xn(),i=null,o=Mc;o!==null;){var h=o.next,m=Uy(o,n);m===0?(o.next=null,i===null?Mc=h:i.next=h,h===null&&(ul=i)):(i=o,(e!==0||(m&3)!==0)&&(Vc=!0)),o=h}Gn!==0&&Gn!==5||hu(e),Vs!==0&&(Vs=0)}function Uy(e,n){for(var i=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var w=31-ze(m),C=1<<w,U=h[w];U===-1?((C&i)===0||(C&o)!==0)&&(h[w]=zl(C,n)):U<=n&&(e.expiredLanes|=C),m&=~C}if(n=Wt,i=Tt,i=Jr(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,i===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&wn(o),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||br(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(o!==null&&wn(o),Dr(i)){case 2:case 8:i=Zr;break;case 32:i=va;break;case 268435456:i=rs;break;default:i=va}return o=By.bind(null,e),i=Mt(i,o),e.callbackPriority=n,e.callbackNode=i,n}return o!==null&&o!==null&&wn(o),e.callbackPriority=2,e.callbackNode=null,2}function By(e,n){if(Gn!==0&&Gn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Oc()&&e.callbackNode!==i)return null;var o=Tt;return o=Jr(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ey(e,o,n),Uy(e,Xn()),e.callbackNode!=null&&e.callbackNode===i?By.bind(null,e):null)}function qy(e,n){if(Oc())return null;Ey(e,n,!0)}function lx(){bx(function(){(Lt&6)!==0?Mt($r,ox):zy()})}function _d(){if(Vs===0){var e=Yo;e===0&&(e=ke,ke<<=1,(ke&261888)===0&&(ke=256)),Vs=e}return Vs}function Fy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sa(""+e)}function Hy(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function ux(e,n,i,o,h){if(n==="submit"&&i&&i.stateNode===h){var m=Fy((h[nn]||null).action),w=o.submitter;w&&(n=(n=w[nn]||null)?Fy(n.formAction):w.getAttribute("formAction"),n!==null&&(m=n,w=null));var C=new Ta("action","action",null,o,h);e.push({event:C,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Vs!==0){var U=w?Hy(h,w):new FormData(h);zh(i,{pending:!0,data:U,method:h.method,action:m},null,U)}}else typeof m=="function"&&(C.preventDefault(),U=w?Hy(h,w):new FormData(h),zh(i,{pending:!0,data:U,method:h.method,action:m},m,U))},currentTarget:h}]})}}for(var bd=0;bd<Pe.length;bd++){var xd=Pe[bd],cx=xd.toLowerCase(),fx=xd[0].toUpperCase()+xd.slice(1);Ce(cx,"on"+fx)}Ce(se,"onAnimationEnd"),Ce(he,"onAnimationIteration"),Ce(ye,"onAnimationStart"),Ce("dblclick","onDoubleClick"),Ce("focusin","onFocus"),Ce("focusout","onBlur"),Ce(xe,"onTransitionRun"),Ce(Ie,"onTransitionStart"),Ce(Le,"onTransitionCancel"),Ce(Ne,"onTransitionEnd"),Or("onMouseEnter",["mouseout","mouseover"]),Or("onMouseLeave",["mouseout","mouseover"]),Or("onPointerEnter",["pointerout","pointerover"]),Or("onPointerLeave",["pointerout","pointerover"]),jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jr("onBeforeInput",["compositionend","keypress","textInput","paste"]),jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(du));function Ky(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],h=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var w=o.length-1;0<=w;w--){var C=o[w],U=C.instance,fe=C.currentTarget;if(C=C.listener,U!==m&&h.isPropagationStopped())break e;m=C,h.currentTarget=fe;try{m(h)}catch(ve){Ue(ve)}h.currentTarget=null,m=U}else for(w=0;w<o.length;w++){if(C=o[w],U=C.instance,fe=C.currentTarget,C=C.listener,U!==m&&h.isPropagationStopped())break e;m=C,h.currentTarget=fe;try{m(h)}catch(ve){Ue(ve)}h.currentTarget=null,m=U}}}}function wt(e,n){var i=n[qa];i===void 0&&(i=n[qa]=new Set);var o=e+"__bubble";i.has(o)||(Gy(n,e,2,!1),i.add(o))}function Ed(e,n,i){var o=0;n&&(o|=4),Gy(i,e,o,n)}var kc="_reactListening"+Math.random().toString(36).slice(2);function wd(e){if(!e[kc]){e[kc]=!0,xa.forEach(function(i){i!=="selectionchange"&&(hx.has(i)||Ed(i,!1,e),Ed(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[kc]||(n[kc]=!0,Ed("selectionchange",!1,n))}}function Gy(e,n,i,o){switch(xv(n)){case 2:var h=Ux;break;case 8:h=Bx;break;default:h=Ld}i=h.bind(null,n,i,e),h=void 0,!Ci||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,i,{capture:!0,passive:h}):e.addEventListener(n,i,!0):h!==void 0?e.addEventListener(n,i,{passive:h}):e.addEventListener(n,i,!1)}function Td(e,n,i,o,h){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var w=o.tag;if(w===3||w===4){var C=o.stateNode.containerInfo;if(C===h)break;if(w===4)for(w=o.return;w!==null;){var U=w.tag;if((U===3||U===4)&&w.stateNode.containerInfo===h)return;w=w.return}for(;C!==null;){if(w=Ir(C),w===null)return;if(U=w.tag,U===5||U===6||U===26||U===27){o=m=w;continue e}C=C.parentNode}}o=o.return}kr(function(){var fe=m,ve=xr(i),Ee=[];e:{var de=Ve.get(e);if(de!==void 0){var ge=Ta,Ye=e;switch(e){case"keypress":if(Ga(i)===0)break e;case"keydown":case"keyup":ge=ji;break;case"focusin":Ye="focus",ge=Ra;break;case"focusout":Ye="blur",ge=Ra;break;case"beforeblur":case"afterblur":ge=Ra;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Di;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=ao;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=x;break;case se:case he:case ye:ge=io;break;case Ne:ge=D;break;case"scroll":case"scrollend":ge=li;break;case"wheel":ge=me;break;case"copy":case"cut":case"paste":ge=Xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=Na;break;case"toggle":case"beforetoggle":ge=ut}var nt=(n&4)!==0,Jt=!nt&&(e==="scroll"||e==="scrollend"),ne=nt?de!==null?de+"Capture":null:de;nt=[];for(var Q=fe,ue;Q!==null;){var be=Q;if(ue=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||ue===null||ne===null||(be=Er(Q,ne),be!=null&&nt.push(mu(Q,be,ue))),Jt)break;Q=Q.return}0<nt.length&&(de=new ge(de,Ye,null,i,ve),Ee.push({event:de,listeners:nt}))}}if((n&7)===0){e:{if(de=e==="mouseover"||e==="pointerover",ge=e==="mouseout"||e==="pointerout",de&&i!==Vr&&(Ye=i.relatedTarget||i.fromElement)&&(Ir(Ye)||Ye[Kn]))break e;if((ge||de)&&(de=ve.window===ve?ve:(de=ve.ownerDocument)?de.defaultView||de.parentWindow:window,ge?(Ye=i.relatedTarget||i.toElement,ge=fe,Ye=Ye?Ir(Ye):null,Ye!==null&&(Jt=c(Ye),nt=Ye.tag,Ye!==Jt||nt!==5&&nt!==27&&nt!==6)&&(Ye=null)):(ge=null,Ye=fe),ge!==Ye)){if(nt=Di,be="onMouseLeave",ne="onMouseEnter",Q="mouse",(e==="pointerout"||e==="pointerover")&&(nt=Na,be="onPointerLeave",ne="onPointerEnter",Q="pointer"),Jt=ge==null?de:An(ge),ue=Ye==null?de:An(Ye),de=new nt(be,Q+"leave",ge,i,ve),de.target=Jt,de.relatedTarget=ue,be=null,Ir(ve)===fe&&(nt=new nt(ne,Q+"enter",Ye,i,ve),nt.target=ue,nt.relatedTarget=Jt,be=nt),Jt=be,ge&&Ye)t:{for(nt=dx,ne=ge,Q=Ye,ue=0,be=ne;be;be=nt(be))ue++;be=0;for(var et=Q;et;et=nt(et))be++;for(;0<ue-be;)ne=nt(ne),ue--;for(;0<be-ue;)Q=nt(Q),be--;for(;ue--;){if(ne===Q||Q!==null&&ne===Q.alternate){nt=ne;break t}ne=nt(ne),Q=nt(Q)}nt=null}else nt=null;ge!==null&&Qy(Ee,de,ge,nt,!1),Ye!==null&&Jt!==null&&Qy(Ee,Jt,Ye,nt,!0)}}e:{if(de=fe?An(fe):window,ge=de.nodeName&&de.nodeName.toLowerCase(),ge==="select"||ge==="input"&&de.type==="file")var kt=lo;else if(Bo(de))if(Ca)kt=_s;else{kt=Mi;var Xe=Wu}else ge=de.nodeName,!ge||ge.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?fe&&ls(fe.elementType)&&(kt=lo):kt=ql;if(kt&&(kt=kt(e,fe))){Bl(Ee,kt,i,ve);break e}Xe&&Xe(e,de,fe),e==="focusout"&&fe&&de.type==="number"&&fe.memoizedProps.value!=null&&Ni(de,"number",de.value)}switch(Xe=fe?An(fe):window,e){case"focusin":(Bo(Xe)||Xe.contentEditable==="true")&&(L=Xe,F=fe,K=null);break;case"focusout":K=F=L=null;break;case"mousedown":J=!0;break;case"contextmenu":case"mouseup":case"dragend":J=!1,B(Ee,i,ve);break;case"selectionchange":if(I)break;case"keydown":case"keyup":B(Ee,i,ve)}var vt;if(Ct)e:{switch(e){case"compositionstart":var St="onCompositionStart";break e;case"compositionend":St="onCompositionEnd";break e;case"compositionupdate":St="onCompositionUpdate";break e}St=void 0}else Oi?fi(e,i)&&(St="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(St="onCompositionStart");St&&(Br&&i.locale!=="ko"&&(Oi||St!=="onCompositionStart"?St==="onCompositionEnd"&&Oi&&(vt=Ka()):(Pr=ve,us="value"in Pr?Pr.value:Pr.textContent,Oi=!0)),Xe=Pc(fe,St),0<Xe.length&&(St=new Lr(St,e,null,i,ve),Ee.push({event:St,listeners:Xe}),vt?St.data=vt:(vt=gs(i),vt!==null&&(St.data=vt)))),(vt=Ur?$u(e,i):rh(e,i))&&(St=Pc(fe,"onBeforeInput"),0<St.length&&(Xe=new Lr("onBeforeInput","beforeinput",null,i,ve),Ee.push({event:Xe,listeners:St}),Xe.data=vt)),ux(Ee,e,fe,i,ve)}Ky(Ee,n)})}function mu(e,n,i){return{instance:e,listener:n,currentTarget:i}}function Pc(e,n){for(var i=n+"Capture",o=[];e!==null;){var h=e,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Er(e,i),h!=null&&o.unshift(mu(e,h,m)),h=Er(e,n),h!=null&&o.push(mu(e,h,m))),e.tag===3)return o;e=e.return}return[]}function dx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Qy(e,n,i,o,h){for(var m=n._reactName,w=[];i!==null&&i!==o;){var C=i,U=C.alternate,fe=C.stateNode;if(C=C.tag,U!==null&&U===o)break;C!==5&&C!==26&&C!==27||fe===null||(U=fe,h?(fe=Er(i,m),fe!=null&&w.unshift(mu(i,fe,U))):h||(fe=Er(i,m),fe!=null&&w.push(mu(i,fe,U)))),i=i.return}w.length!==0&&e.push({event:n,listeners:w})}var mx=/\r\n?/g,px=/\u0000|\uFFFD/g;function Yy(e){return(typeof e=="string"?e:""+e).replace(mx,`
`).replace(px,"")}function Xy(e,n){return n=Yy(n),Yy(e)===n}function Zt(e,n,i,o,h,m){switch(i){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ir(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ir(e,""+o);break;case"className":dr(e,"class",o);break;case"tabIndex":dr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dr(e,i,o);break;case"style":os(e,o,m);break;case"data":if(n!=="object"){dr(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=sa(""+o),e.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(i==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=sa(""+o),e.setAttribute(i,o);break;case"onClick":o!=null&&(e.onclick=mr);break;case"onScroll":o!=null&&wt("scroll",e);break;case"onScrollEnd":o!=null&&wt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}i=sa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""+o):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":o===!0?e.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,o):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(i,o):e.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(i):e.setAttribute(i,o);break;case"popover":wt("beforetoggle",e),wt("toggle",e),mt(e,"popover",o);break;case"xlinkActuate":pn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":pn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":pn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":pn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":pn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":pn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":pn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":pn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":pn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":mt(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Uo.get(i)||i,mt(e,i,o))}}function Sd(e,n,i,o,h,m){switch(i){case"style":os(e,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof o=="string"?ir(e,o):(typeof o=="number"||typeof o=="bigint")&&ir(e,""+o);break;case"onScroll":o!=null&&wt("scroll",e);break;case"onScrollEnd":o!=null&&wt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=mr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ii.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(h=i.endsWith("Capture"),n=i.slice(2,h?i.length-7:void 0),m=e[nn]||null,m=m!=null?m[i]:null,typeof m=="function"&&e.removeEventListener(n,m,h),typeof o=="function")){typeof m!="function"&&m!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,o,h);break e}i in e?e[i]=o:o===!0?e.setAttribute(i,""):mt(e,i,o)}}}function ur(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",e),wt("load",e);var o=!1,h=!1,m;for(m in i)if(i.hasOwnProperty(m)){var w=i[m];if(w!=null)switch(m){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Zt(e,n,m,w,i,null)}}h&&Zt(e,n,"srcSet",i.srcSet,i,null),o&&Zt(e,n,"src",i.src,i,null);return;case"input":wt("invalid",e);var C=m=w=h=null,U=null,fe=null;for(o in i)if(i.hasOwnProperty(o)){var ve=i[o];if(ve!=null)switch(o){case"name":h=ve;break;case"type":w=ve;break;case"checked":U=ve;break;case"defaultChecked":fe=ve;break;case"value":m=ve;break;case"defaultValue":C=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(s(137,n));break;default:Zt(e,n,o,ve,i,null)}}ss(e,m,C,U,fe,w,h,!1);return;case"select":wt("invalid",e),o=w=m=null;for(h in i)if(i.hasOwnProperty(h)&&(C=i[h],C!=null))switch(h){case"value":m=C;break;case"defaultValue":w=C;break;case"multiple":o=C;default:Zt(e,n,h,C,i,null)}n=m,i=w,e.multiple=!!o,n!=null?aa(e,!!o,n,!1):i!=null&&aa(e,!!o,i,!0);return;case"textarea":wt("invalid",e),m=h=o=null;for(w in i)if(i.hasOwnProperty(w)&&(C=i[w],C!=null))switch(w){case"value":o=C;break;case"defaultValue":h=C;break;case"children":m=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:Zt(e,n,w,C,i,null)}ia(e,o,h,m);return;case"option":for(U in i)if(i.hasOwnProperty(U)&&(o=i[U],o!=null))switch(U){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Zt(e,n,U,o,i,null)}return;case"dialog":wt("beforetoggle",e),wt("toggle",e),wt("cancel",e),wt("close",e);break;case"iframe":case"object":wt("load",e);break;case"video":case"audio":for(o=0;o<du.length;o++)wt(du[o],e);break;case"image":wt("error",e),wt("load",e);break;case"details":wt("toggle",e);break;case"embed":case"source":case"link":wt("error",e),wt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in i)if(i.hasOwnProperty(fe)&&(o=i[fe],o!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Zt(e,n,fe,o,i,null)}return;default:if(ls(n)){for(ve in i)i.hasOwnProperty(ve)&&(o=i[ve],o!==void 0&&Sd(e,n,ve,o,i,void 0));return}}for(C in i)i.hasOwnProperty(C)&&(o=i[C],o!=null&&Zt(e,n,C,o,i,null))}function gx(e,n,i,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,w=null,C=null,U=null,fe=null,ve=null;for(ge in i){var Ee=i[ge];if(i.hasOwnProperty(ge)&&Ee!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":U=Ee;default:o.hasOwnProperty(ge)||Zt(e,n,ge,null,o,Ee)}}for(var de in o){var ge=o[de];if(Ee=i[de],o.hasOwnProperty(de)&&(ge!=null||Ee!=null))switch(de){case"type":m=ge;break;case"name":h=ge;break;case"checked":fe=ge;break;case"defaultChecked":ve=ge;break;case"value":w=ge;break;case"defaultValue":C=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(s(137,n));break;default:ge!==Ee&&Zt(e,n,de,ge,o,Ee)}}ra(e,w,C,U,fe,ve,m,h);return;case"select":ge=w=C=de=null;for(m in i)if(U=i[m],i.hasOwnProperty(m)&&U!=null)switch(m){case"value":break;case"multiple":ge=U;default:o.hasOwnProperty(m)||Zt(e,n,m,null,o,U)}for(h in o)if(m=o[h],U=i[h],o.hasOwnProperty(h)&&(m!=null||U!=null))switch(h){case"value":de=m;break;case"defaultValue":C=m;break;case"multiple":w=m;default:m!==U&&Zt(e,n,h,m,o,U)}n=C,i=w,o=ge,de!=null?aa(e,!!i,de,!1):!!o!=!!i&&(n!=null?aa(e,!!i,n,!0):aa(e,!!i,i?[]:"",!1));return;case"textarea":ge=de=null;for(C in i)if(h=i[C],i.hasOwnProperty(C)&&h!=null&&!o.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Zt(e,n,C,null,o,h)}for(w in o)if(h=o[w],m=i[w],o.hasOwnProperty(w)&&(h!=null||m!=null))switch(w){case"value":de=h;break;case"defaultValue":ge=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&Zt(e,n,w,h,o,m)}ro(e,de,ge);return;case"option":for(var Ye in i)if(de=i[Ye],i.hasOwnProperty(Ye)&&de!=null&&!o.hasOwnProperty(Ye))switch(Ye){case"selected":e.selected=!1;break;default:Zt(e,n,Ye,null,o,de)}for(U in o)if(de=o[U],ge=i[U],o.hasOwnProperty(U)&&de!==ge&&(de!=null||ge!=null))switch(U){case"selected":e.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:Zt(e,n,U,de,o,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nt in i)de=i[nt],i.hasOwnProperty(nt)&&de!=null&&!o.hasOwnProperty(nt)&&Zt(e,n,nt,null,o,de);for(fe in o)if(de=o[fe],ge=i[fe],o.hasOwnProperty(fe)&&de!==ge&&(de!=null||ge!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(s(137,n));break;default:Zt(e,n,fe,de,o,ge)}return;default:if(ls(n)){for(var Jt in i)de=i[Jt],i.hasOwnProperty(Jt)&&de!==void 0&&!o.hasOwnProperty(Jt)&&Sd(e,n,Jt,void 0,o,de);for(ve in o)de=o[ve],ge=i[ve],!o.hasOwnProperty(ve)||de===ge||de===void 0&&ge===void 0||Sd(e,n,ve,de,o,ge);return}}for(var ne in i)de=i[ne],i.hasOwnProperty(ne)&&de!=null&&!o.hasOwnProperty(ne)&&Zt(e,n,ne,null,o,de);for(Ee in o)de=o[Ee],ge=i[Ee],!o.hasOwnProperty(Ee)||de===ge||de==null&&ge==null||Zt(e,n,Ee,de,o,ge)}function $y(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,i=performance.getEntriesByType("resource"),o=0;o<i.length;o++){var h=i[o],m=h.transferSize,w=h.initiatorType,C=h.duration;if(m&&C&&$y(w)){for(w=0,C=h.responseEnd,o+=1;o<i.length;o++){var U=i[o],fe=U.startTime;if(fe>C)break;var ve=U.transferSize,Ee=U.initiatorType;ve&&$y(Ee)&&(U=U.responseEnd,w+=ve*(U<C?1:(C-fe)/(U-fe)))}if(--o,n+=8*(m+w)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ad=null,Rd=null;function Lc(e){return e.nodeType===9?e:e.ownerDocument}function Zy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Nd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Cd=null;function vx(){var e=window.event;return e&&e.type==="popstate"?e===Cd?!1:(Cd=e,!0):(Cd=null,!1)}var Wy=typeof setTimeout=="function"?setTimeout:void 0,_x=typeof clearTimeout=="function"?clearTimeout:void 0,ev=typeof Promise=="function"?Promise:void 0,bx=typeof queueMicrotask=="function"?queueMicrotask:typeof ev<"u"?function(e){return ev.resolve(null).then(e).catch(xx)}:Wy;function xx(e){setTimeout(function(){throw e})}function ks(e){return e==="head"}function tv(e,n){var i=n,o=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"||i==="/&"){if(o===0){e.removeChild(h),dl(n);return}o--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")o++;else if(i==="html")pu(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,pu(i);for(var m=i.firstChild;m;){var w=m.nextSibling,C=m.nodeName;m[$n]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&m.rel.toLowerCase()==="stylesheet"||i.removeChild(m),m=w}}else i==="body"&&pu(e.ownerDocument.body);i=h}while(i);dl(n)}function nv(e,n){var i=e;e=0;do{var o=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=o}while(i)}function Dd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Dd(i),Ri(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Ex(e,n,i,o){for(;e.nodeType===1;){var h=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[$n])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Va(e.nextSibling),e===null)break}return null}function wx(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Va(e.nextSibling),e===null))return null;return e}function rv(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Va(e.nextSibling),e===null))return null;return e}function Id(e){return e.data==="$?"||e.data==="$~"}function jd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Tx(e,n){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||i.readyState!=="loading")n();else{var o=function(){n(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Va(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Od=null;function av(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(n===0)return Va(e.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}e=e.nextSibling}return null}function iv(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return e;n--}else i!=="/$"&&i!=="/&"||n++}e=e.previousSibling}return null}function sv(e,n,i){switch(n=Lc(i),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function pu(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ri(e)}var ka=new Map,ov=new Set;function zc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Xi=Se.d;Se.d={f:Sx,r:Ax,D:Rx,C:Nx,L:Cx,m:Dx,X:jx,S:Ix,M:Ox};function Sx(){var e=Xi.f(),n=Dc();return e||n}function Ax(e){var n=It(e);n!==null&&n.tag===5&&n.type==="form"?Tg(n):Xi.r(e)}var cl=typeof document>"u"?null:document;function lv(e,n,i){var o=cl;if(o&&typeof n=="string"&&n){var h=Vn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof i=="string"&&(h+='[crossorigin="'+i+'"]'),ov.has(h)||(ov.add(h),e={rel:e,crossOrigin:i,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),ur(n,"link",e),mn(n),o.head.appendChild(n)))}}function Rx(e){Xi.D(e),lv("dns-prefetch",e,null)}function Nx(e,n){Xi.C(e,n),lv("preconnect",e,n)}function Cx(e,n,i){Xi.L(e,n,i);var o=cl;if(o&&e&&n){var h='link[rel="preload"][as="'+Vn(n)+'"]';n==="image"&&i&&i.imageSrcSet?(h+='[imagesrcset="'+Vn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(h+='[imagesizes="'+Vn(i.imageSizes)+'"]')):h+='[href="'+Vn(e)+'"]';var m=h;switch(n){case"style":m=fl(e);break;case"script":m=hl(e)}ka.has(m)||(e=N({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),ka.set(m,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(gu(m))||n==="script"&&o.querySelector(yu(m))||(n=o.createElement("link"),ur(n,"link",e),mn(n),o.head.appendChild(n)))}}function Dx(e,n){Xi.m(e,n);var i=cl;if(i&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Vn(o)+'"][href="'+Vn(e)+'"]',m=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=hl(e)}if(!ka.has(m)&&(e=N({rel:"modulepreload",href:e},n),ka.set(m,e),i.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(yu(m)))return}o=i.createElement("link"),ur(o,"link",e),mn(o),i.head.appendChild(o)}}}function Ix(e,n,i){Xi.S(e,n,i);var o=cl;if(o&&e){var h=Mn(o).hoistableStyles,m=fl(e);n=n||"default";var w=h.get(m);if(!w){var C={loading:0,preload:null};if(w=o.querySelector(gu(m)))C.loading=5;else{e=N({rel:"stylesheet",href:e,"data-precedence":n},i),(i=ka.get(m))&&Md(e,i);var U=w=o.createElement("link");mn(U),ur(U,"link",e),U._p=new Promise(function(fe,ve){U.onload=fe,U.onerror=ve}),U.addEventListener("load",function(){C.loading|=1}),U.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Uc(w,n,o)}w={type:"stylesheet",instance:w,count:1,state:C},h.set(m,w)}}}function jx(e,n){Xi.X(e,n);var i=cl;if(i&&e){var o=Mn(i).hoistableScripts,h=hl(e),m=o.get(h);m||(m=i.querySelector(yu(h)),m||(e=N({src:e,async:!0},n),(n=ka.get(h))&&Vd(e,n),m=i.createElement("script"),mn(m),ur(m,"link",e),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function Ox(e,n){Xi.M(e,n);var i=cl;if(i&&e){var o=Mn(i).hoistableScripts,h=hl(e),m=o.get(h);m||(m=i.querySelector(yu(h)),m||(e=N({src:e,async:!0,type:"module"},n),(n=ka.get(h))&&Vd(e,n),m=i.createElement("script"),mn(m),ur(m,"link",e),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function uv(e,n,i,o){var h=(h=$e.current)?zc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=fl(i.href),i=Mn(h).hoistableStyles,o=i.get(n),o||(o={type:"style",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=fl(i.href);var m=Mn(h).hoistableStyles,w=m.get(e);if(w||(h=h.ownerDocument||h,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,w),(m=h.querySelector(gu(e)))&&!m._p&&(w.instance=m,w.state.loading=5),ka.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},ka.set(e,i),m||Mx(h,e,i,w.state))),n&&o===null)throw Error(s(528,""));return w}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=hl(i),i=Mn(h).hoistableScripts,o=i.get(n),o||(o={type:"script",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function fl(e){return'href="'+Vn(e)+'"'}function gu(e){return'link[rel="stylesheet"]['+e+"]"}function cv(e){return N({},e,{"data-precedence":e.precedence,precedence:null})}function Mx(e,n,i,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ur(n,"link",i),mn(n),e.head.appendChild(n))}function hl(e){return'[src="'+Vn(e)+'"]'}function yu(e){return"script[async]"+e}function fv(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+Vn(i.href)+'"]');if(o)return n.instance=o,mn(o),o;var h=N({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),mn(o),ur(o,"style",h),Uc(o,i.precedence,e),n.instance=o;case"stylesheet":h=fl(i.href);var m=e.querySelector(gu(h));if(m)return n.state.loading|=4,n.instance=m,mn(m),m;o=cv(i),(h=ka.get(h))&&Md(o,h),m=(e.ownerDocument||e).createElement("link"),mn(m);var w=m;return w._p=new Promise(function(C,U){w.onload=C,w.onerror=U}),ur(m,"link",o),n.state.loading|=4,Uc(m,i.precedence,e),n.instance=m;case"script":return m=hl(i.src),(h=e.querySelector(yu(m)))?(n.instance=h,mn(h),h):(o=i,(h=ka.get(m))&&(o=N({},i),Vd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),mn(h),ur(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Uc(o,i.precedence,e));return n.instance}function Uc(e,n,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,m=h,w=0;w<o.length;w++){var C=o[w];if(C.dataset.precedence===n)m=C;else if(m!==h)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function Md(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Bc=null;function hv(e,n,i){if(Bc===null){var o=new Map,h=Bc=new Map;h.set(i,o)}else h=Bc,o=h.get(i),o||(o=new Map,h.set(i,o));if(o.has(e))return o;for(o.set(e,null),i=i.getElementsByTagName(e),h=0;h<i.length;h++){var m=i[h];if(!(m[$n]||m[Ht]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var w=m.getAttribute(n)||"";w=e+w;var C=o.get(w);C?C.push(m):o.set(w,[m])}}return o}function dv(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function Vx(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function mv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function kx(e,n,i,o){if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=fl(o.href),m=n.querySelector(gu(h));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=qc.bind(e),n.then(e,e)),i.state.loading|=4,i.instance=m,mn(m);return}m=n.ownerDocument||n,o=cv(o),(h=ka.get(h))&&Md(o,h),m=m.createElement("link"),mn(m);var w=m;w._p=new Promise(function(C,U){w.onload=C,w.onerror=U}),ur(m,"link",o),i.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=qc.bind(e),n.addEventListener("load",i),n.addEventListener("error",i))}}var kd=0;function Px(e,n){return e.stylesheets&&e.count===0&&Hc(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var o=setTimeout(function(){if(e.stylesheets&&Hc(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&kd===0&&(kd=62500*yx());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Hc(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>kd?50:800)+n);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fc=null;function Hc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fc=new Map,n.forEach(Lx,e),Fc=null,qc.call(e))}function Lx(e,n){if(!(n.state.loading&4)){var i=Fc.get(e);if(i)var o=i.get(null);else{i=new Map,Fc.set(e,i);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var w=h[m];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(i.set(w.dataset.precedence,w),o=w)}o&&i.set(null,o)}h=n.instance,w=h.getAttribute("data-precedence"),m=i.get(w)||o,m===o&&i.set(null,h),i.set(w,h),this.count++,o=qc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),m?m.parentNode.insertBefore(h,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var vu={$$typeof:pe,Provider:null,Consumer:null,_currentValue:Ae,_currentValue2:Ae,_threadCount:0};function zx(e,n,i,o,h,m,w,C,U){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ar(0),this.hiddenUpdates=ar(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function pv(e,n,i,o,h,m,w,C,U,fe,ve,Ee){return e=new zx(e,n,i,w,U,fe,ve,Ee,C),n=1,m===!0&&(n|=24),m=ca(3,null,null,n),e.current=m,m.stateNode=e,n=ph(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:i,cache:n},_h(m),e}function gv(e){return e?(e=qr,e):qr}function yv(e,n,i,o,h,m){h=gv(h),o.context===null?o.context=h:o.pendingContext=h,o=Ss(n),o.payload={element:i},m=m===void 0?null:m,m!==null&&(o.callback=m),i=As(e,o,n),i!==null&&(Qr(i,e,n),$l(i,e,n))}function vv(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Pd(e,n){vv(e,n),(e=e.alternate)&&vv(e,n)}function _v(e){if(e.tag===13||e.tag===31){var n=un(e,67108864);n!==null&&Qr(n,e,67108864),Pd(e,67108864)}}function bv(e){if(e.tag===13||e.tag===31){var n=pa();n=Si(n);var i=un(e,n);i!==null&&Qr(i,e,n),Pd(e,n)}}var Kc=!0;function Ux(e,n,i,o){var h=$.T;$.T=null;var m=Se.p;try{Se.p=2,Ld(e,n,i,o)}finally{Se.p=m,$.T=h}}function Bx(e,n,i,o){var h=$.T;$.T=null;var m=Se.p;try{Se.p=8,Ld(e,n,i,o)}finally{Se.p=m,$.T=h}}function Ld(e,n,i,o){if(Kc){var h=zd(o);if(h===null)Td(e,n,o,Gc,i),Ev(e,o);else if(Fx(h,e,n,i,o))o.stopPropagation();else if(Ev(e,o),n&4&&-1<qx.indexOf(e)){for(;h!==null;){var m=It(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var w=Nr(m.pendingLanes);if(w!==0){var C=m;for(C.pendingLanes|=2,C.entangledLanes|=2;w;){var U=1<<31-ze(w);C.entanglements[1]|=U,w&=~U}gi(m),(Lt&6)===0&&(Nc=Xn()+500,hu(0))}}break;case 31:case 13:C=un(m,2),C!==null&&Qr(C,m,2),Dc(),Pd(m,2)}if(m=zd(o),m===null&&Td(e,n,o,Gc,i),m===h)break;h=m}h!==null&&o.stopPropagation()}else Td(e,n,o,null,i)}}function zd(e){return e=xr(e),Ud(e)}var Gc=null;function Ud(e){if(Gc=null,e=Ir(e),e!==null){var n=c(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=p(n),e!==null)return e;e=null}else if(i===31){if(e=_(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Gc=e,null}function xv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xr()){case $r:return 2;case Zr:return 8;case va:case Ei:return 32;case rs:return 268435456;default:return 32}default:return 32}}var Bd=!1,Ps=null,Ls=null,zs=null,_u=new Map,bu=new Map,Us=[],qx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ev(e,n){switch(e){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":_u.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bu.delete(n.pointerId)}}function xu(e,n,i,o,h,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:i,eventSystemFlags:o,nativeEvent:m,targetContainers:[h]},n!==null&&(n=It(n),n!==null&&_v(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Fx(e,n,i,o,h){switch(n){case"focusin":return Ps=xu(Ps,e,n,i,o,h),!0;case"dragenter":return Ls=xu(Ls,e,n,i,o,h),!0;case"mouseover":return zs=xu(zs,e,n,i,o,h),!0;case"pointerover":var m=h.pointerId;return _u.set(m,xu(_u.get(m)||null,e,n,i,o,h)),!0;case"gotpointercapture":return m=h.pointerId,bu.set(m,xu(bu.get(m)||null,e,n,i,o,h)),!0}return!1}function wv(e){var n=Ir(e.target);if(n!==null){var i=c(n);if(i!==null){if(n=i.tag,n===13){if(n=p(i),n!==null){e.blockedOn=n,hr(e.priority,function(){bv(i)});return}}else if(n===31){if(n=_(i),n!==null){e.blockedOn=n,hr(e.priority,function(){bv(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=zd(e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);Vr=o,i.target.dispatchEvent(o),Vr=null}else return n=It(i),n!==null&&_v(n),e.blockedOn=i,!1;n.shift()}return!0}function Tv(e,n,i){Qc(e)&&i.delete(n)}function Hx(){Bd=!1,Ps!==null&&Qc(Ps)&&(Ps=null),Ls!==null&&Qc(Ls)&&(Ls=null),zs!==null&&Qc(zs)&&(zs=null),_u.forEach(Tv),bu.forEach(Tv)}function Yc(e,n){e.blockedOn===n&&(e.blockedOn=null,Bd||(Bd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Hx)))}var Xc=null;function Sv(e){Xc!==e&&(Xc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Xc===e&&(Xc=null);for(var n=0;n<e.length;n+=3){var i=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Ud(o||i)===null)continue;break}var m=It(i);m!==null&&(e.splice(n,3),n-=3,zh(m,{pending:!0,data:h,method:i.method,action:o},o,h))}}))}function dl(e){function n(U){return Yc(U,e)}Ps!==null&&Yc(Ps,e),Ls!==null&&Yc(Ls,e),zs!==null&&Yc(zs,e),_u.forEach(n),bu.forEach(n);for(var i=0;i<Us.length;i++){var o=Us[i];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Us.length&&(i=Us[0],i.blockedOn===null);)wv(i),i.blockedOn===null&&Us.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var h=i[o],m=i[o+1],w=h[nn]||null;if(typeof m=="function")w||Sv(i);else if(w){var C=null;if(m&&m.hasAttribute("formAction")){if(h=m,w=m[nn]||null)C=w.formAction;else if(Ud(h)!==null)continue}else C=w.action;typeof C=="function"?i[o+1]=C:(i.splice(o,3),o-=3),Sv(i)}}}function Av(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(w){return h=w})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(i,20)}function i(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function qd(e){this._internalRoot=e}$c.prototype.render=qd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var i=n.current,o=pa();yv(i,o,e,n,null,null)},$c.prototype.unmount=qd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;yv(e.current,2,null,e,null,null),Dc(),n[Kn]=null}};function $c(e){this._internalRoot=e}$c.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ai();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Us.length&&n!==0&&n<Us[i].priority;i++);Us.splice(i,0,e),i===0&&wv(e)}};var Rv=t.version;if(Rv!=="19.2.0")throw Error(s(527,Rv,"19.2.0"));Se.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=v(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var Kx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{fr=Zc.inject(Kx),Tn=Zc}catch{}}return wu.createRoot=function(e,n){if(!l(e))throw Error(s(299));var i=!1,o="",h=Mg,m=Vg,w=kg;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(w=n.onRecoverableError)),n=pv(e,1,!1,null,null,i,o,null,h,m,w,Av),e[Kn]=n.current,wd(e),new qd(n)},wu.hydrateRoot=function(e,n,i){if(!l(e))throw Error(s(299));var o=!1,h="",m=Mg,w=Vg,C=kg,U=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(w=i.onCaughtError),i.onRecoverableError!==void 0&&(C=i.onRecoverableError),i.formState!==void 0&&(U=i.formState)),n=pv(e,1,!0,n,i??null,o,h,U,m,w,C,Av),n.context=gv(null),i=n.current,o=pa(),o=Si(o),h=Ss(o),h.callback=null,As(i,h,o),i=o,n.current.lanes=i,Cr(n,i),gi(n),e[Kn]=n.current,wd(e),new $c(n)},wu.version="19.2.0",wu}var Pv;function nE(){if(Pv)return Kd.exports;Pv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Kd.exports=tE(),Kd.exports}var rE=nE();const aE=Im(rE);var Lv="popstate";function iE(a={}){function t(s,l){let{pathname:c,search:p,hash:_}=s.location;return sm("",{pathname:c,search:p,hash:_},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(s,l){return typeof l=="string"?l:Mu(l)}return oE(t,r,null,a)}function fn(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function za(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function sE(){return Math.random().toString(36).substring(2,10)}function zv(a,t){return{usr:a.state,key:a.key,idx:t}}function sm(a,t,r=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof t=="string"?Dl(t):t,state:r,key:t&&t.key||s||sE()}}function Mu({pathname:a="/",search:t="",hash:r=""}){return t&&t!=="?"&&(a+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(a+=r.charAt(0)==="#"?r:"#"+r),a}function Dl(a){let t={};if(a){let r=a.indexOf("#");r>=0&&(t.hash=a.substring(r),a=a.substring(0,r));let s=a.indexOf("?");s>=0&&(t.search=a.substring(s),a=a.substring(0,s)),a&&(t.pathname=a)}return t}function oE(a,t,r,s={}){let{window:l=document.defaultView,v5Compat:c=!1}=s,p=l.history,_="POP",b=null,v=A();v==null&&(v=0,p.replaceState({...p.state,idx:v},""));function A(){return(p.state||{idx:null}).idx}function N(){_="POP";let ee=A(),ce=ee==null?null:ee-v;v=ee,b&&b({action:_,location:oe.location,delta:ce})}function O(ee,ce){_="PUSH";let re=sm(oe.location,ee,ce);v=A()+1;let pe=zv(re,v),De=oe.createHref(re);try{p.pushState(pe,"",De)}catch(Ke){if(Ke instanceof DOMException&&Ke.name==="DataCloneError")throw Ke;l.location.assign(De)}c&&b&&b({action:_,location:oe.location,delta:1})}function H(ee,ce){_="REPLACE";let re=sm(oe.location,ee,ce);v=A();let pe=zv(re,v),De=oe.createHref(re);p.replaceState(pe,"",De),c&&b&&b({action:_,location:oe.location,delta:0})}function le(ee){return lE(ee)}let oe={get action(){return _},get location(){return a(l,p)},listen(ee){if(b)throw new Error("A history only accepts one active listener");return l.addEventListener(Lv,N),b=ee,()=>{l.removeEventListener(Lv,N),b=null}},createHref(ee){return t(l,ee)},createURL:le,encodeLocation(ee){let ce=le(ee);return{pathname:ce.pathname,search:ce.search,hash:ce.hash}},push:O,replace:H,go(ee){return p.go(ee)}};return oe}function lE(a,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),fn(r,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:Mu(a);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function d_(a,t,r="/"){return uE(a,t,r,!1)}function uE(a,t,r,s){let l=typeof t=="string"?Dl(t):t,c=Ji(l.pathname||"/",r);if(c==null)return null;let p=m_(a);cE(p);let _=null;for(let b=0;_==null&&b<p.length;++b){let v=xE(c);_=_E(p[b],v,s)}return _}function m_(a,t=[],r=[],s="",l=!1){let c=(p,_,b=l,v)=>{let A={relativePath:v===void 0?p.path||"":v,caseSensitive:p.caseSensitive===!0,childrenIndex:_,route:p};if(A.relativePath.startsWith("/")){if(!A.relativePath.startsWith(s)&&b)return;fn(A.relativePath.startsWith(s),`Absolute route path "${A.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),A.relativePath=A.relativePath.slice(s.length)}let N=$i([s,A.relativePath]),O=r.concat(A);p.children&&p.children.length>0&&(fn(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${N}".`),m_(p.children,t,O,N,b)),!(p.path==null&&!p.index)&&t.push({path:N,score:yE(N,p.index),routesMeta:O})};return a.forEach((p,_)=>{if(p.path===""||!p.path?.includes("?"))c(p,_);else for(let b of p_(p.path))c(p,_,!0,b)}),t}function p_(a){let t=a.split("/");if(t.length===0)return[];let[r,...s]=t,l=r.endsWith("?"),c=r.replace(/\?$/,"");if(s.length===0)return l?[c,""]:[c];let p=p_(s.join("/")),_=[];return _.push(...p.map(b=>b===""?c:[c,b].join("/"))),l&&_.push(...p),_.map(b=>a.startsWith("/")&&b===""?"/":b)}function cE(a){a.sort((t,r)=>t.score!==r.score?r.score-t.score:vE(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var fE=/^:[\w-]+$/,hE=3,dE=2,mE=1,pE=10,gE=-2,Uv=a=>a==="*";function yE(a,t){let r=a.split("/"),s=r.length;return r.some(Uv)&&(s+=gE),t&&(s+=dE),r.filter(l=>!Uv(l)).reduce((l,c)=>l+(fE.test(c)?hE:c===""?mE:pE),s)}function vE(a,t){return a.length===t.length&&a.slice(0,-1).every((s,l)=>s===t[l])?a[a.length-1]-t[t.length-1]:0}function _E(a,t,r=!1){let{routesMeta:s}=a,l={},c="/",p=[];for(let _=0;_<s.length;++_){let b=s[_],v=_===s.length-1,A=c==="/"?t:t.slice(c.length)||"/",N=pf({path:b.relativePath,caseSensitive:b.caseSensitive,end:v},A),O=b.route;if(!N&&v&&r&&!s[s.length-1].route.index&&(N=pf({path:b.relativePath,caseSensitive:b.caseSensitive,end:!1},A)),!N)return null;Object.assign(l,N.params),p.push({params:l,pathname:$i([c,N.pathname]),pathnameBase:AE($i([c,N.pathnameBase])),route:O}),N.pathnameBase!=="/"&&(c=$i([c,N.pathnameBase]))}return p}function pf(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[r,s]=bE(a.path,a.caseSensitive,a.end),l=t.match(r);if(!l)return null;let c=l[0],p=c.replace(/(.)\/+$/,"$1"),_=l.slice(1);return{params:s.reduce((v,{paramName:A,isOptional:N},O)=>{if(A==="*"){let le=_[O]||"";p=c.slice(0,c.length-le.length).replace(/(.)\/+$/,"$1")}const H=_[O];return N&&!H?v[A]=void 0:v[A]=(H||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:p,pattern:a}}function bE(a,t=!1,r=!0){za(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],l="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,_,b)=>(s.push({paramName:_,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(s.push({paramName:"*"}),l+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":a!==""&&a!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function xE(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return za(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),a}}function Ji(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=a.charAt(r);return s&&s!=="/"?null:a.slice(r)||"/"}var EE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wE=a=>EE.test(a);function TE(a,t="/"){let{pathname:r,search:s="",hash:l=""}=typeof a=="string"?Dl(a):a,c;if(r)if(wE(r))c=r;else{if(r.includes("//")){let p=r;r=r.replace(/\/\/+/g,"/"),za(!1,`Pathnames cannot have embedded double slashes - normalizing ${p} -> ${r}`)}r.startsWith("/")?c=Bv(r.substring(1),"/"):c=Bv(r,t)}else c=t;return{pathname:c,search:RE(s),hash:NE(l)}}function Bv(a,t){let r=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function Xd(a,t,r,s){return`Cannot include a '${a}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SE(a){return a.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function jm(a){let t=SE(a);return t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase)}function Om(a,t,r,s=!1){let l;typeof a=="string"?l=Dl(a):(l={...a},fn(!l.pathname||!l.pathname.includes("?"),Xd("?","pathname","search",l)),fn(!l.pathname||!l.pathname.includes("#"),Xd("#","pathname","hash",l)),fn(!l.search||!l.search.includes("#"),Xd("#","search","hash",l)));let c=a===""||l.pathname==="",p=c?"/":l.pathname,_;if(p==null)_=r;else{let N=t.length-1;if(!s&&p.startsWith("..")){let O=p.split("/");for(;O[0]==="..";)O.shift(),N-=1;l.pathname=O.join("/")}_=N>=0?t[N]:"/"}let b=TE(l,_),v=p&&p!=="/"&&p.endsWith("/"),A=(c||p===".")&&r.endsWith("/");return!b.pathname.endsWith("/")&&(v||A)&&(b.pathname+="/"),b}var $i=a=>a.join("/").replace(/\/\/+/g,"/"),AE=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),RE=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,NE=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function CE(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var g_=["POST","PUT","PATCH","DELETE"];new Set(g_);var DE=["GET",...g_];new Set(DE);var Il=ae.createContext(null);Il.displayName="DataRouter";var Vf=ae.createContext(null);Vf.displayName="DataRouterState";ae.createContext(!1);var y_=ae.createContext({isTransitioning:!1});y_.displayName="ViewTransition";var IE=ae.createContext(new Map);IE.displayName="Fetchers";var jE=ae.createContext(null);jE.displayName="Await";var ni=ae.createContext(null);ni.displayName="Navigation";var qu=ae.createContext(null);qu.displayName="Location";var Ua=ae.createContext({outlet:null,matches:[],isDataRoute:!1});Ua.displayName="Route";var Mm=ae.createContext(null);Mm.displayName="RouteError";function OE(a,{relative:t}={}){fn(jl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=ae.useContext(ni),{hash:l,pathname:c,search:p}=Fu(a,{relative:t}),_=c;return r!=="/"&&(_=c==="/"?r:$i([r,c])),s.createHref({pathname:_,search:p,hash:l})}function jl(){return ae.useContext(qu)!=null}function ns(){return fn(jl(),"useLocation() may be used only in the context of a <Router> component."),ae.useContext(qu).location}var v_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function __(a){ae.useContext(ni).static||ae.useLayoutEffect(a)}function Ol(){let{isDataRoute:a}=ae.useContext(Ua);return a?XE():ME()}function ME(){fn(jl(),"useNavigate() may be used only in the context of a <Router> component.");let a=ae.useContext(Il),{basename:t,navigator:r}=ae.useContext(ni),{matches:s}=ae.useContext(Ua),{pathname:l}=ns(),c=JSON.stringify(jm(s)),p=ae.useRef(!1);return __(()=>{p.current=!0}),ae.useCallback((b,v={})=>{if(za(p.current,v_),!p.current)return;if(typeof b=="number"){r.go(b);return}let A=Om(b,JSON.parse(c),l,v.relative==="path");a==null&&t!=="/"&&(A.pathname=A.pathname==="/"?t:$i([t,A.pathname])),(v.replace?r.replace:r.push)(A,v.state,v)},[t,r,c,l,a])}var VE=ae.createContext(null);function kE(a){let t=ae.useContext(Ua).outlet;return ae.useMemo(()=>t&&ae.createElement(VE.Provider,{value:a},t),[t,a])}function PE(){let{matches:a}=ae.useContext(Ua),t=a[a.length-1];return t?t.params:{}}function Fu(a,{relative:t}={}){let{matches:r}=ae.useContext(Ua),{pathname:s}=ns(),l=JSON.stringify(jm(r));return ae.useMemo(()=>Om(a,JSON.parse(l),s,t==="path"),[a,l,s,t])}function LE(a,t){return b_(a,t)}function b_(a,t,r,s,l){fn(jl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=ae.useContext(ni),{matches:p}=ae.useContext(Ua),_=p[p.length-1],b=_?_.params:{},v=_?_.pathname:"/",A=_?_.pathnameBase:"/",N=_&&_.route;{let re=N&&N.path||"";x_(v,!N||re.endsWith("*")||re.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${re}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${re}"> to <Route path="${re==="/"?"*":`${re}/*`}">.`)}let O=ns(),H;if(t){let re=typeof t=="string"?Dl(t):t;fn(A==="/"||re.pathname?.startsWith(A),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${A}" but pathname "${re.pathname}" was given in the \`location\` prop.`),H=re}else H=O;let le=H.pathname||"/",oe=le;if(A!=="/"){let re=A.replace(/^\//,"").split("/");oe="/"+le.replace(/^\//,"").split("/").slice(re.length).join("/")}let ee=d_(a,{pathname:oe});za(N||ee!=null,`No routes matched location "${H.pathname}${H.search}${H.hash}" `),za(ee==null||ee[ee.length-1].route.element!==void 0||ee[ee.length-1].route.Component!==void 0||ee[ee.length-1].route.lazy!==void 0,`Matched leaf route at location "${H.pathname}${H.search}${H.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ce=FE(ee&&ee.map(re=>Object.assign({},re,{params:Object.assign({},b,re.params),pathname:$i([A,c.encodeLocation?c.encodeLocation(re.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathname]),pathnameBase:re.pathnameBase==="/"?A:$i([A,c.encodeLocation?c.encodeLocation(re.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathnameBase])})),p,r,s,l);return t&&ce?ae.createElement(qu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...H},navigationType:"POP"}},ce):ce}function zE(){let a=YE(),t=CE(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),r=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},p=null;return console.error("Error handled by React Router default ErrorBoundary:",a),p=ae.createElement(ae.Fragment,null,ae.createElement("p",null," Hey developer "),ae.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ae.createElement("code",{style:c},"ErrorBoundary")," or"," ",ae.createElement("code",{style:c},"errorElement")," prop on your route.")),ae.createElement(ae.Fragment,null,ae.createElement("h2",null,"Unexpected Application Error!"),ae.createElement("h3",{style:{fontStyle:"italic"}},t),r?ae.createElement("pre",{style:l},r):null,p)}var UE=ae.createElement(zE,null),BE=class extends ae.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,t){return t.location!==a.location||t.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:t.error,location:t.location,revalidation:a.revalidation||t.revalidation}}componentDidCatch(a,t){this.props.onError?this.props.onError(a,t):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?ae.createElement(Ua.Provider,{value:this.props.routeContext},ae.createElement(Mm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qE({routeContext:a,match:t,children:r}){let s=ae.useContext(Il);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),ae.createElement(Ua.Provider,{value:a},r)}function FE(a,t=[],r=null,s=null,l=null){if(a==null){if(!r)return null;if(r.errors)a=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)a=r.matches;else return null}let c=a,p=r?.errors;if(p!=null){let A=c.findIndex(N=>N.route.id&&p?.[N.route.id]!==void 0);fn(A>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),c=c.slice(0,Math.min(c.length,A+1))}let _=!1,b=-1;if(r)for(let A=0;A<c.length;A++){let N=c[A];if((N.route.HydrateFallback||N.route.hydrateFallbackElement)&&(b=A),N.route.id){let{loaderData:O,errors:H}=r,le=N.route.loader&&!O.hasOwnProperty(N.route.id)&&(!H||H[N.route.id]===void 0);if(N.route.lazy||le){_=!0,b>=0?c=c.slice(0,b+1):c=[c[0]];break}}}let v=r&&s?(A,N)=>{s(A,{location:r.location,params:r.matches?.[0]?.params??{},errorInfo:N})}:void 0;return c.reduceRight((A,N,O)=>{let H,le=!1,oe=null,ee=null;r&&(H=p&&N.route.id?p[N.route.id]:void 0,oe=N.route.errorElement||UE,_&&(b<0&&O===0?(x_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),le=!0,ee=null):b===O&&(le=!0,ee=N.route.hydrateFallbackElement||null)));let ce=t.concat(c.slice(0,O+1)),re=()=>{let pe;return H?pe=oe:le?pe=ee:N.route.Component?pe=ae.createElement(N.route.Component,null):N.route.element?pe=N.route.element:pe=A,ae.createElement(qE,{match:N,routeContext:{outlet:A,matches:ce,isDataRoute:r!=null},children:pe})};return r&&(N.route.ErrorBoundary||N.route.errorElement||O===0)?ae.createElement(BE,{location:r.location,revalidation:r.revalidation,component:oe,error:H,children:re(),routeContext:{outlet:null,matches:ce,isDataRoute:!0},onError:v}):re()},null)}function Vm(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HE(a){let t=ae.useContext(Il);return fn(t,Vm(a)),t}function KE(a){let t=ae.useContext(Vf);return fn(t,Vm(a)),t}function GE(a){let t=ae.useContext(Ua);return fn(t,Vm(a)),t}function km(a){let t=GE(a),r=t.matches[t.matches.length-1];return fn(r.route.id,`${a} can only be used on routes that contain a unique "id"`),r.route.id}function QE(){return km("useRouteId")}function YE(){let a=ae.useContext(Mm),t=KE("useRouteError"),r=km("useRouteError");return a!==void 0?a:t.errors?.[r]}function XE(){let{router:a}=HE("useNavigate"),t=km("useNavigate"),r=ae.useRef(!1);return __(()=>{r.current=!0}),ae.useCallback(async(l,c={})=>{za(r.current,v_),r.current&&(typeof l=="number"?a.navigate(l):await a.navigate(l,{fromRouteId:t,...c}))},[a,t])}var qv={};function x_(a,t,r){!t&&!qv[a]&&(qv[a]=!0,za(!1,r))}ae.memo($E);function $E({routes:a,future:t,state:r,unstable_onError:s}){return b_(a,void 0,r,s,t)}function ZE({to:a,replace:t,state:r,relative:s}){fn(jl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=ae.useContext(ni);za(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=ae.useContext(Ua),{pathname:p}=ns(),_=Ol(),b=Om(a,jm(c),p,s==="path"),v=JSON.stringify(b);return ae.useEffect(()=>{_(JSON.parse(v),{replace:t,state:r,relative:s})},[_,v,s,t,r]),null}function E_(a){return kE(a.context)}function ga(a){fn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JE({basename:a="/",children:t=null,location:r,navigationType:s="POP",navigator:l,static:c=!1}){fn(!jl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=a.replace(/^\/*/,"/"),_=ae.useMemo(()=>({basename:p,navigator:l,static:c,future:{}}),[p,l,c]);typeof r=="string"&&(r=Dl(r));let{pathname:b="/",search:v="",hash:A="",state:N=null,key:O="default"}=r,H=ae.useMemo(()=>{let le=Ji(b,p);return le==null?null:{location:{pathname:le,search:v,hash:A,state:N,key:O},navigationType:s}},[p,b,v,A,N,O,s]);return za(H!=null,`<Router basename="${p}"> is not able to match the URL "${b}${v}${A}" because it does not start with the basename, so the <Router> won't render anything.`),H==null?null:ae.createElement(ni.Provider,{value:_},ae.createElement(qu.Provider,{children:t,value:H}))}function WE({children:a,location:t}){return LE(om(a),t)}function om(a,t=[]){let r=[];return ae.Children.forEach(a,(s,l)=>{if(!ae.isValidElement(s))return;let c=[...t,l];if(s.type===ae.Fragment){r.push.apply(r,om(s.props.children,c));return}fn(s.type===ga,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fn(!s.props.index||!s.props.children,"An index route cannot have child routes.");let p={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(p.children=om(s.props.children,c)),r.push(p)}),r}var af="get",sf="application/x-www-form-urlencoded";function kf(a){return a!=null&&typeof a.tagName=="string"}function ew(a){return kf(a)&&a.tagName.toLowerCase()==="button"}function tw(a){return kf(a)&&a.tagName.toLowerCase()==="form"}function nw(a){return kf(a)&&a.tagName.toLowerCase()==="input"}function rw(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function aw(a,t){return a.button===0&&(!t||t==="_self")&&!rw(a)}var Jc=null;function iw(){if(Jc===null)try{new FormData(document.createElement("form"),0),Jc=!1}catch{Jc=!0}return Jc}var sw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $d(a){return a!=null&&!sw.has(a)?(za(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sf}"`),null):a}function ow(a,t){let r,s,l,c,p;if(tw(a)){let _=a.getAttribute("action");s=_?Ji(_,t):null,r=a.getAttribute("method")||af,l=$d(a.getAttribute("enctype"))||sf,c=new FormData(a)}else if(ew(a)||nw(a)&&(a.type==="submit"||a.type==="image")){let _=a.form;if(_==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let b=a.getAttribute("formaction")||_.getAttribute("action");if(s=b?Ji(b,t):null,r=a.getAttribute("formmethod")||_.getAttribute("method")||af,l=$d(a.getAttribute("formenctype"))||$d(_.getAttribute("enctype"))||sf,c=new FormData(_,a),!iw()){let{name:v,type:A,value:N}=a;if(A==="image"){let O=v?`${v}.`:"";c.append(`${O}x`,"0"),c.append(`${O}y`,"0")}else v&&c.append(v,N)}}else{if(kf(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=af,s=null,l=sf,p=a}return c&&l==="text/plain"&&(p=c,c=void 0),{action:s,method:r.toLowerCase(),encType:l,formData:c,body:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pm(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function lw(a,t,r){let s=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return s.pathname==="/"?s.pathname=`_root.${r}`:t&&Ji(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function uw(a,t){if(a.id in t)return t[a.id];try{let r=await import(a.module);return t[a.id]=r,r}catch(r){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cw(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function fw(a,t,r){let s=await Promise.all(a.map(async l=>{let c=t.routes[l.route.id];if(c){let p=await uw(c,r);return p.links?p.links():[]}return[]}));return pw(s.flat(1).filter(cw).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Fv(a,t,r,s,l,c){let p=(b,v)=>r[v]?b.route.id!==r[v].route.id:!0,_=(b,v)=>r[v].pathname!==b.pathname||r[v].route.path?.endsWith("*")&&r[v].params["*"]!==b.params["*"];return c==="assets"?t.filter((b,v)=>p(b,v)||_(b,v)):c==="data"?t.filter((b,v)=>{let A=s.routes[b.route.id];if(!A||!A.hasLoader)return!1;if(p(b,v)||_(b,v))return!0;if(b.route.shouldRevalidate){let N=b.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:b.params,defaultShouldRevalidate:!0});if(typeof N=="boolean")return N}return!0}):[]}function hw(a,t,{includeHydrateFallback:r}={}){return dw(a.map(s=>{let l=t.routes[s.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function dw(a){return[...new Set(a)]}function mw(a){let t={},r=Object.keys(a).sort();for(let s of r)t[s]=a[s];return t}function pw(a,t){let r=new Set;return new Set(t),a.reduce((s,l)=>{let c=JSON.stringify(mw(l));return r.has(c)||(r.add(c),s.push({key:c,link:l})),s},[])}function w_(){let a=ae.useContext(Il);return Pm(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function gw(){let a=ae.useContext(Vf);return Pm(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Lm=ae.createContext(void 0);Lm.displayName="FrameworkContext";function T_(){let a=ae.useContext(Lm);return Pm(a,"You must render this element inside a <HydratedRouter> element"),a}function yw(a,t){let r=ae.useContext(Lm),[s,l]=ae.useState(!1),[c,p]=ae.useState(!1),{onFocus:_,onBlur:b,onMouseEnter:v,onMouseLeave:A,onTouchStart:N}=t,O=ae.useRef(null);ae.useEffect(()=>{if(a==="render"&&p(!0),a==="viewport"){let oe=ce=>{ce.forEach(re=>{p(re.isIntersecting)})},ee=new IntersectionObserver(oe,{threshold:.5});return O.current&&ee.observe(O.current),()=>{ee.disconnect()}}},[a]),ae.useEffect(()=>{if(s){let oe=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(oe)}}},[s]);let H=()=>{l(!0)},le=()=>{l(!1),p(!1)};return r?a!=="intent"?[c,O,{}]:[c,O,{onFocus:Tu(_,H),onBlur:Tu(b,le),onMouseEnter:Tu(v,H),onMouseLeave:Tu(A,le),onTouchStart:Tu(N,H)}]:[!1,O,{}]}function Tu(a,t){return r=>{a&&a(r),r.defaultPrevented||t(r)}}function vw({page:a,...t}){let{router:r}=w_(),s=ae.useMemo(()=>d_(r.routes,a,r.basename),[r.routes,a,r.basename]);return s?ae.createElement(bw,{page:a,matches:s,...t}):null}function _w(a){let{manifest:t,routeModules:r}=T_(),[s,l]=ae.useState([]);return ae.useEffect(()=>{let c=!1;return fw(a,t,r).then(p=>{c||l(p)}),()=>{c=!0}},[a,t,r]),s}function bw({page:a,matches:t,...r}){let s=ns(),{manifest:l,routeModules:c}=T_(),{basename:p}=w_(),{loaderData:_,matches:b}=gw(),v=ae.useMemo(()=>Fv(a,t,b,l,s,"data"),[a,t,b,l,s]),A=ae.useMemo(()=>Fv(a,t,b,l,s,"assets"),[a,t,b,l,s]),N=ae.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let le=new Set,oe=!1;if(t.forEach(ce=>{let re=l.routes[ce.route.id];!re||!re.hasLoader||(!v.some(pe=>pe.route.id===ce.route.id)&&ce.route.id in _&&c[ce.route.id]?.shouldRevalidate||re.hasClientLoader?oe=!0:le.add(ce.route.id))}),le.size===0)return[];let ee=lw(a,p,"data");return oe&&le.size>0&&ee.searchParams.set("_routes",t.filter(ce=>le.has(ce.route.id)).map(ce=>ce.route.id).join(",")),[ee.pathname+ee.search]},[p,_,s,l,v,t,a,c]),O=ae.useMemo(()=>hw(A,l),[A,l]),H=_w(A);return ae.createElement(ae.Fragment,null,N.map(le=>ae.createElement("link",{key:le,rel:"prefetch",as:"fetch",href:le,...r})),O.map(le=>ae.createElement("link",{key:le,rel:"modulepreload",href:le,...r})),H.map(({key:le,link:oe})=>ae.createElement("link",{key:le,nonce:r.nonce,...oe})))}function xw(...a){return t=>{a.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var S_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{S_&&(window.__reactRouterVersion="7.9.6")}catch{}function Ew({basename:a,children:t,window:r}){let s=ae.useRef();s.current==null&&(s.current=iE({window:r,v5Compat:!0}));let l=s.current,[c,p]=ae.useState({action:l.action,location:l.location}),_=ae.useCallback(b=>{ae.startTransition(()=>p(b))},[p]);return ae.useLayoutEffect(()=>l.listen(_),[l,_]),ae.createElement(JE,{basename:a,children:t,location:c.location,navigationType:c.action,navigator:l})}var A_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pf=ae.forwardRef(function({onClick:t,discover:r="render",prefetch:s="none",relative:l,reloadDocument:c,replace:p,state:_,target:b,to:v,preventScrollReset:A,viewTransition:N,...O},H){let{basename:le}=ae.useContext(ni),oe=typeof v=="string"&&A_.test(v),ee,ce=!1;if(typeof v=="string"&&oe&&(ee=v,S_))try{let P=new URL(window.location.href),j=v.startsWith("//")?new URL(P.protocol+v):new URL(v),z=Ji(j.pathname,le);j.origin===P.origin&&z!=null?v=z+j.search+j.hash:ce=!0}catch{za(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=OE(v,{relative:l}),[pe,De,Ke]=yw(s,O),Ge=Aw(v,{replace:p,state:_,target:b,preventScrollReset:A,relative:l,viewTransition:N});function k(P){t&&t(P),P.defaultPrevented||Ge(P)}let M=ae.createElement("a",{...O,...Ke,href:ee||re,onClick:ce||c?t:k,ref:xw(H,De),target:b,"data-discover":!oe&&r==="render"?"true":void 0});return pe&&!oe?ae.createElement(ae.Fragment,null,M,ae.createElement(vw,{page:re})):M});Pf.displayName="Link";var ww=ae.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:s="",end:l=!1,style:c,to:p,viewTransition:_,children:b,...v},A){let N=Fu(p,{relative:v.relative}),O=ns(),H=ae.useContext(Vf),{navigator:le,basename:oe}=ae.useContext(ni),ee=H!=null&&Iw(N)&&_===!0,ce=le.encodeLocation?le.encodeLocation(N).pathname:N.pathname,re=O.pathname,pe=H&&H.navigation&&H.navigation.location?H.navigation.location.pathname:null;r||(re=re.toLowerCase(),pe=pe?pe.toLowerCase():null,ce=ce.toLowerCase()),pe&&oe&&(pe=Ji(pe,oe)||pe);const De=ce!=="/"&&ce.endsWith("/")?ce.length-1:ce.length;let Ke=re===ce||!l&&re.startsWith(ce)&&re.charAt(De)==="/",Ge=pe!=null&&(pe===ce||!l&&pe.startsWith(ce)&&pe.charAt(ce.length)==="/"),k={isActive:Ke,isPending:Ge,isTransitioning:ee},M=Ke?t:void 0,P;typeof s=="function"?P=s(k):P=[s,Ke?"active":null,Ge?"pending":null,ee?"transitioning":null].filter(Boolean).join(" ");let j=typeof c=="function"?c(k):c;return ae.createElement(Pf,{...v,"aria-current":M,className:P,ref:A,style:j,to:p,viewTransition:_},typeof b=="function"?b(k):b)});ww.displayName="NavLink";var Tw=ae.forwardRef(({discover:a="render",fetcherKey:t,navigate:r,reloadDocument:s,replace:l,state:c,method:p=af,action:_,onSubmit:b,relative:v,preventScrollReset:A,viewTransition:N,...O},H)=>{let le=Cw(),oe=Dw(_,{relative:v}),ee=p.toLowerCase()==="get"?"get":"post",ce=typeof _=="string"&&A_.test(_),re=pe=>{if(b&&b(pe),pe.defaultPrevented)return;pe.preventDefault();let De=pe.nativeEvent.submitter,Ke=De?.getAttribute("formmethod")||p;le(De||pe.currentTarget,{fetcherKey:t,method:Ke,navigate:r,replace:l,state:c,relative:v,preventScrollReset:A,viewTransition:N})};return ae.createElement("form",{ref:H,method:ee,action:oe,onSubmit:s?b:re,...O,"data-discover":!ce&&a==="render"?"true":void 0})});Tw.displayName="Form";function Sw(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R_(a){let t=ae.useContext(Il);return fn(t,Sw(a)),t}function Aw(a,{target:t,replace:r,state:s,preventScrollReset:l,relative:c,viewTransition:p}={}){let _=Ol(),b=ns(),v=Fu(a,{relative:c});return ae.useCallback(A=>{if(aw(A,t)){A.preventDefault();let N=r!==void 0?r:Mu(b)===Mu(v);_(a,{replace:N,state:s,preventScrollReset:l,relative:c,viewTransition:p})}},[b,_,v,r,s,t,a,l,c,p])}var Rw=0,Nw=()=>`__${String(++Rw)}__`;function Cw(){let{router:a}=R_("useSubmit"),{basename:t}=ae.useContext(ni),r=QE();return ae.useCallback(async(s,l={})=>{let{action:c,method:p,encType:_,formData:b,body:v}=ow(s,t);if(l.navigate===!1){let A=l.fetcherKey||Nw();await a.fetch(A,r,l.action||c,{preventScrollReset:l.preventScrollReset,formData:b,body:v,formMethod:l.method||p,formEncType:l.encType||_,flushSync:l.flushSync})}else await a.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:b,body:v,formMethod:l.method||p,formEncType:l.encType||_,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[a,t,r])}function Dw(a,{relative:t}={}){let{basename:r}=ae.useContext(ni),s=ae.useContext(Ua);fn(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),c={...Fu(a||".",{relative:t})},p=ns();if(a==null){c.search=p.search;let _=new URLSearchParams(c.search),b=_.getAll("index");if(b.some(A=>A==="")){_.delete("index"),b.filter(N=>N).forEach(N=>_.append("index",N));let A=_.toString();c.search=A?`?${A}`:""}}return(!a||a===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(c.pathname=c.pathname==="/"?r:$i([r,c.pathname])),Mu(c)}function Iw(a,{relative:t}={}){let r=ae.useContext(y_);fn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=R_("useViewTransitionState"),l=Fu(a,{relative:t});if(!r.isTransitioning)return!1;let c=Ji(r.currentLocation.pathname,s)||r.currentLocation.pathname,p=Ji(r.nextLocation.pathname,s)||r.nextLocation.pathname;return pf(l.pathname,p)!=null||pf(l.pathname,c)!=null}const jw=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ow=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,s)=>s?s.toUpperCase():r.toLowerCase()),Hv=a=>{const t=Ow(a);return t.charAt(0).toUpperCase()+t.slice(1)},N_=(...a)=>a.filter((t,r,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===r).join(" ").trim(),Mw=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var Vw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const kw=ae.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:p,..._},b)=>ae.createElement("svg",{ref:b,...Vw,width:t,height:t,stroke:a,strokeWidth:s?Number(r)*24/Number(t):r,className:N_("lucide",l),...!c&&!Mw(_)&&{"aria-hidden":"true"},..._},[...p.map(([v,A])=>ae.createElement(v,A)),...Array.isArray(c)?c:[c]]));const Xt=(a,t)=>{const r=ae.forwardRef(({className:s,...l},c)=>ae.createElement(kw,{ref:c,iconNode:t,className:N_(`lucide-${jw(Hv(a))}`,`lucide-${a}`,s),...l}));return r.displayName=Hv(a),r};const Pw=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Lw=Xt("arrow-left",Pw);const zw=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Uw=Xt("arrow-right",zw);const Bw=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],qw=Xt("calendar",Bw);const Fw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Hw=Xt("circle-plus",Fw);const Kw=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],of=Xt("database",Kw);const Gw=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],zm=Xt("dollar-sign",Gw);const Qw=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Um=Xt("download",Qw);const Yw=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Xw=Xt("eye",Yw);const $w=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Zw=Xt("file-text",$w);const Jw=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Ww=Xt("layout-dashboard",Jw);const eT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],C_=Xt("lock",eT);const tT=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],nT=Xt("mail",tT);const rT=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],aT=Xt("map-pin",rT);const iT=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],sT=Xt("maximize",iT);const oT=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],gf=Xt("package",oT);const lT=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],uT=Xt("phone",lT);const cT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Lf=Xt("plus",cT);const fT=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],hT=Xt("printer",fT);const dT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],D_=Xt("save",dT);const mT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Bm=Xt("search",mT);const pT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gT=Xt("settings",pT);const yT=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],I_=Xt("square-pen",yT);const vT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],xl=Xt("trash-2",vT);const _T=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],qm=Xt("trending-up",_T);const bT=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Fm=Xt("upload",bT);const xT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],j_=Xt("user",xT);const ET=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],yf=Xt("users",ET);const wT=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Kv=Xt("wallet",wT);const TT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ST=Xt("x",TT);function O_(a){var t,r,s="";if(typeof a=="string"||typeof a=="number")s+=a;else if(typeof a=="object")if(Array.isArray(a)){var l=a.length;for(t=0;t<l;t++)a[t]&&(r=O_(a[t]))&&(s&&(s+=" "),s+=r)}else for(r in a)a[r]&&(s&&(s+=" "),s+=r);return s}function AT(){for(var a,t,r=0,s="",l=arguments.length;r<l;r++)(a=arguments[r])&&(t=O_(a))&&(s&&(s+=" "),s+=t);return s}const RT=()=>{};var Gv={};const M_=function(a){const t=[];let r=0;for(let s=0;s<a.length;s++){let l=a.charCodeAt(s);l<128?t[r++]=l:l<2048?(t[r++]=l>>6|192,t[r++]=l&63|128):(l&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++s)&1023),t[r++]=l>>18|240,t[r++]=l>>12&63|128,t[r++]=l>>6&63|128,t[r++]=l&63|128):(t[r++]=l>>12|224,t[r++]=l>>6&63|128,t[r++]=l&63|128)}return t},NT=function(a){const t=[];let r=0,s=0;for(;r<a.length;){const l=a[r++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[r++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[r++],p=a[r++],_=a[r++],b=((l&7)<<18|(c&63)<<12|(p&63)<<6|_&63)-65536;t[s++]=String.fromCharCode(55296+(b>>10)),t[s++]=String.fromCharCode(56320+(b&1023))}else{const c=a[r++],p=a[r++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|p&63)}}return t.join("")},V_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<a.length;l+=3){const c=a[l],p=l+1<a.length,_=p?a[l+1]:0,b=l+2<a.length,v=b?a[l+2]:0,A=c>>2,N=(c&3)<<4|_>>4;let O=(_&15)<<2|v>>6,H=v&63;b||(H=64,p||(O=64)),s.push(r[A],r[N],r[O],r[H])}return s.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(M_(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):NT(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<a.length;){const c=r[a.charAt(l++)],_=l<a.length?r[a.charAt(l)]:0;++l;const v=l<a.length?r[a.charAt(l)]:64;++l;const N=l<a.length?r[a.charAt(l)]:64;if(++l,c==null||_==null||v==null||N==null)throw new CT;const O=c<<2|_>>4;if(s.push(O),v!==64){const H=_<<4&240|v>>2;if(s.push(H),N!==64){const le=v<<6&192|N;s.push(le)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class CT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DT=function(a){const t=M_(a);return V_.encodeByteArray(t,!0)},vf=function(a){return DT(a).replace(/\./g,"")},IT=function(a){try{return V_.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function jT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const OT=()=>jT().__FIREBASE_DEFAULTS__,MT=()=>{if(typeof process>"u"||typeof Gv>"u")return;const a=Gv.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},VT=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&IT(a[1]);return t&&JSON.parse(t)},Hm=()=>{try{return RT()||OT()||MT()||VT()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},kT=a=>Hm()?.emulatorHosts?.[a],PT=a=>{const t=kT(a);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),s]:[t.substring(0,r),s]},k_=()=>Hm()?.config;class LT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,s))}}}function Km(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zT(a){return(await fetch(a,{credentials:"include"})).ok}function UT(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=t||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[vf(JSON.stringify(r)),vf(JSON.stringify(p)),""].join(".")}const Nu={};function BT(){const a={prod:[],emulator:[]};for(const t of Object.keys(Nu))Nu[t]?a.emulator.push(t):a.prod.push(t);return a}function qT(a){let t=document.getElementById(a),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),r=!0),{created:r,element:t}}let Qv=!1;function FT(a,t){if(typeof window>"u"||typeof document>"u"||!Km(window.location.host)||Nu[a]===t||Nu[a]||Qv)return;Nu[a]=t;function r(O){return`__firebase__banner__${O}`}const s="__firebase__banner",c=BT().prod.length>0;function p(){const O=document.getElementById(s);O&&O.remove()}function _(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function b(O,H){O.setAttribute("width","24"),O.setAttribute("id",H),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function v(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{Qv=!0,p()},O}function A(O,H){O.setAttribute("id",H),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function N(){const O=qT(s),H=r("text"),le=document.getElementById(H)||document.createElement("span"),oe=r("learnmore"),ee=document.getElementById(oe)||document.createElement("a"),ce=r("preprendIcon"),re=document.getElementById(ce)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const pe=O.element;_(pe),A(ee,oe);const De=v();b(re,ce),pe.append(re,le,ee,De),document.body.appendChild(pe)}c?(le.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,le.innerText="Preview backend running in this workspace."),le.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",N):N()}function HT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KT(){const a=Hm()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GT(){return!KT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QT(){try{return typeof indexedDB=="object"}catch{return!1}}function YT(){return new Promise((a,t)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(s),a(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(r){t(r)}})}const XT="FirebaseError";class Ml extends Error{constructor(t,r,s){super(r),this.code=t,this.customData=s,this.name=XT,Object.setPrototypeOf(this,Ml.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,P_.prototype.create)}}class P_{constructor(t,r,s){this.service=t,this.serviceName=r,this.errors=s}create(t,...r){const s=r[0]||{},l=`${this.service}/${t}`,c=this.errors[t],p=c?$T(c,s):"Error",_=`${this.serviceName}: ${p} (${l}).`;return new Ml(l,_,s)}}function $T(a,t){return a.replace(ZT,(r,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const ZT=/\{\$([^}]+)}/g;function _f(a,t){if(a===t)return!0;const r=Object.keys(a),s=Object.keys(t);for(const l of r){if(!s.includes(l))return!1;const c=a[l],p=t[l];if(Yv(c)&&Yv(p)){if(!_f(c,p))return!1}else if(c!==p)return!1}for(const l of s)if(!r.includes(l))return!1;return!0}function Yv(a){return a!==null&&typeof a=="object"}function No(a){return a&&a._delegate?a._delegate:a}class Vu{constructor(t,r,s){this.name=t,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const wo="[DEFAULT]";class JT{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const s=new LT;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(e2(t))try{this.getOrInitializeService({instanceIdentifier:wo})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=wo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=wo){return this.instances.has(t)}getOptions(t=wo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[c,p]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(c);s===_&&p.resolve(l)}return l}onInit(t,r){const s=this.normalizeInstanceIdentifier(r),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,r){const s=this.onInitCallbacks.get(r);if(s)for(const l of s)try{l(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:WT(t),options:r}),this.instances.set(t,s),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=wo){return this.component?this.component.multipleInstances?t:wo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WT(a){return a===wo?void 0:a}function e2(a){return a.instantiationMode==="EAGER"}class t2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new JT(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ot||(Ot={}));const n2={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},r2=Ot.INFO,a2={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},i2=(a,t,...r)=>{if(t<a.logLevel)return;const s=new Date().toISOString(),l=a2[t];if(l)console[l](`[${s}]  ${a.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class L_{constructor(t){this.name=t,this._logLevel=r2,this._logHandler=i2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?n2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const s2=(a,t)=>t.some(r=>a instanceof r);let Xv,$v;function o2(){return Xv||(Xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l2(){return $v||($v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const z_=new WeakMap,lm=new WeakMap,U_=new WeakMap,Zd=new WeakMap,Gm=new WeakMap;function u2(a){const t=new Promise((r,s)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",p)},c=()=>{r(Fs(a.result)),l()},p=()=>{s(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",p)});return t.then(r=>{r instanceof IDBCursor&&z_.set(r,a)}).catch(()=>{}),Gm.set(t,a),t}function c2(a){if(lm.has(a))return;const t=new Promise((r,s)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",p),a.removeEventListener("abort",p)},c=()=>{r(),l()},p=()=>{s(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",p),a.addEventListener("abort",p)});lm.set(a,t)}let um={get(a,t,r){if(a instanceof IDBTransaction){if(t==="done")return lm.get(a);if(t==="objectStoreNames")return a.objectStoreNames||U_.get(a);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Fs(a[t])},set(a,t,r){return a[t]=r,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function f2(a){um=a(um)}function h2(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const s=a.call(Jd(this),t,...r);return U_.set(s,t.sort?t.sort():[t]),Fs(s)}:l2().includes(a)?function(...t){return a.apply(Jd(this),t),Fs(z_.get(this))}:function(...t){return Fs(a.apply(Jd(this),t))}}function d2(a){return typeof a=="function"?h2(a):(a instanceof IDBTransaction&&c2(a),s2(a,o2())?new Proxy(a,um):a)}function Fs(a){if(a instanceof IDBRequest)return u2(a);if(Zd.has(a))return Zd.get(a);const t=d2(a);return t!==a&&(Zd.set(a,t),Gm.set(t,a)),t}const Jd=a=>Gm.get(a);function m2(a,t,{blocked:r,upgrade:s,blocking:l,terminated:c}={}){const p=indexedDB.open(a,t),_=Fs(p);return s&&p.addEventListener("upgradeneeded",b=>{s(Fs(p.result),b.oldVersion,b.newVersion,Fs(p.transaction),b)}),r&&p.addEventListener("blocked",b=>r(b.oldVersion,b.newVersion,b)),_.then(b=>{c&&b.addEventListener("close",()=>c()),l&&b.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),_}const p2=["get","getKey","getAll","getAllKeys","count"],g2=["put","add","delete","clear"],Wd=new Map;function Zv(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Wd.get(t))return Wd.get(t);const r=t.replace(/FromIndex$/,""),s=t!==r,l=g2.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(l||p2.includes(r)))return;const c=async function(p,..._){const b=this.transaction(p,l?"readwrite":"readonly");let v=b.store;return s&&(v=v.index(_.shift())),(await Promise.all([v[r](..._),l&&b.done]))[0]};return Wd.set(t,c),c}f2(a=>({...a,get:(t,r,s)=>Zv(t,r)||a.get(t,r,s),has:(t,r)=>!!Zv(t,r)||a.has(t,r)}));class y2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(v2(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function v2(a){return a.getComponent()?.type==="VERSION"}const cm="@firebase/app",Jv="0.14.6";const Wi=new L_("@firebase/app"),_2="@firebase/app-compat",b2="@firebase/analytics-compat",x2="@firebase/analytics",E2="@firebase/app-check-compat",w2="@firebase/app-check",T2="@firebase/auth",S2="@firebase/auth-compat",A2="@firebase/database",R2="@firebase/data-connect",N2="@firebase/database-compat",C2="@firebase/functions",D2="@firebase/functions-compat",I2="@firebase/installations",j2="@firebase/installations-compat",O2="@firebase/messaging",M2="@firebase/messaging-compat",V2="@firebase/performance",k2="@firebase/performance-compat",P2="@firebase/remote-config",L2="@firebase/remote-config-compat",z2="@firebase/storage",U2="@firebase/storage-compat",B2="@firebase/firestore",q2="@firebase/ai",F2="@firebase/firestore-compat",H2="firebase",K2="12.6.0";const fm="[DEFAULT]",G2={[cm]:"fire-core",[_2]:"fire-core-compat",[x2]:"fire-analytics",[b2]:"fire-analytics-compat",[w2]:"fire-app-check",[E2]:"fire-app-check-compat",[T2]:"fire-auth",[S2]:"fire-auth-compat",[A2]:"fire-rtdb",[R2]:"fire-data-connect",[N2]:"fire-rtdb-compat",[C2]:"fire-fn",[D2]:"fire-fn-compat",[I2]:"fire-iid",[j2]:"fire-iid-compat",[O2]:"fire-fcm",[M2]:"fire-fcm-compat",[V2]:"fire-perf",[k2]:"fire-perf-compat",[P2]:"fire-rc",[L2]:"fire-rc-compat",[z2]:"fire-gcs",[U2]:"fire-gcs-compat",[B2]:"fire-fst",[F2]:"fire-fst-compat",[q2]:"fire-vertex","fire-js":"fire-js",[H2]:"fire-js-all"};const bf=new Map,Q2=new Map,hm=new Map;function Wv(a,t){try{a.container.addComponent(t)}catch(r){Wi.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,r)}}function xf(a){const t=a.name;if(hm.has(t))return Wi.debug(`There were multiple attempts to register component ${t}.`),!1;hm.set(t,a);for(const r of bf.values())Wv(r,a);for(const r of Q2.values())Wv(r,a);return!0}function Y2(a,t){const r=a.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),a.container.getProvider(t)}function X2(a){return a==null?!1:a.settings!==void 0}const $2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new P_("app","Firebase",$2);class Z2{constructor(t,r,s){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Vu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}const J2=K2;function B_(a,t={}){let r=a;typeof t!="object"&&(t={name:t});const s={name:fm,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Hs.create("bad-app-name",{appName:String(l)});if(r||(r=k_()),!r)throw Hs.create("no-options");const c=bf.get(l);if(c){if(_f(r,c.options)&&_f(s,c.config))return c;throw Hs.create("duplicate-app",{appName:l})}const p=new t2(l);for(const b of hm.values())p.addComponent(b);const _=new Z2(r,s,p);return bf.set(l,_),_}function W2(a=fm){const t=bf.get(a);if(!t&&a===fm&&k_())return B_();if(!t)throw Hs.create("no-app",{appName:a});return t}function _l(a,t,r){let s=G2[a]??a;r&&(s+=`-${r}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const p=[`Unable to register library "${s}" with version "${t}":`];l&&p.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&p.push("and"),c&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wi.warn(p.join(" "));return}xf(new Vu(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const eS="firebase-heartbeat-database",tS=1,ku="firebase-heartbeat-store";let em=null;function q_(){return em||(em=m2(eS,tS,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(ku)}catch(r){console.warn(r)}}}}).catch(a=>{throw Hs.create("idb-open",{originalErrorMessage:a.message})})),em}async function nS(a){try{const r=(await q_()).transaction(ku),s=await r.objectStore(ku).get(F_(a));return await r.done,s}catch(t){if(t instanceof Ml)Wi.warn(t.message);else{const r=Hs.create("idb-get",{originalErrorMessage:t?.message});Wi.warn(r.message)}}}async function e0(a,t){try{const s=(await q_()).transaction(ku,"readwrite");await s.objectStore(ku).put(t,F_(a)),await s.done}catch(r){if(r instanceof Ml)Wi.warn(r.message);else{const s=Hs.create("idb-set",{originalErrorMessage:r?.message});Wi.warn(s.message)}}}function F_(a){return`${a.name}!${a.options.appId}`}const rS=1024,aS=30;class iS{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new oS(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=t0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>aS){const l=lS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Wi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=t0(),{heartbeatsToSend:r,unsentEntries:s}=sS(this._heartbeatsCache.heartbeats),l=vf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Wi.warn(t),""}}}function t0(){return new Date().toISOString().substring(0,10)}function sS(a,t=rS){const r=[];let s=a.slice();for(const l of a){const c=r.find(p=>p.agent===l.agent);if(c){if(c.dates.push(l.date),n0(r)>t){c.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),n0(r)>t){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class oS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QT()?YT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await nS(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return e0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return e0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function n0(a){return vf(JSON.stringify({version:2,heartbeats:a})).length}function lS(a){if(a.length===0)return-1;let t=0,r=a[0].date;for(let s=1;s<a.length;s++)a[s].date<r&&(r=a[s].date,t=s);return t}function uS(a){xf(new Vu("platform-logger",t=>new y2(t),"PRIVATE")),xf(new Vu("heartbeat",t=>new iS(t),"PRIVATE")),_l(cm,Jv,a),_l(cm,Jv,"esm2020"),_l("fire-js","")}uS("");var cS="firebase",fS="12.6.0";_l(cS,fS,"app");var r0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ks,H_;(function(){var a;function t(k,M){function P(){}P.prototype=M.prototype,k.F=M.prototype,k.prototype=new P,k.prototype.constructor=k,k.D=function(j,z,Y){for(var V=Array(arguments.length-2),at=2;at<arguments.length;at++)V[at-2]=arguments[at];return M.prototype[z].apply(j,V)}}function r(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,r),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(k,M,P){P||(P=0);const j=Array(16);if(typeof M=="string")for(var z=0;z<16;++z)j[z]=M.charCodeAt(P++)|M.charCodeAt(P++)<<8|M.charCodeAt(P++)<<16|M.charCodeAt(P++)<<24;else for(z=0;z<16;++z)j[z]=M[P++]|M[P++]<<8|M[P++]<<16|M[P++]<<24;M=k.g[0],P=k.g[1],z=k.g[2];let Y=k.g[3],V;V=M+(Y^P&(z^Y))+j[0]+3614090360&4294967295,M=P+(V<<7&4294967295|V>>>25),V=Y+(z^M&(P^z))+j[1]+3905402710&4294967295,Y=M+(V<<12&4294967295|V>>>20),V=z+(P^Y&(M^P))+j[2]+606105819&4294967295,z=Y+(V<<17&4294967295|V>>>15),V=P+(M^z&(Y^M))+j[3]+3250441966&4294967295,P=z+(V<<22&4294967295|V>>>10),V=M+(Y^P&(z^Y))+j[4]+4118548399&4294967295,M=P+(V<<7&4294967295|V>>>25),V=Y+(z^M&(P^z))+j[5]+1200080426&4294967295,Y=M+(V<<12&4294967295|V>>>20),V=z+(P^Y&(M^P))+j[6]+2821735955&4294967295,z=Y+(V<<17&4294967295|V>>>15),V=P+(M^z&(Y^M))+j[7]+4249261313&4294967295,P=z+(V<<22&4294967295|V>>>10),V=M+(Y^P&(z^Y))+j[8]+1770035416&4294967295,M=P+(V<<7&4294967295|V>>>25),V=Y+(z^M&(P^z))+j[9]+2336552879&4294967295,Y=M+(V<<12&4294967295|V>>>20),V=z+(P^Y&(M^P))+j[10]+4294925233&4294967295,z=Y+(V<<17&4294967295|V>>>15),V=P+(M^z&(Y^M))+j[11]+2304563134&4294967295,P=z+(V<<22&4294967295|V>>>10),V=M+(Y^P&(z^Y))+j[12]+1804603682&4294967295,M=P+(V<<7&4294967295|V>>>25),V=Y+(z^M&(P^z))+j[13]+4254626195&4294967295,Y=M+(V<<12&4294967295|V>>>20),V=z+(P^Y&(M^P))+j[14]+2792965006&4294967295,z=Y+(V<<17&4294967295|V>>>15),V=P+(M^z&(Y^M))+j[15]+1236535329&4294967295,P=z+(V<<22&4294967295|V>>>10),V=M+(z^Y&(P^z))+j[1]+4129170786&4294967295,M=P+(V<<5&4294967295|V>>>27),V=Y+(P^z&(M^P))+j[6]+3225465664&4294967295,Y=M+(V<<9&4294967295|V>>>23),V=z+(M^P&(Y^M))+j[11]+643717713&4294967295,z=Y+(V<<14&4294967295|V>>>18),V=P+(Y^M&(z^Y))+j[0]+3921069994&4294967295,P=z+(V<<20&4294967295|V>>>12),V=M+(z^Y&(P^z))+j[5]+3593408605&4294967295,M=P+(V<<5&4294967295|V>>>27),V=Y+(P^z&(M^P))+j[10]+38016083&4294967295,Y=M+(V<<9&4294967295|V>>>23),V=z+(M^P&(Y^M))+j[15]+3634488961&4294967295,z=Y+(V<<14&4294967295|V>>>18),V=P+(Y^M&(z^Y))+j[4]+3889429448&4294967295,P=z+(V<<20&4294967295|V>>>12),V=M+(z^Y&(P^z))+j[9]+568446438&4294967295,M=P+(V<<5&4294967295|V>>>27),V=Y+(P^z&(M^P))+j[14]+3275163606&4294967295,Y=M+(V<<9&4294967295|V>>>23),V=z+(M^P&(Y^M))+j[3]+4107603335&4294967295,z=Y+(V<<14&4294967295|V>>>18),V=P+(Y^M&(z^Y))+j[8]+1163531501&4294967295,P=z+(V<<20&4294967295|V>>>12),V=M+(z^Y&(P^z))+j[13]+2850285829&4294967295,M=P+(V<<5&4294967295|V>>>27),V=Y+(P^z&(M^P))+j[2]+4243563512&4294967295,Y=M+(V<<9&4294967295|V>>>23),V=z+(M^P&(Y^M))+j[7]+1735328473&4294967295,z=Y+(V<<14&4294967295|V>>>18),V=P+(Y^M&(z^Y))+j[12]+2368359562&4294967295,P=z+(V<<20&4294967295|V>>>12),V=M+(P^z^Y)+j[5]+4294588738&4294967295,M=P+(V<<4&4294967295|V>>>28),V=Y+(M^P^z)+j[8]+2272392833&4294967295,Y=M+(V<<11&4294967295|V>>>21),V=z+(Y^M^P)+j[11]+1839030562&4294967295,z=Y+(V<<16&4294967295|V>>>16),V=P+(z^Y^M)+j[14]+4259657740&4294967295,P=z+(V<<23&4294967295|V>>>9),V=M+(P^z^Y)+j[1]+2763975236&4294967295,M=P+(V<<4&4294967295|V>>>28),V=Y+(M^P^z)+j[4]+1272893353&4294967295,Y=M+(V<<11&4294967295|V>>>21),V=z+(Y^M^P)+j[7]+4139469664&4294967295,z=Y+(V<<16&4294967295|V>>>16),V=P+(z^Y^M)+j[10]+3200236656&4294967295,P=z+(V<<23&4294967295|V>>>9),V=M+(P^z^Y)+j[13]+681279174&4294967295,M=P+(V<<4&4294967295|V>>>28),V=Y+(M^P^z)+j[0]+3936430074&4294967295,Y=M+(V<<11&4294967295|V>>>21),V=z+(Y^M^P)+j[3]+3572445317&4294967295,z=Y+(V<<16&4294967295|V>>>16),V=P+(z^Y^M)+j[6]+76029189&4294967295,P=z+(V<<23&4294967295|V>>>9),V=M+(P^z^Y)+j[9]+3654602809&4294967295,M=P+(V<<4&4294967295|V>>>28),V=Y+(M^P^z)+j[12]+3873151461&4294967295,Y=M+(V<<11&4294967295|V>>>21),V=z+(Y^M^P)+j[15]+530742520&4294967295,z=Y+(V<<16&4294967295|V>>>16),V=P+(z^Y^M)+j[2]+3299628645&4294967295,P=z+(V<<23&4294967295|V>>>9),V=M+(z^(P|~Y))+j[0]+4096336452&4294967295,M=P+(V<<6&4294967295|V>>>26),V=Y+(P^(M|~z))+j[7]+1126891415&4294967295,Y=M+(V<<10&4294967295|V>>>22),V=z+(M^(Y|~P))+j[14]+2878612391&4294967295,z=Y+(V<<15&4294967295|V>>>17),V=P+(Y^(z|~M))+j[5]+4237533241&4294967295,P=z+(V<<21&4294967295|V>>>11),V=M+(z^(P|~Y))+j[12]+1700485571&4294967295,M=P+(V<<6&4294967295|V>>>26),V=Y+(P^(M|~z))+j[3]+2399980690&4294967295,Y=M+(V<<10&4294967295|V>>>22),V=z+(M^(Y|~P))+j[10]+4293915773&4294967295,z=Y+(V<<15&4294967295|V>>>17),V=P+(Y^(z|~M))+j[1]+2240044497&4294967295,P=z+(V<<21&4294967295|V>>>11),V=M+(z^(P|~Y))+j[8]+1873313359&4294967295,M=P+(V<<6&4294967295|V>>>26),V=Y+(P^(M|~z))+j[15]+4264355552&4294967295,Y=M+(V<<10&4294967295|V>>>22),V=z+(M^(Y|~P))+j[6]+2734768916&4294967295,z=Y+(V<<15&4294967295|V>>>17),V=P+(Y^(z|~M))+j[13]+1309151649&4294967295,P=z+(V<<21&4294967295|V>>>11),V=M+(z^(P|~Y))+j[4]+4149444226&4294967295,M=P+(V<<6&4294967295|V>>>26),V=Y+(P^(M|~z))+j[11]+3174756917&4294967295,Y=M+(V<<10&4294967295|V>>>22),V=z+(M^(Y|~P))+j[2]+718787259&4294967295,z=Y+(V<<15&4294967295|V>>>17),V=P+(Y^(z|~M))+j[9]+3951481745&4294967295,k.g[0]=k.g[0]+M&4294967295,k.g[1]=k.g[1]+(z+(V<<21&4294967295|V>>>11))&4294967295,k.g[2]=k.g[2]+z&4294967295,k.g[3]=k.g[3]+Y&4294967295}s.prototype.v=function(k,M){M===void 0&&(M=k.length);const P=M-this.blockSize,j=this.C;let z=this.h,Y=0;for(;Y<M;){if(z==0)for(;Y<=P;)l(this,k,Y),Y+=this.blockSize;if(typeof k=="string"){for(;Y<M;)if(j[z++]=k.charCodeAt(Y++),z==this.blockSize){l(this,j),z=0;break}}else for(;Y<M;)if(j[z++]=k[Y++],z==this.blockSize){l(this,j),z=0;break}}this.h=z,this.o+=M},s.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var M=1;M<k.length-8;++M)k[M]=0;M=this.o*8;for(var P=k.length-8;P<k.length;++P)k[P]=M&255,M/=256;for(this.v(k),k=Array(16),M=0,P=0;P<4;++P)for(let j=0;j<32;j+=8)k[M++]=this.g[P]>>>j&255;return k};function c(k,M){var P=_;return Object.prototype.hasOwnProperty.call(P,k)?P[k]:P[k]=M(k)}function p(k,M){this.h=M;const P=[];let j=!0;for(let z=k.length-1;z>=0;z--){const Y=k[z]|0;j&&Y==M||(P[z]=Y,j=!1)}this.g=P}var _={};function b(k){return-128<=k&&k<128?c(k,function(M){return new p([M|0],M<0?-1:0)}):new p([k|0],k<0?-1:0)}function v(k){if(isNaN(k)||!isFinite(k))return N;if(k<0)return ee(v(-k));const M=[];let P=1;for(let j=0;k>=P;j++)M[j]=k/P|0,P*=4294967296;return new p(M,0)}function A(k,M){if(k.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(k.charAt(0)=="-")return ee(A(k.substring(1),M));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=v(Math.pow(M,8));let j=N;for(let Y=0;Y<k.length;Y+=8){var z=Math.min(8,k.length-Y);const V=parseInt(k.substring(Y,Y+z),M);z<8?(z=v(Math.pow(M,z)),j=j.j(z).add(v(V))):(j=j.j(P),j=j.add(v(V)))}return j}var N=b(0),O=b(1),H=b(16777216);a=p.prototype,a.m=function(){if(oe(this))return-ee(this).m();let k=0,M=1;for(let P=0;P<this.g.length;P++){const j=this.i(P);k+=(j>=0?j:4294967296+j)*M,M*=4294967296}return k},a.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(le(this))return"0";if(oe(this))return"-"+ee(this).toString(k);const M=v(Math.pow(k,6));var P=this;let j="";for(;;){const z=De(P,M).g;P=ce(P,z.j(M));let Y=((P.g.length>0?P.g[0]:P.h)>>>0).toString(k);if(P=z,le(P))return Y+j;for(;Y.length<6;)Y="0"+Y;j=Y+j}},a.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function le(k){if(k.h!=0)return!1;for(let M=0;M<k.g.length;M++)if(k.g[M]!=0)return!1;return!0}function oe(k){return k.h==-1}a.l=function(k){return k=ce(this,k),oe(k)?-1:le(k)?0:1};function ee(k){const M=k.g.length,P=[];for(let j=0;j<M;j++)P[j]=~k.g[j];return new p(P,~k.h).add(O)}a.abs=function(){return oe(this)?ee(this):this},a.add=function(k){const M=Math.max(this.g.length,k.g.length),P=[];let j=0;for(let z=0;z<=M;z++){let Y=j+(this.i(z)&65535)+(k.i(z)&65535),V=(Y>>>16)+(this.i(z)>>>16)+(k.i(z)>>>16);j=V>>>16,Y&=65535,V&=65535,P[z]=V<<16|Y}return new p(P,P[P.length-1]&-2147483648?-1:0)};function ce(k,M){return k.add(ee(M))}a.j=function(k){if(le(this)||le(k))return N;if(oe(this))return oe(k)?ee(this).j(ee(k)):ee(ee(this).j(k));if(oe(k))return ee(this.j(ee(k)));if(this.l(H)<0&&k.l(H)<0)return v(this.m()*k.m());const M=this.g.length+k.g.length,P=[];for(var j=0;j<2*M;j++)P[j]=0;for(j=0;j<this.g.length;j++)for(let z=0;z<k.g.length;z++){const Y=this.i(j)>>>16,V=this.i(j)&65535,at=k.i(z)>>>16,dt=k.i(z)&65535;P[2*j+2*z]+=V*dt,re(P,2*j+2*z),P[2*j+2*z+1]+=Y*dt,re(P,2*j+2*z+1),P[2*j+2*z+1]+=V*at,re(P,2*j+2*z+1),P[2*j+2*z+2]+=Y*at,re(P,2*j+2*z+2)}for(k=0;k<M;k++)P[k]=P[2*k+1]<<16|P[2*k];for(k=M;k<2*M;k++)P[k]=0;return new p(P,0)};function re(k,M){for(;(k[M]&65535)!=k[M];)k[M+1]+=k[M]>>>16,k[M]&=65535,M++}function pe(k,M){this.g=k,this.h=M}function De(k,M){if(le(M))throw Error("division by zero");if(le(k))return new pe(N,N);if(oe(k))return M=De(ee(k),M),new pe(ee(M.g),ee(M.h));if(oe(M))return M=De(k,ee(M)),new pe(ee(M.g),M.h);if(k.g.length>30){if(oe(k)||oe(M))throw Error("slowDivide_ only works with positive integers.");for(var P=O,j=M;j.l(k)<=0;)P=Ke(P),j=Ke(j);var z=Ge(P,1),Y=Ge(j,1);for(j=Ge(j,2),P=Ge(P,2);!le(j);){var V=Y.add(j);V.l(k)<=0&&(z=z.add(P),Y=V),j=Ge(j,1),P=Ge(P,1)}return M=ce(k,z.j(M)),new pe(z,M)}for(z=N;k.l(M)>=0;){for(P=Math.max(1,Math.floor(k.m()/M.m())),j=Math.ceil(Math.log(P)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),Y=v(P),V=Y.j(M);oe(V)||V.l(k)>0;)P-=j,Y=v(P),V=Y.j(M);le(Y)&&(Y=O),z=z.add(Y),k=ce(k,V)}return new pe(z,k)}a.B=function(k){return De(this,k).h},a.and=function(k){const M=Math.max(this.g.length,k.g.length),P=[];for(let j=0;j<M;j++)P[j]=this.i(j)&k.i(j);return new p(P,this.h&k.h)},a.or=function(k){const M=Math.max(this.g.length,k.g.length),P=[];for(let j=0;j<M;j++)P[j]=this.i(j)|k.i(j);return new p(P,this.h|k.h)},a.xor=function(k){const M=Math.max(this.g.length,k.g.length),P=[];for(let j=0;j<M;j++)P[j]=this.i(j)^k.i(j);return new p(P,this.h^k.h)};function Ke(k){const M=k.g.length+1,P=[];for(let j=0;j<M;j++)P[j]=k.i(j)<<1|k.i(j-1)>>>31;return new p(P,k.h)}function Ge(k,M){const P=M>>5;M%=32;const j=k.g.length-P,z=[];for(let Y=0;Y<j;Y++)z[Y]=M>0?k.i(Y+P)>>>M|k.i(Y+P+1)<<32-M:k.i(Y+P);return new p(z,k.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,H_=s,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.B,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=v,p.fromString=A,Ks=p}).apply(typeof r0<"u"?r0:typeof self<"u"?self:typeof window<"u"?window:{});var Wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var K_,Su,G_,lf,dm,Q_,Y_,X_;(function(){var a,t=Object.defineProperty;function r(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wc=="object"&&Wc];for(var x=0;x<u.length;++x){var T=u[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=r(this);function l(u,x){if(x)e:{var T=s;u=u.split(".");for(var D=0;D<u.length-1;D++){var ie=u[D];if(!(ie in T))break e;T=T[ie]}u=u[u.length-1],D=T[u],x=x(D),x!=D&&x!=null&&t(T,u,{configurable:!0,writable:!0,value:x})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(x){var T=[],D;for(D in x)Object.prototype.hasOwnProperty.call(x,D)&&T.push([D,x[D]]);return T}});var c=c||{},p=this||self;function _(u){var x=typeof u;return x=="object"&&u!=null||x=="function"}function b(u,x,T){return u.call.apply(u.bind,arguments)}function v(u,x,T){return v=b,v.apply(null,arguments)}function A(u,x){var T=Array.prototype.slice.call(arguments,1);return function(){var D=T.slice();return D.push.apply(D,arguments),u.apply(this,D)}}function N(u,x){function T(){}T.prototype=x.prototype,u.Z=x.prototype,u.prototype=new T,u.prototype.constructor=u,u.Ob=function(D,ie,me){for(var Me=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)Me[ut-2]=arguments[ut];return x.prototype[ie].apply(D,Me)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const x=u.length;if(x>0){const T=Array(x);for(let D=0;D<x;D++)T[D]=u[D];return T}return[]}function le(u,x){for(let D=1;D<arguments.length;D++){const ie=arguments[D];var T=typeof ie;if(T=T!="object"?T:ie?Array.isArray(ie)?"array":T:"null",T=="array"||T=="object"&&typeof ie.length=="number"){T=u.length||0;const me=ie.length||0;u.length=T+me;for(let Me=0;Me<me;Me++)u[T+Me]=ie[Me]}else u.push(ie)}}class oe{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function ee(u){p.setTimeout(()=>{throw u},0)}function ce(){var u=k;let x=null;return u.g&&(x=u.g,u.g=u.g.next,u.g||(u.h=null),x.next=null),x}class re{constructor(){this.h=this.g=null}add(x,T){const D=pe.get();D.set(x,T),this.h?this.h.next=D:this.g=D,this.h=D}}var pe=new oe(()=>new De,u=>u.reset());class De{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Ke,Ge=!1,k=new re,M=()=>{const u=Promise.resolve(void 0);Ke=()=>{u.then(P)}};function P(){for(var u;u=ce();){try{u.h.call(u.g)}catch(T){ee(T)}var x=pe;x.j(u),x.h<100&&(x.h++,u.next=x.g,x.g=u)}Ge=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(u,x){this.type=u,this.g=this.target=x,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var Y=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,x=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const T=()=>{};p.addEventListener("test",T,x),p.removeEventListener("test",T,x)}catch{}return u})();function V(u){return/^[\s\xa0]*$/.test(u)}function at(u,x){z.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,x)}N(at,z),at.prototype.init=function(u,x){const T=this.type=u.type,D=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=x,x=u.relatedTarget,x||(T=="mouseover"?x=u.fromElement:T=="mouseout"&&(x=u.toElement)),this.relatedTarget=x,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&at.Z.h.call(this)},at.prototype.h=function(){at.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var dt="closure_listenable_"+(Math.random()*1e6|0),$=0;function Se(u,x,T,D,ie){this.listener=u,this.proxy=null,this.src=x,this.type=T,this.capture=!!D,this.ha=ie,this.key=++$,this.da=this.fa=!1}function Ae(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function it(u,x,T){for(const D in u)x.call(T,u[D],D,u)}function tt(u,x){for(const T in u)x.call(void 0,u[T],T,u)}function q(u){const x={};for(const T in u)x[T]=u[T];return x}const _e="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function je(u,x){let T,D;for(let ie=1;ie<arguments.length;ie++){D=arguments[ie];for(T in D)u[T]=D[T];for(let me=0;me<_e.length;me++)T=_e[me],Object.prototype.hasOwnProperty.call(D,T)&&(u[T]=D[T])}}function Re(u){this.src=u,this.g={},this.h=0}Re.prototype.add=function(u,x,T,D,ie){const me=u.toString();u=this.g[me],u||(u=this.g[me]=[],this.h++);const Me=$e(u,x,D,ie);return Me>-1?(x=u[Me],T||(x.fa=!1)):(x=new Se(x,this.src,me,!!D,ie),x.fa=T,u.push(x)),x};function Be(u,x){const T=x.type;if(T in u.g){var D=u.g[T],ie=Array.prototype.indexOf.call(D,x,void 0),me;(me=ie>=0)&&Array.prototype.splice.call(D,ie,1),me&&(Ae(x),u.g[T].length==0&&(delete u.g[T],u.h--))}}function $e(u,x,T,D){for(let ie=0;ie<u.length;++ie){const me=u[ie];if(!me.da&&me.listener==x&&me.capture==!!T&&me.ha==D)return ie}return-1}var rt="closure_lm_"+(Math.random()*1e6|0),qt={};function Oe(u,x,T,D,ie){if(Array.isArray(x)){for(let me=0;me<x.length;me++)Oe(u,x[me],T,D,ie);return null}return T=Yn(T),u&&u[dt]?u.J(x,T,_(D)?!!D.capture:!1,ie):hn(u,x,T,!1,D,ie)}function hn(u,x,T,D,ie,me){if(!x)throw Error("Invalid event type");const Me=_(ie)?!!ie.capture:!!ie;let ut=zt(u);if(ut||(u[rt]=ut=new Re(u)),T=ut.add(x,T,D,Me,me),T.proxy)return T;if(D=On(),T.proxy=D,D.src=u,D.listener=T,u.addEventListener)Y||(ie=Me),ie===void 0&&(ie=!1),u.addEventListener(x.toString(),D,ie);else if(u.attachEvent)u.attachEvent(Ft(x.toString()),D);else if(u.addListener&&u.removeListener)u.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return T}function On(){function u(T){return x.call(u.src,u.listener,T)}const x=yt;return u}function Qe(u,x,T,D,ie){if(Array.isArray(x))for(var me=0;me<x.length;me++)Qe(u,x[me],T,D,ie);else D=_(D)?!!D.capture:!!D,T=Yn(T),u&&u[dt]?(u=u.i,me=String(x).toString(),me in u.g&&(x=u.g[me],T=$e(x,T,D,ie),T>-1&&(Ae(x[T]),Array.prototype.splice.call(x,T,1),x.length==0&&(delete u.g[me],u.h--)))):u&&(u=zt(u))&&(x=u.g[x.toString()],u=-1,x&&(u=$e(x,T,D,ie)),(T=u>-1?x[u]:null)&&Je(T))}function Je(u){if(typeof u!="number"&&u&&!u.da){var x=u.src;if(x&&x[dt])Be(x.i,u);else{var T=u.type,D=u.proxy;x.removeEventListener?x.removeEventListener(T,D,u.capture):x.detachEvent?x.detachEvent(Ft(T),D):x.addListener&&x.removeListener&&x.removeListener(D),(T=zt(x))?(Be(T,u),T.h==0&&(T.src=null,x[rt]=null)):Ae(u)}}}function Ft(u){return u in qt?qt[u]:qt[u]="on"+u}function yt(u,x){if(u.da)u=!0;else{x=new at(x,this);const T=u.listener,D=u.ha||u.src;u.fa&&Je(u),u=T.call(D,x)}return u}function zt(u){return u=u[rt],u instanceof Re?u:null}var on="__closure_events_fn_"+(Math.random()*1e9>>>0);function Yn(u){return typeof u=="function"?u:(u[on]||(u[on]=function(x){return u.handleEvent(x)}),u[on])}function Nt(){j.call(this),this.i=new Re(this),this.M=this,this.G=null}N(Nt,j),Nt.prototype[dt]=!0,Nt.prototype.removeEventListener=function(u,x,T,D){Qe(this,u,x,T,D)};function Mt(u,x){var T,D=u.G;if(D)for(T=[];D;D=D.G)T.push(D);if(u=u.M,D=x.type||x,typeof x=="string")x=new z(x,u);else if(x instanceof z)x.target=x.target||u;else{var ie=x;x=new z(D,u),je(x,ie)}ie=!0;let me,Me;if(T)for(Me=T.length-1;Me>=0;Me--)me=x.g=T[Me],ie=wn(me,D,!0,x)&&ie;if(me=x.g=u,ie=wn(me,D,!0,x)&&ie,ie=wn(me,D,!1,x)&&ie,T)for(Me=0;Me<T.length;Me++)me=x.g=T[Me],ie=wn(me,D,!1,x)&&ie}Nt.prototype.N=function(){if(Nt.Z.N.call(this),this.i){var u=this.i;for(const x in u.g){const T=u.g[x];for(let D=0;D<T.length;D++)Ae(T[D]);delete u.g[x],u.h--}}this.G=null},Nt.prototype.J=function(u,x,T,D){return this.i.add(String(u),x,!1,T,D)},Nt.prototype.K=function(u,x,T,D){return this.i.add(String(u),x,!0,T,D)};function wn(u,x,T,D){if(x=u.i.g[String(x)],!x)return!0;x=x.concat();let ie=!0;for(let me=0;me<x.length;++me){const Me=x[me];if(Me&&!Me.da&&Me.capture==T){const ut=Me.listener,vn=Me.ha||Me.src;Me.fa&&Be(u.i,Me),ie=ut.call(vn,D)!==!1&&ie}}return ie&&!D.defaultPrevented}function Po(u,x){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:p.setTimeout(u,x||0)}function ri(u){u.g=Po(()=>{u.g=null,u.i&&(u.i=!1,ri(u))},u.l);const x=u.h;u.h=null,u.m.apply(null,x)}class Xn extends j{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:ri(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(u){j.call(this),this.h=u,this.g={}}N(Xr,j);var $r=[];function Zr(u){it(u.g,function(x,T){this.g.hasOwnProperty(T)&&Je(x)},u),u.g={}}Xr.prototype.N=function(){Xr.Z.N.call(this),Zr(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var va=p.JSON.stringify,Ei=p.JSON.parse,rs=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function wi(){}function _a(){}var fr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Tn(){z.call(this,"d")}N(Tn,z);function Sn(){z.call(this,"c")}N(Sn,z);var ze={},ai=null;function Rr(){return ai=ai||new Nt}ze.Ia="serverreachability";function Ti(u){z.call(this,ze.Ia,u)}N(Ti,z);function ke(u){const x=Rr();Mt(x,new Ti(x))}ze.STAT_EVENT="statevent";function Ba(u,x){z.call(this,ze.STAT_EVENT,u),this.stat=x}N(Ba,z);function dn(u){const x=Rr();Mt(x,new Ba(x,u))}ze.Ja="timingevent";function Nr(u,x){z.call(this,ze.Ja,u),this.size=x}N(Nr,z);function Jr(u,x){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},x)}function br(){this.g=!0}br.prototype.ua=function(){this.g=!1};function zl(u,x,T,D,ie,me){u.info(function(){if(u.g)if(me){var Me="",ut=me.split("&");for(let Ct=0;Ct<ut.length;Ct++){var vn=ut[Ct].split("=");if(vn.length>1){const Gt=vn[0];vn=vn[1];const Ur=Gt.split("_");Me=Ur.length>=2&&Ur[1]=="type"?Me+(Gt+"="+vn+"&"):Me+(Gt+"=redacted&")}}}else Me=null;else Me=me;return"XMLHTTP REQ ("+D+") [attempt "+ie+"]: "+x+`
`+T+`
`+Me})}function Lo(u,x,T,D,ie,me,Me){u.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+ie+"]: "+x+`
`+T+`
`+me+" "+Me})}function ar(u,x,T,D){u.info(function(){return"XMLHTTP TEXT ("+x+"): "+eo(u,T)+(D?" "+D:"")})}function Cr(u,x){u.info(function(){return"TIMEOUT: "+x})}br.prototype.info=function(){};function eo(u,x){if(!u.g)return x;if(!x)return null;try{const me=JSON.parse(x);if(me){for(u=0;u<me.length;u++)if(Array.isArray(me[u])){var T=me[u];if(!(T.length<2)){var D=T[1];if(Array.isArray(D)&&!(D.length<1)){var ie=D[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(let Me=1;Me<D.length;Me++)D[Me]=""}}}}return va(me)}catch{return x}}var ba={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ut={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ln;function Si(){}N(Si,wi),Si.prototype.g=function(){return new XMLHttpRequest},ln=new Si;function Dr(u){return encodeURIComponent(String(u))}function Ai(u){var x=1;u=u.split(":");const T=[];for(;x>0&&u.length;)T.push(u.shift()),x--;return u.length&&T.push(u.join(":")),T}function hr(u,x,T,D){this.j=u,this.i=x,this.l=T,this.S=D||1,this.V=new Xr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wr}function Wr(){this.i=null,this.g="",this.h=!1}var Ht={},nn={};function Kn(u,x,T){u.M=1,u.A=oi(pn(x)),u.u=T,u.R=!0,qa(u,null)}function qa(u,x){u.F=Date.now(),$n(u),u.B=pn(u.A);var T=u.B,D=u.S;Array.isArray(D)||(D=[String(D)]),ls(T.i,"t",D),u.C=0,T=u.j.L,u.h=new Wr,u.g=Nn(u.j,T?x:null,!u.u),u.P>0&&(u.O=new Xn(v(u.Y,u,u.g),u.P)),x=u.V,T=u.g,D=u.ba;var ie="readystatechange";Array.isArray(ie)||(ie&&($r[0]=ie.toString()),ie=$r);for(let me=0;me<ie.length;me++){const Me=Oe(T,ie[me],D||x.handleEvent,!1,x.h||x);if(!Me)break;x.g[Me.key]=Me}x=u.J?q(u.J):{},u.u?(u.v||(u.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,x)):(u.v="GET",u.g.ea(u.B,u.v,null,x)),ke(),zl(u.i,u.v,u.B,u.l,u.S,u.u)}hr.prototype.ba=function(u){u=u.target;const x=this.O;x&&oa(u)==3?x.j():this.Y(u)},hr.prototype.Y=function(u){try{if(u==this.g)e:{const ut=oa(this.g),vn=this.g.ya(),Ct=this.g.ca();if(!(ut<3)&&(ut!=3||this.g&&(this.h.h||this.g.la()||yn(this.g)))){this.K||ut!=4||vn==7||(vn==8||Ct<=0?ke(3):ke(2)),Ir(this);var x=this.g.ca();this.X=x;var T=Ul(this);if(this.o=x==200,Lo(this.i,this.v,this.B,this.l,this.S,ut,x),this.o){if(this.U&&!this.L){t:{if(this.g){var D,ie=this.g;if((D=ie.g?ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(D)){var me=D;break t}}me=null}if(u=me)ar(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Mn(this,u);else{this.o=!1,this.m=3,dn(12),An(this),It(this);break e}}if(this.R){u=!0;let Gt;for(;!this.K&&this.C<T.length;)if(Gt=to(this,T),Gt==nn){ut==4&&(this.m=4,dn(14),u=!1),ar(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==Ht){this.m=4,dn(15),ar(this.i,this.l,T,"[Invalid Chunk]"),u=!1;break}else ar(this.i,this.l,Gt,null),Mn(this,Gt);if(ea(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||T.length!=0||this.h.h||(this.m=1,dn(16),u=!1),this.o=this.o&&u,!u)ar(this.i,this.l,T,"[Invalid Chunked Response]"),An(this),It(this);else if(T.length>0&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.aa&&!Me.P&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),ui(Me),Me.P=!0,dn(11))}}else ar(this.i,this.l,T,null),Mn(this,T);ut==4&&An(this),this.o&&!this.K&&(ut==4?Xa(this.j,this):(this.o=!1,$n(this)))}else Qa(this.g),x==400&&T.indexOf("Unknown SID")>0?(this.m=3,dn(12)):(this.m=0,dn(13)),An(this),It(this)}}}catch{}finally{}};function Ul(u){if(!ea(u))return u.g.la();const x=yn(u.g);if(x==="")return"";let T="";const D=x.length,ie=oa(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return An(u),It(u),"";u.h.i=new p.TextDecoder}for(let me=0;me<D;me++)u.h.h=!0,T+=u.h.i.decode(x[me],{stream:!(ie&&me==D-1)});return x.length=0,u.h.g+=T,u.C=0,u.h.g}function ea(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function to(u,x){var T=u.C,D=x.indexOf(`
`,T);return D==-1?nn:(T=Number(x.substring(T,D)),isNaN(T)?Ht:(D+=1,D+T>x.length?nn:(x=x.slice(D,D+T),u.C=D+T,x)))}hr.prototype.cancel=function(){this.K=!0,An(this)};function $n(u){u.T=Date.now()+u.H,Ri(u,u.H)}function Ri(u,x){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Jr(v(u.aa,u),x)}function Ir(u){u.D&&(p.clearTimeout(u.D),u.D=null)}hr.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Cr(this.i,this.B),this.M!=2&&(ke(),dn(17)),An(this),this.m=2,It(this)):Ri(this,this.T-u)};function It(u){u.j.I==0||u.K||Xa(u.j,u)}function An(u){Ir(u);var x=u.O;x&&typeof x.dispose=="function"&&x.dispose(),u.O=null,Zr(u.V),u.g&&(x=u.g,u.g=null,x.abort(),x.dispose())}function Mn(u,x){try{var T=u.j;if(T.I!=0&&(T.g==u||Or(T.h,u))){if(!u.L&&Or(T.h,u)&&T.I==3){try{var D=T.Ba.g.parse(x)}catch{D=null}if(Array.isArray(D)&&D.length==3){var ie=D;if(ie[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<u.F)hs(T),Sa(T);else break e;Ra(T),dn(18)}}else T.xa=ie[1],0<T.xa-T.K&&ie[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Jr(v(T.Va,T),6e3));jr(T.h)<=1&&T.ta&&(T.ta=void 0)}else Lr(T,11)}else if((u.L||T.g==u)&&hs(T),!V(x))for(ie=T.Ba.g.parse(x),x=0;x<ie.length;x++){let Ct=ie[x];const Gt=Ct[0];if(!(Gt<=T.K))if(T.K=Gt,Ct=Ct[1],T.I==2)if(Ct[0]=="c"){T.M=Ct[1],T.ba=Ct[2];const Ur=Ct[3];Ur!=null&&(T.ka=Ur,T.j.info("VER="+T.ka));const Br=Ct[4];Br!=null&&(T.za=Br,T.j.info("SVER="+T.za));const wr=Ct[5];wr!=null&&typeof wr=="number"&&wr>0&&(D=1.5*wr,T.O=D,T.j.info("backChannelRequestTimeoutMs_="+D)),D=T;const ua=u.g;if(ua){const fi=ua.g?ua.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fi){var me=D.h;me.g||fi.indexOf("spdy")==-1&&fi.indexOf("quic")==-1&&fi.indexOf("h2")==-1||(me.j=me.l,me.g=new Set,me.h&&(ta(me,me.h),me.h=null))}if(D.G){const gs=ua.g?ua.g.getResponseHeader("X-HTTP-Session-Id"):null;gs&&(D.wa=gs,Vt(D.J,D.G,gs))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-u.F,T.j.info("Handshake RTT: "+T.T+"ms")),D=T;var Me=u;if(D.na=ps(D,D.L?D.ba:null,D.W),Me.L){as(D.h,Me);var ut=Me,vn=D.O;vn&&(ut.H=vn),ut.D&&(Ir(ut),$n(ut)),D.g=Me}else Ii(D);T.i.length>0&&Aa(T)}else Ct[0]!="stop"&&Ct[0]!="close"||Lr(T,7);else T.I==3&&(Ct[0]=="stop"||Ct[0]=="close"?Ct[0]=="stop"?Lr(T,7):li(T):Ct[0]!="noop"&&T.l&&T.l.qa(Ct),T.A=0)}}ke(4)}catch{}}var mn=class{constructor(u,x){this.g=u,this.map=x}};function xa(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ii(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function jr(u){return u.h?1:u.g?u.g.size:0}function Or(u,x){return u.h?u.h==x:u.g?u.g.has(x):!1}function ta(u,x){u.g?u.g.add(x):u.h=x}function as(u,x){u.h&&u.h==x?u.h=null:u.g&&u.g.has(x)&&u.g.delete(x)}xa.prototype.cancel=function(){if(this.i=si(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function si(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let x=u.i;for(const T of u.g.values())x=x.concat(T.G);return x}return H(u.i)}var no=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mt(u,x){if(u){u=u.split("&");for(let T=0;T<u.length;T++){const D=u[T].indexOf("=");let ie,me=null;D>=0?(ie=u[T].substring(0,D),me=u[T].substring(D+1)):ie=u[T],x(ie,me?decodeURIComponent(me.replace(/\+/g," ")):"")}}}function dr(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;u instanceof dr?(this.l=u.l,gn(this,u.j),this.o=u.o,this.g=u.g,Mr(this,u.u),this.h=u.h,is(this,Uo(u.i)),this.m=u.m):u&&(x=String(u).match(no))?(this.l=!1,gn(this,x[1]||"",!0),this.o=xt(x[2]||""),this.g=xt(x[3]||"",!0),Mr(this,x[4]),this.h=xt(x[5]||"",!0),is(this,x[6]||"",!0),this.m=xt(x[7]||"")):(this.l=!1,this.i=new ia(null,this.l))}dr.prototype.toString=function(){const u=[];var x=this.j;x&&u.push(na(x,ra,!0),":");var T=this.g;return(T||x=="file")&&(u.push("//"),(x=this.o)&&u.push(na(x,ra,!0),"@"),u.push(Dr(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&u.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&u.push("/"),u.push(na(T,T.charAt(0)=="/"?Ni:ss,!0))),(T=this.i.toString())&&u.push("?",T),(T=this.m)&&u.push("#",na(T,ro)),u.join("")},dr.prototype.resolve=function(u){const x=pn(this);let T=!!u.j;T?gn(x,u.j):T=!!u.o,T?x.o=u.o:T=!!u.g,T?x.g=u.g:T=u.u!=null;var D=u.h;if(T)Mr(x,u.u);else if(T=!!u.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var ie=x.h.lastIndexOf("/");ie!=-1&&(D=x.h.slice(0,ie+1)+D)}if(ie=D,ie==".."||ie==".")D="";else if(ie.indexOf("./")!=-1||ie.indexOf("/.")!=-1){D=ie.lastIndexOf("/",0)==0,ie=ie.split("/");const me=[];for(let Me=0;Me<ie.length;){const ut=ie[Me++];ut=="."?D&&Me==ie.length&&me.push(""):ut==".."?((me.length>1||me.length==1&&me[0]!="")&&me.pop(),D&&Me==ie.length&&me.push("")):(me.push(ut),D=!0)}D=me.join("/")}else D=ie}return T?x.h=D:T=u.i.toString()!=="",T?is(x,Uo(u.i)):T=!!u.m,T&&(x.m=u.m),x};function pn(u){return new dr(u)}function gn(u,x,T){u.j=T?xt(x,!0):x,u.j&&(u.j=u.j.replace(/:$/,""))}function Mr(u,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);u.u=x}else u.u=null}function is(u,x,T){x instanceof ia?(u.i=x,sa(u.i,u.l)):(T||(x=na(x,aa)),u.i=new ia(x,u.l))}function Vt(u,x,T){u.i.set(x,T)}function oi(u){return Vt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function xt(u,x){return u?x?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function na(u,x,T){return typeof u=="string"?(u=encodeURI(u).replace(x,Vn),T&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Vn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ra=/[#\/\?@]/g,ss=/[#\?:]/g,Ni=/[#\?]/g,aa=/[#\?@]/g,ro=/#/g;function ia(u,x){this.h=this.g=null,this.i=u||null,this.j=!!x}function ir(u){u.g||(u.g=new Map,u.h=0,u.i&&mt(u.i,function(x,T){u.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}a=ia.prototype,a.add=function(u,x){ir(this),this.i=null,u=bn(this,u);let T=this.g.get(u);return T||this.g.set(u,T=[]),T.push(x),this.h+=1,this};function zo(u,x){ir(u),x=bn(u,x),u.g.has(x)&&(u.i=null,u.h-=u.g.get(x).length,u.g.delete(x))}function bt(u,x){return ir(u),x=bn(u,x),u.g.has(x)}a.forEach=function(u,x){ir(this),this.g.forEach(function(T,D){T.forEach(function(ie){u.call(x,ie,D,this)},this)},this)};function os(u,x){ir(u);let T=[];if(typeof x=="string")bt(u,x)&&(T=T.concat(u.g.get(bn(u,x))));else for(u=Array.from(u.g.values()),x=0;x<u.length;x++)T=T.concat(u[x]);return T}a.set=function(u,x){return ir(this),this.i=null,u=bn(this,u),bt(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[x]),this.h+=1,this},a.get=function(u,x){return u?(u=os(this,u),u.length>0?String(u[0]):x):x};function ls(u,x,T){zo(u,x),T.length>0&&(u.i=null,u.g.set(bn(u,x),H(T)),u.h+=T.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],x=Array.from(this.g.keys());for(let D=0;D<x.length;D++){var T=x[D];const ie=Dr(T);T=os(this,T);for(let me=0;me<T.length;me++){let Me=ie;T[me]!==""&&(Me+="="+Dr(T[me])),u.push(Me)}}return this.i=u.join("&")};function Uo(u){const x=new ia;return x.i=u.i,u.g&&(x.g=new Map(u.g),x.h=u.h),x}function bn(u,x){return x=String(x),u.j&&(x=x.toLowerCase()),x}function sa(u,x){x&&!u.j&&(ir(u),u.i=null,u.g.forEach(function(T,D){const ie=D.toLowerCase();D!=ie&&(zo(this,D),ls(this,ie,T))},u)),u.j=x}function mr(u,x){const T=new br;if(p.Image){const D=new Image;D.onload=A(xr,T,"TestLoadImage: loaded",!0,x,D),D.onerror=A(xr,T,"TestLoadImage: error",!1,x,D),D.onabort=A(xr,T,"TestLoadImage: abort",!1,x,D),D.ontimeout=A(xr,T,"TestLoadImage: timeout",!1,x,D),p.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=u}else x(!1)}function Vr(u,x){const T=new br,D=new AbortController,ie=setTimeout(()=>{D.abort(),xr(T,"TestPingServer: timeout",!1,x)},1e4);fetch(u,{signal:D.signal}).then(me=>{clearTimeout(ie),me.ok?xr(T,"TestPingServer: ok",!0,x):xr(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(ie),xr(T,"TestPingServer: error",!1,x)})}function xr(u,x,T,D,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),D(T)}catch{}}function Fa(){this.g=new rs}function Kt(u){this.i=u.Sb||null,this.h=u.ab||!1}N(Kt,wi),Kt.prototype.g=function(){return new Zn(this.i,this.h)};function Zn(u,x){Nt.call(this),this.H=u,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}N(Zn,Nt),a=Zn.prototype,a.open=function(u,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=x,this.readyState=1,Er(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(x.body=u),(this.H||p).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,kr(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Er(this)),this.g&&(this.readyState=3,Er(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ea(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ea(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var x=u.value?u.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!u.done}))&&(this.response=this.responseText+=x)}u.done?kr(this):Er(this),this.readyState==3&&Ea(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,kr(this))},a.Na=function(u){this.g&&(this.response=u,kr(this))},a.ga=function(){this.g&&kr(this)};function kr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Er(u)}a.setRequestHeader=function(u,x){this.A.append(u,x)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,u.push(T[0]+": "+T[1]),T=x.next();return u.join(`\r
`)};function Er(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Zn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let x="";return it(u,function(T,D){x+=D,x+=":",x+=T,x+=`\r
`}),x}function Ci(u,x,T){e:{for(D in T){var D=!1;break e}D=!0}D||(T=Rn(T),typeof u=="string"?T!=null&&Dr(T):Vt(u,x,T))}function _t(u){Nt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}N(_t,Nt);var Pr=/^https?$/i,us=["POST","PUT"];a=_t.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,x,T,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);x=x?x.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ln.g(),this.g.onreadystatechange=O(v(this.Ca,this));try{this.B=!0,this.g.open(x,String(u),!0),this.B=!1}catch(me){Ha(this,me);return}if(u=T||"",T=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var ie in D)T.set(ie,D[ie]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const me of D.keys())T.set(me,D.get(me));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(T.keys()).find(me=>me.toLowerCase()=="content-type"),ie=p.FormData&&u instanceof p.FormData,!(Array.prototype.indexOf.call(us,x,void 0)>=0)||D||ie||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[me,Me]of T)this.g.setRequestHeader(me,Me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(me){Ha(this,me)}};function Ha(u,x){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=x,u.o=5,Ka(u),wa(u)}function Ka(u){u.A||(u.A=!0,Mt(u,"complete"),Mt(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Mt(this,"complete"),Mt(this,"abort"),wa(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wa(this,!0)),_t.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?Ga(this):this.Xa())},a.Xa=function(){Ga(this)};function Ga(u){if(u.h&&typeof c<"u"){if(u.v&&oa(u)==4)setTimeout(u.Ca.bind(u),0);else if(Mt(u,"readystatechange"),oa(u)==4){u.h=!1;try{const me=u.ca();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var T;if(!(T=x)){var D;if(D=me===0){let Me=String(u.D).match(no)[1]||null;!Me&&p.self&&p.self.location&&(Me=p.self.location.protocol.slice(0,-1)),D=!Pr.test(Me?Me.toLowerCase():"")}T=D}if(T)Mt(u,"complete"),Mt(u,"success");else{u.o=6;try{var ie=oa(u)>2?u.g.statusText:""}catch{ie=""}u.l=ie+" ["+u.ca()+"]",Ka(u)}}finally{wa(u)}}}}function wa(u,x){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const T=u.g;u.g=null,x||Mt(u,"ready");try{T.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function oa(u){return u.g?u.g.readyState:0}a.ca=function(){try{return oa(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var x=this.g.responseText;return u&&x.indexOf(u)==0&&(x=x.substring(u.length)),Ei(x)}};function yn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Qa(u){const x={};u=(u.g&&oa(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<u.length;D++){if(V(u[D]))continue;var T=Ai(u[D]);const ie=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const me=x[ie]||[];x[ie]=me,me.push(T)}tt(x,function(D){return D.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ta(u,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[u]||x}function la(u){this.za=0,this.i=[],this.j=new br,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ta("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ta("baseRetryDelayMs",5e3,u),this.Za=Ta("retryDelaySeedMs",1e4,u),this.Ta=Ta("forwardChannelMaxRetries",2,u),this.va=Ta("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new xa(u&&u.concurrentRequestLimit),this.Ba=new Fa,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=la.prototype,a.ka=8,a.I=1,a.connect=function(u,x,T,D){dn(0),this.W=u,this.H=x||{},T&&D!==void 0&&(this.H.OSID=T,this.H.OAID=D),this.F=this.X,this.J=ps(this,null,this.W),Aa(this)};function li(u){if(cs(u),u.I==3){var x=u.V++,T=pn(u.J);if(Vt(T,"SID",u.M),Vt(T,"RID",x),Vt(T,"TYPE","terminate"),Ya(u,T),x=new hr(u,u.j,x),x.M=2,x.A=oi(pn(T)),T=!1,p.navigator&&p.navigator.sendBeacon)try{T=p.navigator.sendBeacon(x.A.toString(),"")}catch{}!T&&p.Image&&(new Image().src=x.A,T=!0),T||(x.g=Nn(x.j,null),x.g.ea(x.A)),x.F=Date.now(),$n(x)}ms(u)}function Sa(u){u.g&&(ui(u),u.g.cancel(),u.g=null)}function cs(u){Sa(u),u.v&&(p.clearTimeout(u.v),u.v=null),hs(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&p.clearTimeout(u.m),u.m=null)}function Aa(u){if(!ii(u.h)&&!u.m){u.m=!0;var x=u.Ea;Ke||M(),Ge||(Ke(),Ge=!0),k.add(x,u),u.D=0}}function fs(u,x){return jr(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=x.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Jr(v(u.Ea,u,x),ds(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const ie=new hr(this,this.j,u);let me=this.o;if(this.U&&(me?(me=q(me),je(me,this.U)):me=this.U),this.u!==null||this.R||(ie.J=me,me=null),this.S)e:{for(var x=0,T=0;T<this.i.length;T++){t:{var D=this.i[T];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(x+=D,x>4096){x=T;break e}if(x===4096||T===this.i.length-1){x=T+1;break e}}x=1e3}else x=1e3;x=ao(this,ie,x),T=pn(this.J),Vt(T,"RID",u),Vt(T,"CVER",22),this.G&&Vt(T,"X-HTTP-Session-Id",this.G),Ya(this,T),me&&(this.R?x="headers="+Dr(Rn(me))+"&"+x:this.u&&Ci(T,this.u,me)),ta(this.h,ie),this.Ra&&Vt(T,"TYPE","init"),this.S?(Vt(T,"$req",x),Vt(T,"SID","null"),ie.U=!0,Kn(ie,T,null)):Kn(ie,T,x),this.I=2}}else this.I==3&&(u?Di(this,u):this.i.length==0||ii(this.h)||Di(this))};function Di(u,x){var T;x?T=x.l:T=u.V++;const D=pn(u.J);Vt(D,"SID",u.M),Vt(D,"RID",T),Vt(D,"AID",u.K),Ya(u,D),u.u&&u.o&&Ci(D,u.u,u.o),T=new hr(u,u.j,T,u.D+1),u.u===null&&(T.J=u.o),x&&(u.i=x.G.concat(u.i)),x=ao(u,T,1e3),T.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),ta(u.h,T),Kn(T,D,x)}function Ya(u,x){u.H&&it(u.H,function(T,D){Vt(x,D,T)}),u.l&&it({},function(T,D){Vt(x,D,T)})}function ao(u,x,T){T=Math.min(u.i.length,T);const D=u.l?v(u.l.Ka,u.l,u):null;e:{var ie=u.i;let ut=-1;for(;;){const vn=["count="+T];ut==-1?T>0?(ut=ie[0].g,vn.push("ofs="+ut)):ut=0:vn.push("ofs="+ut);let Ct=!0;for(let Gt=0;Gt<T;Gt++){var me=ie[Gt].g;const Ur=ie[Gt].map;if(me-=ut,me<0)ut=Math.max(0,ie[Gt].g-100),Ct=!1;else try{me="req"+me+"_"||"";try{var Me=Ur instanceof Map?Ur:Object.entries(Ur);for(const[Br,wr]of Me){let ua=wr;_(wr)&&(ua=va(wr)),vn.push(me+Br+"="+encodeURIComponent(ua))}}catch(Br){throw vn.push(me+"type="+encodeURIComponent("_badmap")),Br}}catch{D&&D(Ur)}}if(Ct){Me=vn.join("&");break e}}Me=void 0}return u=u.i.splice(0,T),x.G=u,Me}function Ii(u){if(!u.g&&!u.v){u.Y=1;var x=u.Da;Ke||M(),Ge||(Ke(),Ge=!0),k.add(x,u),u.A=0}}function Ra(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Jr(v(u.Da,u),ds(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,io(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Jr(v(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,dn(10),Sa(this),io(this))};function ui(u){u.B!=null&&(p.clearTimeout(u.B),u.B=null)}function io(u){u.g=new hr(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var x=pn(u.na);Vt(x,"RID","rpc"),Vt(x,"SID",u.M),Vt(x,"AID",u.K),Vt(x,"CI",u.F?"0":"1"),!u.F&&u.ia&&Vt(x,"TO",u.ia),Vt(x,"TYPE","xmlhttp"),Ya(u,x),u.u&&u.o&&Ci(x,u.u,u.o),u.O&&(u.g.H=u.O);var T=u.g;u=u.ba,T.M=1,T.A=oi(pn(x)),T.u=null,T.R=!0,qa(T,u)}a.Va=function(){this.C!=null&&(this.C=null,Sa(this),Ra(this),dn(19))};function hs(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function Xa(u,x){var T=null;if(u.g==x){hs(u),ui(u),u.g=null;var D=2}else if(Or(u.h,x))T=x.G,as(u.h,x),D=1;else return;if(u.I!=0){if(x.o)if(D==1){T=x.u?x.u.length:0,x=Date.now()-x.F;var ie=u.D;D=Rr(),Mt(D,new Nr(D,T)),Aa(u)}else Ii(u);else if(ie=x.m,ie==3||ie==0&&x.X>0||!(D==1&&fs(u,x)||D==2&&Ra(u)))switch(T&&T.length>0&&(x=u.h,x.i=x.i.concat(T)),ie){case 1:Lr(u,5);break;case 4:Lr(u,10);break;case 3:Lr(u,6);break;default:Lr(u,2)}}}function ds(u,x){let T=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(T*=2),T*x}function Lr(u,x){if(u.j.info("Error code "+x),x==2){var T=v(u.bb,u),D=u.Ua;const ie=!D;D=new dr(D||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||gn(D,"https"),oi(D),ie?mr(D.toString(),T):Vr(D.toString(),T)}else dn(2);u.I=0,u.l&&u.l.pa(x),ms(u),cs(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),dn(2)):(this.j.info("Failed to ping google.com"),dn(1))};function ms(u){if(u.I=0,u.ja=[],u.l){const x=si(u.h);(x.length!=0||u.i.length!=0)&&(le(u.ja,x),le(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function ps(u,x,T){var D=T instanceof dr?pn(T):new dr(T);if(D.g!="")x&&(D.g=x+"."+D.g),Mr(D,D.u);else{var ie=p.location;D=ie.protocol,x=x?x+"."+ie.hostname:ie.hostname,ie=+ie.port;const me=new dr(null);D&&gn(me,D),x&&(me.g=x),ie&&Mr(me,ie),T&&(me.h=T),D=me}return T=u.G,x=u.wa,T&&x&&Vt(D,T,x),Vt(D,"VER",u.ka),Ya(u,D),D}function Nn(u,x,T){if(x&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=u.Aa&&!u.ma?new _t(new Kt({ab:T})):new _t(u.ma),x.Fa(u.L),x}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function ci(){}a=ci.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function zr(){}zr.prototype.g=function(u,x){return new Jn(u,x)};function Jn(u,x){Nt.call(this),this.g=new la(x),this.l=u,this.h=x&&x.messageUrlParams||null,u=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(u?u["X-WebChannel-Content-Type"]=x.messageContentType:u={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(u?u["X-WebChannel-Client-Profile"]=x.sa:u={"X-WebChannel-Client-Profile":x.sa}),this.g.U=u,(u=x&&x.Qb)&&!V(u)&&(this.g.u=u),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!V(x)&&(this.g.G=x,u=this.h,u!==null&&x in u&&(u=this.h,x in u&&delete u[x])),this.j=new Na(this)}N(Jn,Nt),Jn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Jn.prototype.close=function(){li(this.g)},Jn.prototype.o=function(u){var x=this.g;if(typeof u=="string"){var T={};T.__data__=u,u=T}else this.v&&(T={},T.__data__=va(u),u=T);x.i.push(new mn(x.Ya++,u)),x.I==3&&Aa(x)},Jn.prototype.N=function(){this.g.l=null,delete this.j,li(this.g),delete this.g,Jn.Z.N.call(this)};function ji(u){Tn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var x=u.__sm__;if(x){e:{for(const T in x){u=T;break e}u=void 0}(this.i=u)&&(u=this.i,x=x!==null&&u in x?x[u]:void 0),this.data=x}else this.data=u}N(ji,Tn);function so(){Sn.call(this),this.status=1}N(so,Sn);function Na(u){this.g=u}N(Na,ci),Na.prototype.ra=function(){Mt(this.g,"a")},Na.prototype.qa=function(u){Mt(this.g,new ji(u))},Na.prototype.pa=function(u){Mt(this.g,new so)},Na.prototype.oa=function(){Mt(this.g,"b")},zr.prototype.createWebChannel=zr.prototype.g,Jn.prototype.send=Jn.prototype.o,Jn.prototype.open=Jn.prototype.m,Jn.prototype.close=Jn.prototype.close,X_=function(){return new zr},Y_=function(){return Rr()},Q_=ze,dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ba.NO_ERROR=0,ba.TIMEOUT=8,ba.HTTP_ERROR=6,lf=ba,Ut.COMPLETE="complete",G_=Ut,_a.EventType=fr,fr.OPEN="a",fr.CLOSE="b",fr.ERROR="c",fr.MESSAGE="d",Nt.prototype.listen=Nt.prototype.J,Su=_a,_t.prototype.listenOnce=_t.prototype.K,_t.prototype.getLastError=_t.prototype.Ha,_t.prototype.getLastErrorCode=_t.prototype.ya,_t.prototype.getStatus=_t.prototype.ca,_t.prototype.getResponseJson=_t.prototype.La,_t.prototype.getResponseText=_t.prototype.la,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Fa,K_=_t}).apply(typeof Wc<"u"?Wc:typeof self<"u"?self:typeof window<"u"?window:{});const a0="@firebase/firestore",i0="4.9.2";class vr{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}vr.UNAUTHENTICATED=new vr(null),vr.GOOGLE_CREDENTIALS=new vr("google-credentials-uid"),vr.FIRST_PARTY=new vr("first-party-uid"),vr.MOCK_USER=new vr("mock-user");let Vl="12.3.0";const Co=new L_("@firebase/firestore");function ml(){return Co.logLevel}function qe(a,...t){if(Co.logLevel<=Ot.DEBUG){const r=t.map(Qm);Co.debug(`Firestore (${Vl}): ${a}`,...r)}}function es(a,...t){if(Co.logLevel<=Ot.ERROR){const r=t.map(Qm);Co.error(`Firestore (${Vl}): ${a}`,...r)}}function Do(a,...t){if(Co.logLevel<=Ot.WARN){const r=t.map(Qm);Co.warn(`Firestore (${Vl}): ${a}`,...r)}}function Qm(a){if(typeof a=="string")return a;try{return(function(r){return JSON.stringify(r)})(a)}catch{return a}}function st(a,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,$_(a,s,r)}function $_(a,t,r){let s=`FIRESTORE (${Vl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(r!==void 0)try{s+=" CONTEXT: "+JSON.stringify(r)}catch{s+=" CONTEXT: "+r}throw es(s),new Error(s)}function Bt(a,t,r,s){let l="Unexpected state";typeof r=="string"?l=r:s=r,a||$_(t,l,s)}function ht(a,t){return a}const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class He extends Ml{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ao{constructor(){this.promise=new Promise(((t,r)=>{this.resolve=t,this.reject=r}))}}class Z_{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class J_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable((()=>r(vr.UNAUTHENTICATED)))}shutdown(){}}class hS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class dS{constructor(t){this.t=t,this.currentUser=vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Bt(this.o===void 0,42304);let s=this.i;const l=b=>this.i!==s?(s=this.i,r(b)):Promise.resolve();let c=new Ao;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ao,t.enqueueRetryable((()=>l(this.currentUser)))};const p=()=>{const b=c;t.enqueueRetryable((async()=>{await b.promise,await l(this.currentUser)}))},_=b=>{qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((b=>_(b))),setTimeout((()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ao)}}),0),p()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((s=>this.i!==t?(qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Bt(typeof s.accessToken=="string",31837,{l:s}),new Z_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Bt(t===null||typeof t=="string",2055,{h:t}),new vr(t)}}class mS{constructor(t,r,s){this.P=t,this.T=r,this.I=s,this.type="FirstParty",this.user=vr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pS{constructor(t,r,s){this.P=t,this.T=r,this.I=s}getToken(){return Promise.resolve(new mS(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable((()=>r(vr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class s0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gS{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,X2(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Bt(this.o===void 0,3512);const s=c=>{c.error!=null&&qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.m;return this.m=c.token,qe("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?r(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new s0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((r=>r?(Bt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new s0(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function yS(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let s=0;s<a;s++)r[s]=Math.floor(256*Math.random());return r}class zf{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=yS(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<r&&(s+=t.charAt(l[c]%62))}return s}}function At(a,t){return a<t?-1:a>t?1:0}function mm(a,t){const r=Math.min(a.length,t.length);for(let s=0;s<r;s++){const l=a.charAt(s),c=t.charAt(s);if(l!==c)return tm(l)===tm(c)?At(l,c):tm(l)?1:-1}return At(a.length,t.length)}const vS=55296,_S=57343;function tm(a){const t=a.charCodeAt(0);return t>=vS&&t<=_S}function El(a,t,r){return a.length===t.length&&a.every(((s,l)=>r(s,t[l])))}const o0="__name__";class yi{constructor(t,r,s){r===void 0?r=0:r>t.length&&st(637,{offset:r,range:t.length}),s===void 0?s=t.length-r:s>t.length-r&&st(1746,{length:s,range:t.length-r}),this.segments=t,this.offset=r,this.len=s}get length(){return this.len}isEqual(t){return yi.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof yi?t.forEach((s=>{r.push(s)})):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,s=this.limit();r<s;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const s=Math.min(t.length,r.length);for(let l=0;l<s;l++){const c=yi.compareSegments(t.get(l),r.get(l));if(c!==0)return c}return At(t.length,r.length)}static compareSegments(t,r){const s=yi.isNumericId(t),l=yi.isNumericId(r);return s&&!l?-1:!s&&l?1:s&&l?yi.extractNumericId(t).compare(yi.extractNumericId(r)):mm(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ks.fromString(t.substring(4,t.length-2))}}class en extends yi{construct(t,r,s){return new en(t,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const s of t){if(s.indexOf("//")>=0)throw new He(we.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter((l=>l.length>0)))}return new en(r)}static emptyPath(){return new en([])}}const bS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nr extends yi{construct(t,r,s){return new nr(t,r,s)}static isValidIdentifier(t){return bS.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nr.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===o0}static keyField(){return new nr([o0])}static fromServerFormat(t){const r=[];let s="",l=0;const c=()=>{if(s.length===0)throw new He(we.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let p=!1;for(;l<t.length;){const _=t[l];if(_==="\\"){if(l+1===t.length)throw new He(we.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const b=t[l+1];if(b!=="\\"&&b!=="."&&b!=="`")throw new He(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=b,l+=2}else _==="`"?(p=!p,l++):_!=="."||p?(s+=_,l++):(c(),l++)}if(c(),p)throw new He(we.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new nr(r)}static emptyPath(){return new nr([])}}class Ze{constructor(t){this.path=t}static fromPath(t){return new Ze(en.fromString(t))}static fromName(t){return new Ze(en.fromString(t).popFirst(5))}static empty(){return new Ze(en.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&en.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return en.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ze(new en(t.slice()))}}function W_(a,t,r){if(!r)throw new He(we.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function eb(a,t,r,s){if(t===!0&&s===!0)throw new He(we.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)}function l0(a){if(!Ze.isDocumentKey(a))throw new He(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function u0(a){if(Ze.isDocumentKey(a))throw new He(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function tb(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Uf(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":st(12329,{type:typeof a})}function Gs(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new He(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Uf(a);throw new He(we.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return a}function Hn(a,t){const r={typeString:a};return t&&(r.value=t),r}function Hu(a,t){if(!tb(a))throw new He(we.INVALID_ARGUMENT,"JSON must be an object");let r;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in a)){r=`JSON missing required field: '${s}'`;break}const p=a[s];if(l&&typeof p!==l){r=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&p!==c.value){r=`Expected '${s}' field to equal '${c.value}'`;break}}if(r)throw new He(we.INVALID_ARGUMENT,r);return!0}const c0=-62135596800,f0=1e6;class tn{static now(){return tn.fromMillis(Date.now())}static fromDate(t){return tn.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),s=Math.floor((t-1e3*r)*f0);return new tn(r,s)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new He(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new He(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<c0)throw new He(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new He(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/f0}_compareTo(t){return this.seconds===t.seconds?At(this.nanoseconds,t.nanoseconds):At(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Hu(t,tn._jsonSchema))return new tn(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-c0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tn._jsonSchemaVersion="firestore/timestamp/1.0",tn._jsonSchema={type:Hn("string",tn._jsonSchemaVersion),seconds:Hn("number"),nanoseconds:Hn("number")};class ct{static fromTimestamp(t){return new ct(t)}static min(){return new ct(new tn(0,0))}static max(){return new ct(new tn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Pu=-1;function xS(a,t){const r=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=ct.fromTimestamp(s===1e9?new tn(r+1,0):new tn(r,s));return new Ys(l,Ze.empty(),t)}function ES(a){return new Ys(a.readTime,a.key,Pu)}class Ys{constructor(t,r,s){this.readTime=t,this.documentKey=r,this.largestBatchId=s}static min(){return new Ys(ct.min(),Ze.empty(),Pu)}static max(){return new Ys(ct.max(),Ze.empty(),Pu)}}function wS(a,t){let r=a.readTime.compareTo(t.readTime);return r!==0?r:(r=Ze.comparator(a.documentKey,t.documentKey),r!==0?r:At(a.largestBatchId,t.largestBatchId))}const TS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function kl(a){if(a.code!==we.FAILED_PRECONDITION||a.message!==TS)throw a;qe("LocalStore","Unexpectedly lost primary lease")}class Te{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&st(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new Te(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(r,c).next(s,l)}}))}toPromise(){return new Promise(((t,r)=>{this.next(t,r)}))}wrapUserFunction(t){try{const r=t();return r instanceof Te?r:Te.resolve(r)}catch(r){return Te.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction((()=>t(r))):Te.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction((()=>t(r))):Te.reject(r)}static resolve(t){return new Te(((r,s)=>{r(t)}))}static reject(t){return new Te(((r,s)=>{s(t)}))}static waitFor(t){return new Te(((r,s)=>{let l=0,c=0,p=!1;t.forEach((_=>{++l,_.next((()=>{++c,p&&c===l&&r()}),(b=>s(b)))})),p=!0,c===l&&r()}))}static or(t){let r=Te.resolve(!1);for(const s of t)r=r.next((l=>l?Te.resolve(l):s()));return r}static forEach(t,r){const s=[];return t.forEach(((l,c)=>{s.push(r.call(this,l,c))})),this.waitFor(s)}static mapArray(t,r){return new Te(((s,l)=>{const c=t.length,p=new Array(c);let _=0;for(let b=0;b<c;b++){const v=b;r(t[v]).next((A=>{p[v]=A,++_,_===c&&s(p)}),(A=>l(A)))}}))}static doWhile(t,r){return new Te(((s,l)=>{const c=()=>{t()===!0?r().next((()=>{c()}),l):s()};c()}))}}function AS(a){const t=a.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Pl(a){return a.name==="IndexedDbTransactionError"}class Bf{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>r.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Bf.ce=-1;const Ym=-1;function qf(a){return a==null}function Ef(a){return a===0&&1/a==-1/0}function RS(a){return typeof a=="number"&&Number.isInteger(a)&&!Ef(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const nb="";function NS(a){let t="";for(let r=0;r<a.length;r++)t.length>0&&(t=h0(t)),t=CS(a.get(r),t);return h0(t)}function CS(a,t){let r=t;const s=a.length;for(let l=0;l<s;l++){const c=a.charAt(l);switch(c){case"\0":r+="";break;case nb:r+="";break;default:r+=c}}return r}function h0(a){return a+nb+""}function d0(a){let t=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&t++;return t}function jo(a,t){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&t(r,a[r])}function rb(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class _n{constructor(t,r){this.comparator=t,this.root=r||cr.EMPTY}insert(t,r){return new _n(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,cr.BLACK,null,null))}remove(t){return new _n(this.comparator,this.root.remove(t,this.comparator).copy(null,null,cr.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(t){let r=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return r+s.left.size;l<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((r,s)=>(t(r,s),!1)))}toString(){const t=[];return this.inorderTraversal(((r,s)=>(t.push(`${r}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ef(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ef(this.root,t,this.comparator,!1)}getReverseIterator(){return new ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ef(this.root,t,this.comparator,!0)}}class ef{constructor(t,r,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=r?s(t.key,r):1,r&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class cr{constructor(t,r,s,l,c){this.key=t,this.value=r,this.color=s??cr.RED,this.left=l??cr.EMPTY,this.right=c??cr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,s,l,c){return new cr(t??this.key,r??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,r,s),null):c===0?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(t,r,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return cr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let s,l=this;if(r(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),r(t,l.key)===0){if(l.right.isEmpty())return cr.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,cr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,cr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw st(43730,{key:this.key,value:this.value});if(this.right.isRed())throw st(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw st(27949);return t+(this.isRed()?0:1)}}cr.EMPTY=null,cr.RED=!0,cr.BLACK=!1;cr.EMPTY=new class{constructor(){this.size=0}get key(){throw st(57766)}get value(){throw st(16141)}get color(){throw st(16727)}get left(){throw st(29726)}get right(){throw st(36894)}copy(t,r,s,l,c){return this}insert(t,r,s){return new cr(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qn{constructor(t){this.comparator=t,this.data=new _n(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((r,s)=>(t(r),!1)))}forEachInRange(t,r){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;r(l.key)}}forEachWhile(t,r){let s;for(s=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new m0(this.data.getIterator())}getIteratorFrom(t){return new m0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach((s=>{r=r.add(s)})),r}isEqual(t){if(!(t instanceof Qn)||this.size!==t.size)return!1;const r=this.data.getIterator(),s=t.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((r=>{t.push(r)})),t}toString(){const t=[];return this.forEach((r=>t.push(r))),"SortedSet("+t.toString()+")"}copy(t){const r=new Qn(this.comparator);return r.data=t,r}}class m0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ja{constructor(t){this.fields=t,t.sort(nr.comparator)}static empty(){return new Ja([])}unionWith(t){let r=new Qn(nr.comparator);for(const s of this.fields)r=r.add(s);for(const s of t)r=r.add(s);return new Ja(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return El(this.fields,t.fields,((r,s)=>r.isEqual(s)))}}class ab extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rr{constructor(t){this.binaryString=t}static fromBase64String(t){const r=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new ab("Invalid base64 string: "+c):c}})(t);return new rr(r)}static fromUint8Array(t){const r=(function(l){let c="";for(let p=0;p<l.length;++p)c+=String.fromCharCode(l[p]);return c})(t);return new rr(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const s=new Uint8Array(r.length);for(let l=0;l<r.length;l++)s[l]=r.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return At(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}rr.EMPTY_BYTE_STRING=new rr("");const DS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(a){if(Bt(!!a,39018),typeof a=="string"){let t=0;const r=DS.exec(a);if(Bt(!!r,46558,{timestamp:a}),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:In(a.seconds),nanos:In(a.nanos)}}function In(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function $s(a){return typeof a=="string"?rr.fromBase64String(a):rr.fromUint8Array(a)}const ib="server_timestamp",sb="__type__",ob="__previous_value__",lb="__local_write_time__";function Xm(a){return(a?.mapValue?.fields||{})[sb]?.stringValue===ib}function Ff(a){const t=a.mapValue.fields[ob];return Xm(t)?Ff(t):t}function Lu(a){const t=Xs(a.mapValue.fields[lb].timestampValue);return new tn(t.seconds,t.nanos)}class IS{constructor(t,r,s,l,c,p,_,b,v,A){this.databaseId=t,this.appId=r,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=_,this.longPollingOptions=b,this.useFetchStreams=v,this.isUsingEmulator=A}}const wf="(default)";class wl{constructor(t,r){this.projectId=t,this.database=r||wf}static empty(){return new wl("","")}get isDefaultDatabase(){return this.database===wf}isEqual(t){return t instanceof wl&&t.projectId===this.projectId&&t.database===this.database}}const ub="__type__",jS="__max__",tf={mapValue:{}},cb="__vector__",Tf="value";function Zs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Xm(a)?4:MS(a)?9007199254740991:OS(a)?10:11:st(28295,{value:a})}function xi(a,t){if(a===t)return!0;const r=Zs(a);if(r!==Zs(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Lu(a).isEqual(Lu(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const p=Xs(l.timestampValue),_=Xs(c.timestampValue);return p.seconds===_.seconds&&p.nanos===_.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(l,c){return $s(l.bytesValue).isEqual($s(c.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(l,c){return In(l.geoPointValue.latitude)===In(c.geoPointValue.latitude)&&In(l.geoPointValue.longitude)===In(c.geoPointValue.longitude)})(a,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return In(l.integerValue)===In(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const p=In(l.doubleValue),_=In(c.doubleValue);return p===_?Ef(p)===Ef(_):isNaN(p)&&isNaN(_)}return!1})(a,t);case 9:return El(a.arrayValue.values||[],t.arrayValue.values||[],xi);case 10:case 11:return(function(l,c){const p=l.mapValue.fields||{},_=c.mapValue.fields||{};if(d0(p)!==d0(_))return!1;for(const b in p)if(p.hasOwnProperty(b)&&(_[b]===void 0||!xi(p[b],_[b])))return!1;return!0})(a,t);default:return st(52216,{left:a})}}function zu(a,t){return(a.values||[]).find((r=>xi(r,t)))!==void 0}function Tl(a,t){if(a===t)return 0;const r=Zs(a),s=Zs(t);if(r!==s)return At(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return At(a.booleanValue,t.booleanValue);case 2:return(function(c,p){const _=In(c.integerValue||c.doubleValue),b=In(p.integerValue||p.doubleValue);return _<b?-1:_>b?1:_===b?0:isNaN(_)?isNaN(b)?0:-1:1})(a,t);case 3:return p0(a.timestampValue,t.timestampValue);case 4:return p0(Lu(a),Lu(t));case 5:return mm(a.stringValue,t.stringValue);case 6:return(function(c,p){const _=$s(c),b=$s(p);return _.compareTo(b)})(a.bytesValue,t.bytesValue);case 7:return(function(c,p){const _=c.split("/"),b=p.split("/");for(let v=0;v<_.length&&v<b.length;v++){const A=At(_[v],b[v]);if(A!==0)return A}return At(_.length,b.length)})(a.referenceValue,t.referenceValue);case 8:return(function(c,p){const _=At(In(c.latitude),In(p.latitude));return _!==0?_:At(In(c.longitude),In(p.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return g0(a.arrayValue,t.arrayValue);case 10:return(function(c,p){const _=c.fields||{},b=p.fields||{},v=_[Tf]?.arrayValue,A=b[Tf]?.arrayValue,N=At(v?.values?.length||0,A?.values?.length||0);return N!==0?N:g0(v,A)})(a.mapValue,t.mapValue);case 11:return(function(c,p){if(c===tf.mapValue&&p===tf.mapValue)return 0;if(c===tf.mapValue)return 1;if(p===tf.mapValue)return-1;const _=c.fields||{},b=Object.keys(_),v=p.fields||{},A=Object.keys(v);b.sort(),A.sort();for(let N=0;N<b.length&&N<A.length;++N){const O=mm(b[N],A[N]);if(O!==0)return O;const H=Tl(_[b[N]],v[A[N]]);if(H!==0)return H}return At(b.length,A.length)})(a.mapValue,t.mapValue);default:throw st(23264,{he:r})}}function p0(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return At(a,t);const r=Xs(a),s=Xs(t),l=At(r.seconds,s.seconds);return l!==0?l:At(r.nanos,s.nanos)}function g0(a,t){const r=a.values||[],s=t.values||[];for(let l=0;l<r.length&&l<s.length;++l){const c=Tl(r[l],s[l]);if(c)return c}return At(r.length,s.length)}function Sl(a){return pm(a)}function pm(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(r){const s=Xs(r);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(r){return $s(r).toBase64()})(a.bytesValue):"referenceValue"in a?(function(r){return Ze.fromName(r).toString()})(a.referenceValue):"geoPointValue"in a?(function(r){return`geo(${r.latitude},${r.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(r){let s="[",l=!0;for(const c of r.values||[])l?l=!1:s+=",",s+=pm(c);return s+"]"})(a.arrayValue):"mapValue"in a?(function(r){const s=Object.keys(r.fields||{}).sort();let l="{",c=!0;for(const p of s)c?c=!1:l+=",",l+=`${p}:${pm(r.fields[p])}`;return l+"}"})(a.mapValue):st(61005,{value:a})}function uf(a){switch(Zs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ff(a);return t?16+uf(t):16;case 5:return 2*a.stringValue.length;case 6:return $s(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+uf(c)),0)})(a.arrayValue);case 10:case 11:return(function(s){let l=0;return jo(s.fields,((c,p)=>{l+=c.length+uf(p)})),l})(a.mapValue);default:throw st(13486,{value:a})}}function y0(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function gm(a){return!!a&&"integerValue"in a}function $m(a){return!!a&&"arrayValue"in a}function v0(a){return!!a&&"nullValue"in a}function _0(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function cf(a){return!!a&&"mapValue"in a}function OS(a){return(a?.mapValue?.fields||{})[ub]?.stringValue===cb}function Cu(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return jo(a.mapValue.fields,((r,s)=>t.mapValue.fields[r]=Cu(s))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Cu(a.arrayValue.values[r]);return t}return{...a}}function MS(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===jS}class Pa{constructor(t){this.value=t}static empty(){return new Pa({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let s=0;s<t.length-1;++s)if(r=(r.mapValue.fields||{})[t.get(s)],!cf(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cu(r)}setAll(t){let r=nr.emptyPath(),s={},l=[];t.forEach(((p,_)=>{if(!r.isImmediateParentOf(_)){const b=this.getFieldsMap(r);this.applyChanges(b,s,l),s={},l=[],r=_.popLast()}p?s[_.lastSegment()]=Cu(p):l.push(_.lastSegment())}));const c=this.getFieldsMap(r);this.applyChanges(c,s,l)}delete(t){const r=this.field(t.popLast());cf(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return xi(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=r.mapValue.fields[t.get(s)];cf(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[t.get(s)]=l),r=l}return r.mapValue.fields}applyChanges(t,r,s){jo(r,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new Pa(Cu(this.value))}}function fb(a){const t=[];return jo(a.fields,((r,s)=>{const l=new nr([r]);if(cf(s)){const c=fb(s.mapValue).fields;if(c.length===0)t.push(l);else for(const p of c)t.push(l.child(p))}else t.push(l)})),new Ja(t)}class _r{constructor(t,r,s,l,c,p,_){this.key=t,this.documentType=r,this.version=s,this.readTime=l,this.createTime=c,this.data=p,this.documentState=_}static newInvalidDocument(t){return new _r(t,0,ct.min(),ct.min(),ct.min(),Pa.empty(),0)}static newFoundDocument(t,r,s,l){return new _r(t,1,r,ct.min(),s,l,0)}static newNoDocument(t,r){return new _r(t,2,r,ct.min(),ct.min(),Pa.empty(),0)}static newUnknownDocument(t,r){return new _r(t,3,r,ct.min(),ct.min(),Pa.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Pa.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Pa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof _r&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new _r(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sf{constructor(t,r){this.position=t,this.inclusive=r}}function b0(a,t,r){let s=0;for(let l=0;l<a.position.length;l++){const c=t[l],p=a.position[l];if(c.field.isKeyField()?s=Ze.comparator(Ze.fromName(p.referenceValue),r.key):s=Tl(p,r.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function x0(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!xi(a.position[r],t.position[r]))return!1;return!0}class Af{constructor(t,r="asc"){this.field=t,this.dir=r}}function VS(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class hb{}class Fn extends hb{constructor(t,r,s){super(),this.field=t,this.op=r,this.value=s}static create(t,r,s){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,s):new PS(t,r,s):r==="array-contains"?new US(t,s):r==="in"?new BS(t,s):r==="not-in"?new qS(t,s):r==="array-contains-any"?new FS(t,s):new Fn(t,r,s)}static createKeyFieldInFilter(t,r,s){return r==="in"?new LS(t,s):new zS(t,s)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Tl(r,this.value)):r!==null&&Zs(this.value)===Zs(r)&&this.matchesComparison(Tl(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return st(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ti extends hb{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new ti(t,r)}matches(t){return db(this)?this.filters.find((r=>!r.matches(t)))===void 0:this.filters.find((r=>r.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,r)=>t.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function db(a){return a.op==="and"}function mb(a){return kS(a)&&db(a)}function kS(a){for(const t of a.filters)if(t instanceof ti)return!1;return!0}function ym(a){if(a instanceof Fn)return a.field.canonicalString()+a.op.toString()+Sl(a.value);if(mb(a))return a.filters.map((t=>ym(t))).join(",");{const t=a.filters.map((r=>ym(r))).join(",");return`${a.op}(${t})`}}function pb(a,t){return a instanceof Fn?(function(s,l){return l instanceof Fn&&s.op===l.op&&s.field.isEqual(l.field)&&xi(s.value,l.value)})(a,t):a instanceof ti?(function(s,l){return l instanceof ti&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,p,_)=>c&&pb(p,l.filters[_])),!0):!1})(a,t):void st(19439)}function gb(a){return a instanceof Fn?(function(r){return`${r.field.canonicalString()} ${r.op} ${Sl(r.value)}`})(a):a instanceof ti?(function(r){return r.op.toString()+" {"+r.getFilters().map(gb).join(" ,")+"}"})(a):"Filter"}class PS extends Fn{constructor(t,r,s){super(t,r,s),this.key=Ze.fromName(s.referenceValue)}matches(t){const r=Ze.comparator(t.key,this.key);return this.matchesComparison(r)}}class LS extends Fn{constructor(t,r){super(t,"in",r),this.keys=yb("in",r)}matches(t){return this.keys.some((r=>r.isEqual(t.key)))}}class zS extends Fn{constructor(t,r){super(t,"not-in",r),this.keys=yb("not-in",r)}matches(t){return!this.keys.some((r=>r.isEqual(t.key)))}}function yb(a,t){return(t.arrayValue?.values||[]).map((r=>Ze.fromName(r.referenceValue)))}class US extends Fn{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return $m(r)&&zu(r.arrayValue,this.value)}}class BS extends Fn{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&zu(this.value.arrayValue,r)}}class qS extends Fn{constructor(t,r){super(t,"not-in",r)}matches(t){if(zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!zu(this.value.arrayValue,r)}}class FS extends Fn{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!$m(r)||!r.arrayValue.values)&&r.arrayValue.values.some((s=>zu(this.value.arrayValue,s)))}}class HS{constructor(t,r=null,s=[],l=[],c=null,p=null,_=null){this.path=t,this.collectionGroup=r,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=p,this.endAt=_,this.Te=null}}function E0(a,t=null,r=[],s=[],l=null,c=null,p=null){return new HS(a,t,r,s,l,c,p)}function Zm(a){const t=ht(a);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map((s=>ym(s))).join(","),r+="|ob:",r+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),qf(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>Sl(s))).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>Sl(s))).join(",")),t.Te=r}return t.Te}function Jm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!VS(a.orderBy[r],t.orderBy[r]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!pb(a.filters[r],t.filters[r]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!x0(a.startAt,t.startAt)&&x0(a.endAt,t.endAt)}function vm(a){return Ze.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class Ku{constructor(t,r=null,s=[],l=[],c=null,p="F",_=null,b=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=p,this.startAt=_,this.endAt=b,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function KS(a,t,r,s,l,c,p,_){return new Ku(a,t,r,s,l,c,p,_)}function Wm(a){return new Ku(a)}function w0(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function vb(a){return a.collectionGroup!==null}function Du(a){const t=ht(a);if(t.Ie===null){t.Ie=[];const r=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),r.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(p){let _=new Qn(nr.comparator);return p.filters.forEach((b=>{b.getFlattenedFilters().forEach((v=>{v.isInequality()&&(_=_.add(v.field))}))})),_})(t).forEach((c=>{r.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Af(c,s))})),r.has(nr.keyField().canonicalString())||t.Ie.push(new Af(nr.keyField(),s))}return t.Ie}function vi(a){const t=ht(a);return t.Ee||(t.Ee=GS(t,Du(a))),t.Ee}function GS(a,t){if(a.limitType==="F")return E0(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Af(l.field,c)}));const r=a.endAt?new Sf(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Sf(a.startAt.position,a.startAt.inclusive):null;return E0(a.path,a.collectionGroup,t,a.filters,a.limit,r,s)}}function _m(a,t){const r=a.filters.concat([t]);return new Ku(a.path,a.collectionGroup,a.explicitOrderBy.slice(),r,a.limit,a.limitType,a.startAt,a.endAt)}function bm(a,t,r){return new Ku(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,r,a.startAt,a.endAt)}function Hf(a,t){return Jm(vi(a),vi(t))&&a.limitType===t.limitType}function _b(a){return`${Zm(vi(a))}|lt:${a.limitType}`}function pl(a){return`Query(target=${(function(r){let s=r.path.canonicalString();return r.collectionGroup!==null&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map((l=>gb(l))).join(", ")}]`),qf(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map((l=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(l))).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map((l=>Sl(l))).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map((l=>Sl(l))).join(",")),`Target(${s})`})(vi(a))}; limitType=${a.limitType})`}function Kf(a,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Ze.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(a,t)&&(function(s,l){for(const c of Du(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(a,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(a,t)&&(function(s,l){return!(s.startAt&&!(function(p,_,b){const v=b0(p,_,b);return p.inclusive?v<=0:v<0})(s.startAt,Du(s),l)||s.endAt&&!(function(p,_,b){const v=b0(p,_,b);return p.inclusive?v>=0:v>0})(s.endAt,Du(s),l))})(a,t)}function QS(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function bb(a){return(t,r)=>{let s=!1;for(const l of Du(a)){const c=YS(l,t,r);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function YS(a,t,r){const s=a.field.isKeyField()?Ze.comparator(t.key,r.key):(function(c,p,_){const b=p.data.field(c),v=_.data.field(c);return b!==null&&v!==null?Tl(b,v):st(42886)})(a.field,t,r);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return st(19790,{direction:a.dir})}}class Oo{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),s=this.inner[r];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,r){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,r]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,r]);l.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[r]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){jo(this.inner,((r,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return rb(this.inner)}size(){return this.innerSize}}const XS=new _n(Ze.comparator);function ts(){return XS}const xb=new _n(Ze.comparator);function Au(...a){let t=xb;for(const r of a)t=t.insert(r.key,r);return t}function Eb(a){let t=xb;return a.forEach(((r,s)=>t=t.insert(r,s.overlayedDocument))),t}function So(){return Iu()}function wb(){return Iu()}function Iu(){return new Oo((a=>a.toString()),((a,t)=>a.isEqual(t)))}const $S=new _n(Ze.comparator),ZS=new Qn(Ze.comparator);function Rt(...a){let t=ZS;for(const r of a)t=t.add(r);return t}const JS=new Qn(At);function WS(){return JS}function ep(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ef(t)?"-0":t}}function Tb(a){return{integerValue:""+a}}function eA(a,t){return RS(t)?Tb(t):ep(a,t)}class Gf{constructor(){this._=void 0}}function tA(a,t,r){return a instanceof Rf?(function(l,c){const p={fields:{[sb]:{stringValue:ib},[lb]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Xm(c)&&(c=Ff(c)),c&&(p.fields[ob]=c),{mapValue:p}})(r,t):a instanceof Uu?Ab(a,t):a instanceof Bu?Rb(a,t):(function(l,c){const p=Sb(l,c),_=T0(p)+T0(l.Ae);return gm(p)&&gm(l.Ae)?Tb(_):ep(l.serializer,_)})(a,t)}function nA(a,t,r){return a instanceof Uu?Ab(a,t):a instanceof Bu?Rb(a,t):r}function Sb(a,t){return a instanceof Nf?(function(s){return gm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class Rf extends Gf{}class Uu extends Gf{constructor(t){super(),this.elements=t}}function Ab(a,t){const r=Nb(t);for(const s of a.elements)r.some((l=>xi(l,s)))||r.push(s);return{arrayValue:{values:r}}}class Bu extends Gf{constructor(t){super(),this.elements=t}}function Rb(a,t){let r=Nb(t);for(const s of a.elements)r=r.filter((l=>!xi(l,s)));return{arrayValue:{values:r}}}class Nf extends Gf{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function T0(a){return In(a.integerValue||a.doubleValue)}function Nb(a){return $m(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function rA(a,t){return a.field.isEqual(t.field)&&(function(s,l){return s instanceof Uu&&l instanceof Uu||s instanceof Bu&&l instanceof Bu?El(s.elements,l.elements,xi):s instanceof Nf&&l instanceof Nf?xi(s.Ae,l.Ae):s instanceof Rf&&l instanceof Rf})(a.transform,t.transform)}class aA{constructor(t,r){this.version=t,this.transformResults=r}}class _i{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new _i}static exists(t){return new _i(void 0,t)}static updateTime(t){return new _i(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ff(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class Qf{}function Cb(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new tp(a.key,_i.none()):new Gu(a.key,a.data,_i.none());{const r=a.data,s=Pa.empty();let l=new Qn(nr.comparator);for(let c of t.fields)if(!l.has(c)){let p=r.field(c);p===null&&c.length>1&&(c=c.popLast(),p=r.field(c)),p===null?s.delete(c):s.set(c,p),l=l.add(c)}return new Mo(a.key,s,new Ja(l.toArray()),_i.none())}}function iA(a,t,r){a instanceof Gu?(function(l,c,p){const _=l.value.clone(),b=A0(l.fieldTransforms,c,p.transformResults);_.setAll(b),c.convertToFoundDocument(p.version,_).setHasCommittedMutations()})(a,t,r):a instanceof Mo?(function(l,c,p){if(!ff(l.precondition,c))return void c.convertToUnknownDocument(p.version);const _=A0(l.fieldTransforms,c,p.transformResults),b=c.data;b.setAll(Db(l)),b.setAll(_),c.convertToFoundDocument(p.version,b).setHasCommittedMutations()})(a,t,r):(function(l,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()})(0,t,r)}function ju(a,t,r,s){return a instanceof Gu?(function(c,p,_,b){if(!ff(c.precondition,p))return _;const v=c.value.clone(),A=R0(c.fieldTransforms,b,p);return v.setAll(A),p.convertToFoundDocument(p.version,v).setHasLocalMutations(),null})(a,t,r,s):a instanceof Mo?(function(c,p,_,b){if(!ff(c.precondition,p))return _;const v=R0(c.fieldTransforms,b,p),A=p.data;return A.setAll(Db(c)),A.setAll(v),p.convertToFoundDocument(p.version,A).setHasLocalMutations(),_===null?null:_.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((N=>N.field)))})(a,t,r,s):(function(c,p,_){return ff(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):_})(a,t,r)}function sA(a,t){let r=null;for(const s of a.fieldTransforms){const l=t.data.field(s.field),c=Sb(s.transform,l||null);c!=null&&(r===null&&(r=Pa.empty()),r.set(s.field,c))}return r||null}function S0(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&El(s,l,((c,p)=>rA(c,p)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Gu extends Qf{constructor(t,r,s,l=[]){super(),this.key=t,this.value=r,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Mo extends Qf{constructor(t,r,s,l,c=[]){super(),this.key=t,this.data=r,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Db(a){const t=new Map;return a.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const s=a.data.field(r);t.set(r,s)}})),t}function A0(a,t,r){const s=new Map;Bt(a.length===r.length,32656,{Re:r.length,Ve:a.length});for(let l=0;l<r.length;l++){const c=a[l],p=c.transform,_=t.data.field(c.field);s.set(c.field,nA(p,_,r[l]))}return s}function R0(a,t,r){const s=new Map;for(const l of a){const c=l.transform,p=r.data.field(l.field);s.set(l.field,tA(c,p,t))}return s}class tp extends Qf{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oA extends Qf{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lA{constructor(t,r,s,l){this.batchId=t,this.localWriteTime=r,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,r){const s=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&iA(c,t,s[l])}}applyToLocalView(t,r){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(r=ju(s,t,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(r=ju(s,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const s=wb();return this.mutations.forEach((l=>{const c=t.get(l.key),p=c.overlayedDocument;let _=this.applyToLocalView(p,c.mutatedFields);_=r.has(l.key)?null:_;const b=Cb(p,_);b!==null&&s.set(l.key,b),p.isValidDocument()||p.convertToNoDocument(ct.min())})),s}keys(){return this.mutations.reduce(((t,r)=>t.add(r.key)),Rt())}isEqual(t){return this.batchId===t.batchId&&El(this.mutations,t.mutations,((r,s)=>S0(r,s)))&&El(this.baseMutations,t.baseMutations,((r,s)=>S0(r,s)))}}class np{constructor(t,r,s,l){this.batch=t,this.commitVersion=r,this.mutationResults=s,this.docVersions=l}static from(t,r,s){Bt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return $S})();const c=t.mutations;for(let p=0;p<c.length;p++)l=l.insert(c[p].key,s[p].version);return new np(t,r,s,l)}}class uA{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class cA{constructor(t,r){this.count=t,this.unchangedNames=r}}var qn,jt;function fA(a){switch(a){case we.OK:return st(64938);case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0;default:return st(15467,{code:a})}}function Ib(a){if(a===void 0)return es("GRPC error has no .code"),we.UNKNOWN;switch(a){case qn.OK:return we.OK;case qn.CANCELLED:return we.CANCELLED;case qn.UNKNOWN:return we.UNKNOWN;case qn.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case qn.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case qn.INTERNAL:return we.INTERNAL;case qn.UNAVAILABLE:return we.UNAVAILABLE;case qn.UNAUTHENTICATED:return we.UNAUTHENTICATED;case qn.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case qn.NOT_FOUND:return we.NOT_FOUND;case qn.ALREADY_EXISTS:return we.ALREADY_EXISTS;case qn.PERMISSION_DENIED:return we.PERMISSION_DENIED;case qn.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case qn.ABORTED:return we.ABORTED;case qn.OUT_OF_RANGE:return we.OUT_OF_RANGE;case qn.UNIMPLEMENTED:return we.UNIMPLEMENTED;case qn.DATA_LOSS:return we.DATA_LOSS;default:return st(39323,{code:a})}}(jt=qn||(qn={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function hA(){return new TextEncoder}const dA=new Ks([4294967295,4294967295],0);function N0(a){const t=hA().encode(a),r=new H_;return r.update(t),new Uint8Array(r.digest())}function C0(a){const t=new DataView(a.buffer),r=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ks([r,s],0),new Ks([l,c],0)]}class rp{constructor(t,r,s){if(this.bitmap=t,this.padding=r,this.hashCount=s,r<0||r>=8)throw new Ru(`Invalid padding: ${r}`);if(s<0)throw new Ru(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Ru(`Invalid hash count: ${s}`);if(t.length===0&&r!==0)throw new Ru(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=Ks.fromNumber(this.ge)}ye(t,r,s){let l=t.add(r.multiply(Ks.fromNumber(s)));return l.compare(dA)===1&&(l=new Ks([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=N0(t),[s,l]=C0(r);for(let c=0;c<this.hashCount;c++){const p=this.ye(s,l,c);if(!this.we(p))return!1}return!0}static create(t,r,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),p=new rp(c,l,r);return s.forEach((_=>p.insert(_))),p}insert(t){if(this.ge===0)return;const r=N0(t),[s,l]=C0(r);for(let c=0;c<this.hashCount;c++){const p=this.ye(s,l,c);this.Se(p)}}Se(t){const r=Math.floor(t/8),s=t%8;this.bitmap[r]|=1<<s}}class Ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Yf{constructor(t,r,s,l,c){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,r,s){const l=new Map;return l.set(t,Qu.createSynthesizedTargetChangeForCurrentChange(t,r,s)),new Yf(ct.min(),l,new _n(At),ts(),Rt())}}class Qu{constructor(t,r,s,l,c){this.resumeToken=t,this.current=r,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,r,s){return new Qu(s,r,Rt(),Rt(),Rt())}}class hf{constructor(t,r,s,l){this.be=t,this.removedTargetIds=r,this.key=s,this.De=l}}class jb{constructor(t,r){this.targetId=t,this.Ce=r}}class Ob{constructor(t,r,s=rr.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=r,this.resumeToken=s,this.cause=l}}class D0{constructor(){this.ve=0,this.Fe=I0(),this.Me=rr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Rt(),r=Rt(),s=Rt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:r=r.add(l);break;case 1:s=s.add(l);break;default:st(38017,{changeType:c})}})),new Qu(this.Me,this.xe,t,r,s)}qe(){this.Oe=!1,this.Fe=I0()}Qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Bt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mA{constructor(t){this.Ge=t,this.ze=new Map,this.je=ts(),this.Je=nf(),this.He=nf(),this.Ye=new _n(At)}Ze(t){for(const r of t.be)t.De&&t.De.isFoundDocument()?this.Xe(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,(r=>{const s=this.nt(r);switch(t.state){case 0:this.rt(r)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),s.Le(t.resumeToken));break;default:st(56790,{state:t.state})}}))}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach(((s,l)=>{this.rt(l)&&r(l)}))}st(t){const r=t.targetId,s=t.Ce.count,l=this.ot(r);if(l){const c=l.target;if(vm(c))if(s===0){const p=new Ze(c.path);this.et(r,p,_r.newNoDocument(p,ct.min()))}else Bt(s===1,20013,{expectedCount:s});else{const p=this._t(r);if(p!==s){const _=this.ut(t),b=_?this.ct(_,t,p):1;if(b!==0){this.it(r);const v=b===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,v)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=r;let p,_;try{p=$s(s).toUint8Array()}catch(b){if(b instanceof ab)return Do("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw b}try{_=new rp(p,l,c)}catch(b){return Do(b instanceof Ru?"BloomFilter error: ":"Applying bloom filter failed: ",b),null}return _.ge===0?null:_}ct(t,r,s){return r.Ce.count===s-this.Pt(t,r.targetId)?0:2}Pt(t,r){const s=this.Ge.getRemoteKeysForTarget(r);let l=0;return s.forEach((c=>{const p=this.Ge.ht(),_=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;t.mightContain(_)||(this.et(r,c,null),l++)})),l}Tt(t){const r=new Map;this.ze.forEach(((c,p)=>{const _=this.ot(p);if(_){if(c.current&&vm(_.target)){const b=new Ze(_.target.path);this.It(b).has(p)||this.Et(p,b)||this.et(p,b,_r.newNoDocument(b,t))}c.Be&&(r.set(p,c.ke()),c.qe())}}));let s=Rt();this.He.forEach(((c,p)=>{let _=!0;p.forEachWhile((b=>{const v=this.ot(b);return!v||v.purpose==="TargetPurposeLimboResolution"||(_=!1,!1)})),_&&(s=s.add(c))})),this.je.forEach(((c,p)=>p.setReadTime(t)));const l=new Yf(t,r,this.Ye,this.je,s);return this.je=ts(),this.Je=nf(),this.He=nf(),this.Ye=new _n(At),l}Xe(t,r){if(!this.rt(t))return;const s=this.Et(t,r.key)?2:0;this.nt(t).Qe(r.key,s),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(t)),this.He=this.He.insert(r.key,this.dt(r.key).add(t))}et(t,r,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,r)?l.Qe(r,1):l.$e(r),this.He=this.He.insert(r,this.dt(r).delete(t)),this.He=this.He.insert(r,this.dt(r).add(t)),s&&(this.je=this.je.insert(r,s))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let r=this.ze.get(t);return r||(r=new D0,this.ze.set(t,r)),r}dt(t){let r=this.He.get(t);return r||(r=new Qn(At),this.He=this.He.insert(t,r)),r}It(t){let r=this.Je.get(t);return r||(r=new Qn(At),this.Je=this.Je.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||qe("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new D0),this.Ge.getRemoteKeysForTarget(t).forEach((r=>{this.et(t,r,null)}))}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function nf(){return new _n(Ze.comparator)}function I0(){return new _n(Ze.comparator)}const pA={asc:"ASCENDING",desc:"DESCENDING"},gA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yA={and:"AND",or:"OR"};class vA{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function xm(a,t){return a.useProto3Json||qf(t)?t:{value:t}}function Cf(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Mb(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function _A(a,t){return Cf(a,t.toTimestamp())}function bi(a){return Bt(!!a,49232),ct.fromTimestamp((function(r){const s=Xs(r);return new tn(s.seconds,s.nanos)})(a))}function ap(a,t){return Em(a,t).canonicalString()}function Em(a,t){const r=(function(l){return new en(["projects",l.projectId,"databases",l.database])})(a).child("documents");return t===void 0?r:r.child(t)}function Vb(a){const t=en.fromString(a);return Bt(Ub(t),10190,{key:t.toString()}),t}function wm(a,t){return ap(a.databaseId,t.path)}function nm(a,t){const r=Vb(t);if(r.get(1)!==a.databaseId.projectId)throw new He(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new He(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new Ze(Pb(r))}function kb(a,t){return ap(a.databaseId,t)}function bA(a){const t=Vb(a);return t.length===4?en.emptyPath():Pb(t)}function Tm(a){return new en(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Pb(a){return Bt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function j0(a,t,r){return{name:wm(a,t),fields:r.value.mapValue.fields}}function xA(a,t){let r;if("targetChange"in t){t.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:st(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(v,A){return v.useProto3Json?(Bt(A===void 0||typeof A=="string",58123),rr.fromBase64String(A||"")):(Bt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),rr.fromUint8Array(A||new Uint8Array))})(a,t.targetChange.resumeToken),p=t.targetChange.cause,_=p&&(function(v){const A=v.code===void 0?we.UNKNOWN:Ib(v.code);return new He(A,v.message||"")})(p);r=new Ob(s,l,c,_||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=nm(a,s.document.name),c=bi(s.document.updateTime),p=s.document.createTime?bi(s.document.createTime):ct.min(),_=new Pa({mapValue:{fields:s.document.fields}}),b=_r.newFoundDocument(l,c,p,_),v=s.targetIds||[],A=s.removedTargetIds||[];r=new hf(v,A,b.key,b)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=nm(a,s.document),c=s.readTime?bi(s.readTime):ct.min(),p=_r.newNoDocument(l,c),_=s.removedTargetIds||[];r=new hf([],_,p.key,p)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=nm(a,s.document),c=s.removedTargetIds||[];r=new hf([],c,l,null)}else{if(!("filter"in t))return st(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,p=new cA(l,c),_=s.targetId;r=new jb(_,p)}}return r}function EA(a,t){let r;if(t instanceof Gu)r={update:j0(a,t.key,t.value)};else if(t instanceof tp)r={delete:wm(a,t.key)};else if(t instanceof Mo)r={update:j0(a,t.key,t.data),updateMask:IA(t.fieldMask)};else{if(!(t instanceof oA))return st(16599,{Vt:t.type});r={verify:wm(a,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map((s=>(function(c,p){const _=p.transform;if(_ instanceof Rf)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof Uu)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof Bu)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof Nf)return{fieldPath:p.field.canonicalString(),increment:_.Ae};throw st(20930,{transform:p.transform})})(0,s)))),t.precondition.isNone||(r.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:_A(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:st(27497)})(a,t.precondition)),r}function wA(a,t){return a&&a.length>0?(Bt(t!==void 0,14353),a.map((r=>(function(l,c){let p=l.updateTime?bi(l.updateTime):bi(c);return p.isEqual(ct.min())&&(p=bi(c)),new aA(p,l.transformResults||[])})(r,t)))):[]}function TA(a,t){return{documents:[kb(a,t.path)]}}function SA(a,t){const r={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=kb(a,l);const c=(function(v){if(v.length!==0)return zb(ti.create(v,"and"))})(t.filters);c&&(r.structuredQuery.where=c);const p=(function(v){if(v.length!==0)return v.map((A=>(function(O){return{field:gl(O.field),direction:NA(O.dir)}})(A)))})(t.orderBy);p&&(r.structuredQuery.orderBy=p);const _=xm(a,t.limit);return _!==null&&(r.structuredQuery.limit=_),t.startAt&&(r.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(r.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:r,parent:l}}function AA(a){let t=bA(a.parent);const r=a.structuredQuery,s=r.from?r.from.length:0;let l=null;if(s>0){Bt(s===1,65062);const A=r.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];r.where&&(c=(function(N){const O=Lb(N);return O instanceof ti&&mb(O)?O.getFilters():[O]})(r.where));let p=[];r.orderBy&&(p=(function(N){return N.map((O=>(function(le){return new Af(yl(le.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(le.direction))})(O)))})(r.orderBy));let _=null;r.limit&&(_=(function(N){let O;return O=typeof N=="object"?N.value:N,qf(O)?null:O})(r.limit));let b=null;r.startAt&&(b=(function(N){const O=!!N.before,H=N.values||[];return new Sf(H,O)})(r.startAt));let v=null;return r.endAt&&(v=(function(N){const O=!N.before,H=N.values||[];return new Sf(H,O)})(r.endAt)),KS(t,l,p,c,_,"F",b,v)}function RA(a,t){const r=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return st(28987,{purpose:l})}})(t.purpose);return r==null?null:{"goog-listen-tags":r}}function Lb(a){return a.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=yl(r.unaryFilter.field);return Fn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=yl(r.unaryFilter.field);return Fn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=yl(r.unaryFilter.field);return Fn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=yl(r.unaryFilter.field);return Fn.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return st(61313);default:return st(60726)}})(a):a.fieldFilter!==void 0?(function(r){return Fn.create(yl(r.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return st(58110);default:return st(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(r){return ti.create(r.compositeFilter.filters.map((s=>Lb(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return st(1026)}})(r.compositeFilter.op))})(a):st(30097,{filter:a})}function NA(a){return pA[a]}function CA(a){return gA[a]}function DA(a){return yA[a]}function gl(a){return{fieldPath:a.canonicalString()}}function yl(a){return nr.fromServerFormat(a.fieldPath)}function zb(a){return a instanceof Fn?(function(r){if(r.op==="=="){if(_0(r.value))return{unaryFilter:{field:gl(r.field),op:"IS_NAN"}};if(v0(r.value))return{unaryFilter:{field:gl(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(_0(r.value))return{unaryFilter:{field:gl(r.field),op:"IS_NOT_NAN"}};if(v0(r.value))return{unaryFilter:{field:gl(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gl(r.field),op:CA(r.op),value:r.value}}})(a):a instanceof ti?(function(r){const s=r.getFilters().map((l=>zb(l)));return s.length===1?s[0]:{compositeFilter:{op:DA(r.op),filters:s}}})(a):st(54877,{filter:a})}function IA(a){const t=[];return a.fields.forEach((r=>t.push(r.canonicalString()))),{fieldPaths:t}}function Ub(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class qs{constructor(t,r,s,l,c=ct.min(),p=ct.min(),_=rr.EMPTY_BYTE_STRING,b=null){this.target=t,this.targetId=r,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=_,this.expectedCount=b}withSequenceNumber(t){return new qs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class jA{constructor(t){this.yt=t}}function OA(a){const t=AA({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?bm(t,t.limit,"L"):t}class MA{constructor(){this.Cn=new VA}addToCollectionParentIndex(t,r){return this.Cn.add(r),Te.resolve()}getCollectionParents(t,r){return Te.resolve(this.Cn.getEntries(r))}addFieldIndex(t,r){return Te.resolve()}deleteFieldIndex(t,r){return Te.resolve()}deleteAllFieldIndexes(t){return Te.resolve()}createTargetIndexes(t,r){return Te.resolve()}getDocumentsMatchingTarget(t,r){return Te.resolve(null)}getIndexType(t,r){return Te.resolve(0)}getFieldIndexes(t,r){return Te.resolve([])}getNextCollectionGroupToUpdate(t){return Te.resolve(null)}getMinOffset(t,r){return Te.resolve(Ys.min())}getMinOffsetFromCollectionGroup(t,r){return Te.resolve(Ys.min())}updateCollectionGroup(t,r,s){return Te.resolve()}updateIndexEntries(t,r){return Te.resolve()}}class VA{constructor(){this.index={}}add(t){const r=t.lastSegment(),s=t.popLast(),l=this.index[r]||new Qn(en.comparator),c=!l.has(s);return this.index[r]=l.add(s),c}has(t){const r=t.lastSegment(),s=t.popLast(),l=this.index[r];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Qn(en.comparator)).toArray()}}const O0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Bb=41943040;class Yr{static withCacheSize(t){return new Yr(t,Yr.DEFAULT_COLLECTION_PERCENTILE,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}}Yr.DEFAULT_COLLECTION_PERCENTILE=10,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yr.DEFAULT=new Yr(Bb,Yr.DEFAULT_COLLECTION_PERCENTILE,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yr.DISABLED=new Yr(-1,0,0);class Al{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Al(0)}static cr(){return new Al(-1)}}const M0="LruGarbageCollector",kA=1048576;function V0([a,t],[r,s]){const l=At(a,r);return l===0?At(t,s):l}class PA{constructor(t){this.Ir=t,this.buffer=new Qn(V0),this.Er=0}dr(){return++this.Er}Ar(t){const r=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();V0(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class LA{constructor(t,r,s){this.garbageCollector=t,this.asyncQueue=r,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){qe(M0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Pl(r)?qe(M0,"Ignoring IndexedDB error during garbage collection: ",r):await kl(r)}await this.Vr(3e5)}))}}class zA{constructor(t,r){this.mr=t,this.params=r}calculateTargetCount(t,r){return this.mr.gr(t).next((s=>Math.floor(r/100*s)))}nthSequenceNumber(t,r){if(r===0)return Te.resolve(Bf.ce);const s=new PA(r);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,r,s){return this.mr.removeTargets(t,r,s)}removeOrphanedDocuments(t,r){return this.mr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(qe("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(O0)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),O0):this.yr(t,r)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,r){let s,l,c,p,_,b,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((N=>(N>this.params.maximumSequenceNumbersToCollect?(qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),l=this.params.maximumSequenceNumbersToCollect):l=N,p=Date.now(),this.nthSequenceNumber(t,l)))).next((N=>(s=N,_=Date.now(),this.removeTargets(t,s,r)))).next((N=>(c=N,b=Date.now(),this.removeOrphanedDocuments(t,s)))).next((N=>(v=Date.now(),ml()<=Ot.DEBUG&&qe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-A}ms
	Determined least recently used ${l} in `+(_-p)+`ms
	Removed ${c} targets in `+(b-_)+`ms
	Removed ${N} documents in `+(v-b)+`ms
Total Duration: ${v-A}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:N}))))}}function UA(a,t){return new zA(a,t)}class BA{constructor(){this.changes=new Oo((t=>t.toString()),((t,r)=>t.isEqual(r))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,_r.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const s=this.changes.get(r);return s!==void 0?Te.resolve(s):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class qA{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}class FA{constructor(t,r,s,l){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,r){let s=null;return this.documentOverlayCache.getOverlay(t,r).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,r)))).next((l=>(s!==null&&ju(s.mutation,l,Ja.empty(),tn.now()),l)))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next((s=>this.getLocalViewOfDocuments(t,s,Rt()).next((()=>s))))}getLocalViewOfDocuments(t,r,s=Rt()){const l=So();return this.populateOverlays(t,l,r).next((()=>this.computeViews(t,r,l,s).next((c=>{let p=Au();return c.forEach(((_,b)=>{p=p.insert(_,b.overlayedDocument)})),p}))))}getOverlayedDocuments(t,r){const s=So();return this.populateOverlays(t,s,r).next((()=>this.computeViews(t,r,s,Rt())))}populateOverlays(t,r,s){const l=[];return s.forEach((c=>{r.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((p,_)=>{r.set(p,_)}))}))}computeViews(t,r,s,l){let c=ts();const p=Iu(),_=(function(){return Iu()})();return r.forEach(((b,v)=>{const A=s.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof Mo)?c=c.insert(v.key,v):A!==void 0?(p.set(v.key,A.mutation.getFieldMask()),ju(A.mutation,v,A.mutation.getFieldMask(),tn.now())):p.set(v.key,Ja.empty())})),this.recalculateAndSaveOverlays(t,c).next((b=>(b.forEach(((v,A)=>p.set(v,A))),r.forEach(((v,A)=>_.set(v,new qA(A,p.get(v)??null)))),_)))}recalculateAndSaveOverlays(t,r){const s=Iu();let l=new _n(((p,_)=>p-_)),c=Rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next((p=>{for(const _ of p)_.keys().forEach((b=>{const v=r.get(b);if(v===null)return;let A=s.get(b)||Ja.empty();A=_.applyToLocalView(v,A),s.set(b,A);const N=(l.get(_.batchId)||Rt()).add(b);l=l.insert(_.batchId,N)}))})).next((()=>{const p=[],_=l.getReverseIterator();for(;_.hasNext();){const b=_.getNext(),v=b.key,A=b.value,N=wb();A.forEach((O=>{if(!c.has(O)){const H=Cb(r.get(O),s.get(O));H!==null&&N.set(O,H),c=c.add(O)}})),p.push(this.documentOverlayCache.saveOverlays(t,v,N))}return Te.waitFor(p)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,r,s,l){return(function(p){return Ze.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):vb(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,s,l):this.getDocumentsMatchingCollectionQuery(t,r,s,l)}getNextDocuments(t,r,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,s,l).next((c=>{const p=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,s.largestBatchId,l-c.size):Te.resolve(So());let _=Pu,b=c;return p.next((v=>Te.forEach(v,((A,N)=>(_<N.largestBatchId&&(_=N.largestBatchId),c.get(A)?Te.resolve():this.remoteDocumentCache.getEntry(t,A).next((O=>{b=b.insert(A,O)}))))).next((()=>this.populateOverlays(t,v,c))).next((()=>this.computeViews(t,b,v,Rt()))).next((A=>({batchId:_,changes:Eb(A)})))))}))}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new Ze(r)).next((s=>{let l=Au();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,r,s,l){const c=r.collectionGroup;let p=Au();return this.indexManager.getCollectionParents(t,c).next((_=>Te.forEach(_,(b=>{const v=(function(N,O){return new Ku(O,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)})(r,b.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,s,l).next((A=>{A.forEach(((N,O)=>{p=p.insert(N,O)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(t,r,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,s.largestBatchId).next((p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,s,c,l)))).next((p=>{c.forEach(((b,v)=>{const A=v.getKey();p.get(A)===null&&(p=p.insert(A,_r.newInvalidDocument(A)))}));let _=Au();return p.forEach(((b,v)=>{const A=c.get(b);A!==void 0&&ju(A.mutation,v,Ja.empty(),tn.now()),Kf(r,v)&&(_=_.insert(b,v))})),_}))}}class HA{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,r){return Te.resolve(this.Lr.get(r))}saveBundleMetadata(t,r){return this.Lr.set(r.id,(function(l){return{id:l.id,version:l.version,createTime:bi(l.createTime)}})(r)),Te.resolve()}getNamedQuery(t,r){return Te.resolve(this.kr.get(r))}saveNamedQuery(t,r){return this.kr.set(r.name,(function(l){return{name:l.name,query:OA(l.bundledQuery),readTime:bi(l.readTime)}})(r)),Te.resolve()}}class KA{constructor(){this.overlays=new _n(Ze.comparator),this.qr=new Map}getOverlay(t,r){return Te.resolve(this.overlays.get(r))}getOverlays(t,r){const s=So();return Te.forEach(r,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,r,s){return s.forEach(((l,c)=>{this.St(t,r,c)})),Te.resolve()}removeOverlaysForBatchId(t,r,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),Te.resolve()}getOverlaysForCollection(t,r,s){const l=So(),c=r.length+1,p=new Ze(r.child("")),_=this.overlays.getIteratorFrom(p);for(;_.hasNext();){const b=_.getNext().value,v=b.getKey();if(!r.isPrefixOf(v.path))break;v.path.length===c&&b.largestBatchId>s&&l.set(b.getKey(),b)}return Te.resolve(l)}getOverlaysForCollectionGroup(t,r,s,l){let c=new _n(((v,A)=>v-A));const p=this.overlays.getIterator();for(;p.hasNext();){const v=p.getNext().value;if(v.getKey().getCollectionGroup()===r&&v.largestBatchId>s){let A=c.get(v.largestBatchId);A===null&&(A=So(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const _=So(),b=c.getIterator();for(;b.hasNext()&&(b.getNext().value.forEach(((v,A)=>_.set(v,A))),!(_.size()>=l)););return Te.resolve(_)}St(t,r,s){const l=this.overlays.get(s.key);if(l!==null){const p=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new uA(r,s));let c=this.qr.get(r);c===void 0&&(c=Rt(),this.qr.set(r,c)),this.qr.set(r,c.add(s.key))}}class GA{constructor(){this.sessionToken=rr.EMPTY_BYTE_STRING}getSessionToken(t){return Te.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,Te.resolve()}}class ip{constructor(){this.Qr=new Qn(tr.$r),this.Ur=new Qn(tr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,r){const s=new tr(t,r);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,r){t.forEach((s=>this.addReference(s,r)))}removeReference(t,r){this.Gr(new tr(t,r))}zr(t,r){t.forEach((s=>this.removeReference(s,r)))}jr(t){const r=new Ze(new en([])),s=new tr(r,t),l=new tr(r,t+1),c=[];return this.Ur.forEachInRange([s,l],(p=>{this.Gr(p),c.push(p.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const r=new Ze(new en([])),s=new tr(r,t),l=new tr(r,t+1);let c=Rt();return this.Ur.forEachInRange([s,l],(p=>{c=c.add(p.key)})),c}containsKey(t){const r=new tr(t,0),s=this.Qr.firstAfterOrEqual(r);return s!==null&&t.isEqual(s.key)}}class tr{constructor(t,r){this.key=t,this.Yr=r}static $r(t,r){return Ze.comparator(t.key,r.key)||At(t.Yr,r.Yr)}static Kr(t,r){return At(t.Yr,r.Yr)||Ze.comparator(t.key,r.key)}}class QA{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Qn(tr.$r)}checkEmpty(t){return Te.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new lA(c,r,s,l);this.mutationQueue.push(p);for(const _ of l)this.Zr=this.Zr.add(new tr(_.key,c)),this.indexManager.addToCollectionParentIndex(t,_.key.path.popLast());return Te.resolve(p)}lookupMutationBatch(t,r){return Te.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(t,r){const s=r+1,l=this.ei(s),c=l<0?0:l;return Te.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(this.mutationQueue.length===0?Ym:this.tr-1)}getAllMutationBatches(t){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const s=new tr(r,0),l=new tr(r,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(p=>{const _=this.Xr(p.Yr);c.push(_)})),Te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,r){let s=new Qn(At);return r.forEach((l=>{const c=new tr(l,0),p=new tr(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,p],(_=>{s=s.add(_.Yr)}))})),Te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,r){const s=r.path,l=s.length+1;let c=s;Ze.isDocumentKey(c)||(c=c.child(""));const p=new tr(new Ze(c),0);let _=new Qn(At);return this.Zr.forEachWhile((b=>{const v=b.key.path;return!!s.isPrefixOf(v)&&(v.length===l&&(_=_.add(b.Yr)),!0)}),p),Te.resolve(this.ti(_))}ti(t){const r=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&r.push(l)})),r}removeMutationBatch(t,r){Bt(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Te.forEach(r.mutations,(l=>{const c=new tr(l.key,r.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,r){const s=new tr(r,0),l=this.Zr.firstAfterOrEqual(s);return Te.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Te.resolve()}ni(t,r){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const r=this.ei(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class YA{constructor(t){this.ri=t,this.docs=(function(){return new _n(Ze.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const s=r.key,l=this.docs.get(s),c=l?l.size:0,p=this.ri(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const s=this.docs.get(r);return Te.resolve(s?s.document.mutableCopy():_r.newInvalidDocument(r))}getEntries(t,r){let s=ts();return r.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():_r.newInvalidDocument(l))})),Te.resolve(s)}getDocumentsMatchingQuery(t,r,s,l){let c=ts();const p=r.path,_=new Ze(p.child("__id-9223372036854775808__")),b=this.docs.getIteratorFrom(_);for(;b.hasNext();){const{key:v,value:{document:A}}=b.getNext();if(!p.isPrefixOf(v.path))break;v.path.length>p.length+1||wS(ES(A),s)<=0||(l.has(A.key)||Kf(r,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Te.resolve(c)}getAllFromCollectionGroup(t,r,s,l){st(9500)}ii(t,r){return Te.forEach(this.docs,(s=>r(s)))}newChangeBuffer(t){return new XA(this)}getSize(t){return Te.resolve(this.size)}}class XA extends BA{constructor(t){super(),this.Nr=t}applyChanges(t){const r=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?r.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),Te.waitFor(r)}getFromCache(t,r){return this.Nr.getEntry(t,r)}getAllFromCache(t,r){return this.Nr.getEntries(t,r)}}class $A{constructor(t){this.persistence=t,this.si=new Oo((r=>Zm(r)),Jm),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this.oi=0,this._i=new ip,this.targetCount=0,this.ai=Al.ur()}forEachTarget(t,r){return this.si.forEach(((s,l)=>r(l))),Te.resolve()}getLastRemoteSnapshotVersion(t){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Te.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(t,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.oi&&(this.oi=r),Te.resolve()}Pr(t){this.si.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ai=new Al(r),this.highestTargetId=r),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,r){return this.Pr(r),this.targetCount+=1,Te.resolve()}updateTargetData(t,r){return this.Pr(r),Te.resolve()}removeTargetData(t,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,Te.resolve()}removeTargets(t,r,s){let l=0;const c=[];return this.si.forEach(((p,_)=>{_.sequenceNumber<=r&&s.get(_.targetId)===null&&(this.si.delete(p),c.push(this.removeMatchingKeysForTargetId(t,_.targetId)),l++)})),Te.waitFor(c).next((()=>l))}getTargetCount(t){return Te.resolve(this.targetCount)}getTargetData(t,r){const s=this.si.get(r)||null;return Te.resolve(s)}addMatchingKeys(t,r,s){return this._i.Wr(r,s),Te.resolve()}removeMatchingKeys(t,r,s){this._i.zr(r,s);const l=this.persistence.referenceDelegate,c=[];return l&&r.forEach((p=>{c.push(l.markPotentiallyOrphaned(t,p))})),Te.waitFor(c)}removeMatchingKeysForTargetId(t,r){return this._i.jr(r),Te.resolve()}getMatchingKeysForTargetId(t,r){const s=this._i.Hr(r);return Te.resolve(s)}containsKey(t,r){return Te.resolve(this._i.containsKey(r))}}class qb{constructor(t,r){this.ui={},this.overlays={},this.ci=new Bf(0),this.li=!1,this.li=!0,this.hi=new GA,this.referenceDelegate=t(this),this.Pi=new $A(this),this.indexManager=new MA,this.remoteDocumentCache=(function(l){return new YA(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new jA(r),this.Ii=new HA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new KA,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let s=this.ui[t.toKey()];return s||(s=new QA(r,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,r,s){qe("MemoryPersistence","Starting transaction:",t);const l=new ZA(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,r){return Te.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,r))))}}class ZA extends SS{constructor(t){super(),this.currentSequenceNumber=t}}class sp{constructor(t){this.persistence=t,this.Ri=new ip,this.Vi=null}static mi(t){return new sp(t)}get fi(){if(this.Vi)return this.Vi;throw st(60996)}addReference(t,r,s){return this.Ri.addReference(s,r),this.fi.delete(s.toString()),Te.resolve()}removeReference(t,r,s){return this.Ri.removeReference(s,r),this.fi.add(s.toString()),Te.resolve()}markPotentiallyOrphaned(t,r){return this.fi.add(r.toString()),Te.resolve()}removeTarget(t,r){this.Ri.jr(r.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,r.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(t,r)))}Ei(){this.Vi=new Set}di(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.fi,(s=>{const l=Ze.fromPath(s);return this.gi(t,l).next((c=>{c||r.removeEntry(l,ct.min())}))})).next((()=>(this.Vi=null,r.apply(t))))}updateLimboDocument(t,r){return this.gi(t,r).next((s=>{s?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(t){return 0}gi(t,r){return Te.or([()=>Te.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ai(t,r)])}}class Df{constructor(t,r){this.persistence=t,this.pi=new Oo((s=>NS(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=UA(this,r)}static mi(t,r){return new Df(t,r)}Ei(){}di(t){return Te.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}gr(t){const r=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>r.next((l=>s+l))))}wr(t){let r=0;return this.pr(t,(s=>{r++})).next((()=>r))}pr(t,r){return Te.forEach(this.pi,((s,l)=>this.br(t,s,l).next((c=>c?Te.resolve():r(l)))))}removeTargets(t,r,s){return this.persistence.getTargetCache().removeTargets(t,r,s)}removeOrphanedDocuments(t,r){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(p=>this.br(t,p,r).next((_=>{_||(s++,c.removeEntry(p,ct.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,r){return this.pi.set(r,t.currentSequenceNumber),Te.resolve()}removeTarget(t,r){const s=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,r,s){return this.pi.set(s,t.currentSequenceNumber),Te.resolve()}removeReference(t,r,s){return this.pi.set(s,t.currentSequenceNumber),Te.resolve()}updateLimboDocument(t,r){return this.pi.set(r,t.currentSequenceNumber),Te.resolve()}Ti(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=uf(t.data.value)),r}br(t,r,s){return Te.or([()=>this.persistence.Ai(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const l=this.pi.get(r);return Te.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class op{constructor(t,r,s,l){this.targetId=t,this.fromCache=r,this.Es=s,this.ds=l}static As(t,r){let s=Rt(),l=Rt();for(const c of r.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new op(t,r.fromCache,s,l)}}class JA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class WA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return GT()?8:AS(HT())>0?6:4})()}initialize(t,r){this.ps=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,s,l){const c={result:null};return this.ys(t,r).next((p=>{c.result=p})).next((()=>{if(!c.result)return this.ws(t,r,l,s).next((p=>{c.result=p}))})).next((()=>{if(c.result)return;const p=new JA;return this.Ss(t,r,p).next((_=>{if(c.result=_,this.Vs)return this.bs(t,r,p,_.size)}))})).next((()=>c.result))}bs(t,r,s,l){return s.documentReadCount<this.fs?(ml()<=Ot.DEBUG&&qe("QueryEngine","SDK will not create cache indexes for query:",pl(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Te.resolve()):(ml()<=Ot.DEBUG&&qe("QueryEngine","Query:",pl(r),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(ml()<=Ot.DEBUG&&qe("QueryEngine","The SDK decides to create cache indexes for query:",pl(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,vi(r))):Te.resolve())}ys(t,r){if(w0(r))return Te.resolve(null);let s=vi(r);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(r.limit!==null&&l===1&&(r=bm(r,null,"F"),s=vi(r)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const p=Rt(...c);return this.ps.getDocuments(t,p).next((_=>this.indexManager.getMinOffset(t,s).next((b=>{const v=this.Ds(r,_);return this.Cs(r,v,p,b.readTime)?this.ys(t,bm(r,null,"F")):this.vs(t,v,r,b)}))))})))))}ws(t,r,s,l){return w0(r)||l.isEqual(ct.min())?Te.resolve(null):this.ps.getDocuments(t,s).next((c=>{const p=this.Ds(r,c);return this.Cs(r,p,s,l)?Te.resolve(null):(ml()<=Ot.DEBUG&&qe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),pl(r)),this.vs(t,p,r,xS(l,Pu)).next((_=>_)))}))}Ds(t,r){let s=new Qn(bb(t));return r.forEach(((l,c)=>{Kf(t,c)&&(s=s.add(c))})),s}Cs(t,r,s,l){if(t.limit===null)return!1;if(s.size!==r.size)return!0;const c=t.limitType==="F"?r.last():r.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,r,s){return ml()<=Ot.DEBUG&&qe("QueryEngine","Using full collection scan to execute query:",pl(r)),this.ps.getDocumentsMatchingQuery(t,r,Ys.min(),s)}vs(t,r,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((c=>(r.forEach((p=>{c=c.insert(p.key,p)})),c)))}}const lp="LocalStore",eR=3e8;class tR{constructor(t,r,s,l){this.persistence=t,this.Fs=r,this.serializer=l,this.Ms=new _n(At),this.xs=new Oo((c=>Zm(c)),Jm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new FA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>t.collect(r,this.Ms)))}}function nR(a,t,r,s){return new tR(a,t,r,s)}async function Fb(a,t){const r=ht(a);return await r.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return r.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,r.Bs(t),r.mutationQueue.getAllMutationBatches(s)))).next((c=>{const p=[],_=[];let b=Rt();for(const v of l){p.push(v.batchId);for(const A of v.mutations)b=b.add(A.key)}for(const v of c){_.push(v.batchId);for(const A of v.mutations)b=b.add(A.key)}return r.localDocuments.getDocuments(s,b).next((v=>({Ls:v,removedBatchIds:p,addedBatchIds:_})))}))}))}function rR(a,t){const r=ht(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(_,b,v,A){const N=v.batch,O=N.keys();let H=Te.resolve();return O.forEach((le=>{H=H.next((()=>A.getEntry(b,le))).next((oe=>{const ee=v.docVersions.get(le);Bt(ee!==null,48541),oe.version.compareTo(ee)<0&&(N.applyToRemoteDocument(oe,v),oe.isValidDocument()&&(oe.setReadTime(v.commitVersion),A.addEntry(oe)))}))})),H.next((()=>_.mutationQueue.removeMutationBatch(b,N)))})(r,s,t,c).next((()=>c.apply(s))).next((()=>r.mutationQueue.performConsistencyCheck(s))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(_){let b=Rt();for(let v=0;v<_.mutationResults.length;++v)_.mutationResults[v].transformResults.length>0&&(b=b.add(_.batch.mutations[v].key));return b})(t)))).next((()=>r.localDocuments.getDocuments(s,l)))}))}function Hb(a){const t=ht(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>t.Pi.getLastRemoteSnapshotVersion(r)))}function aR(a,t){const r=ht(a),s=t.snapshotVersion;let l=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const p=r.Ns.newChangeBuffer({trackRemovals:!0});l=r.Ms;const _=[];t.targetChanges.forEach(((A,N)=>{const O=l.get(N);if(!O)return;_.push(r.Pi.removeMatchingKeys(c,A.removedDocuments,N).next((()=>r.Pi.addMatchingKeys(c,A.addedDocuments,N))));let H=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(N)!==null?H=H.withResumeToken(rr.EMPTY_BYTE_STRING,ct.min()).withLastLimboFreeSnapshotVersion(ct.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,s)),l=l.insert(N,H),(function(oe,ee,ce){return oe.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-oe.snapshotVersion.toMicroseconds()>=eR?!0:ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0})(O,H,A)&&_.push(r.Pi.updateTargetData(c,H))}));let b=ts(),v=Rt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&_.push(r.persistence.referenceDelegate.updateLimboDocument(c,A))})),_.push(iR(c,p,t.documentUpdates).next((A=>{b=A.ks,v=A.qs}))),!s.isEqual(ct.min())){const A=r.Pi.getLastRemoteSnapshotVersion(c).next((N=>r.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));_.push(A)}return Te.waitFor(_).next((()=>p.apply(c))).next((()=>r.localDocuments.getLocalViewOfDocuments(c,b,v))).next((()=>b))})).then((c=>(r.Ms=l,c)))}function iR(a,t,r){let s=Rt(),l=Rt();return r.forEach((c=>s=s.add(c))),t.getEntries(a,s).next((c=>{let p=ts();return r.forEach(((_,b)=>{const v=c.get(_);b.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(_)),b.isNoDocument()&&b.version.isEqual(ct.min())?(t.removeEntry(_,b.readTime),p=p.insert(_,b)):!v.isValidDocument()||b.version.compareTo(v.version)>0||b.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(b),p=p.insert(_,b)):qe(lp,"Ignoring outdated watch update for ",_,". Current version:",v.version," Watch version:",b.version)})),{ks:p,qs:l}}))}function sR(a,t){const r=ht(a);return r.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Ym),r.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function oR(a,t){const r=ht(a);return r.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return r.Pi.getTargetData(s,t).next((c=>c?(l=c,Te.resolve(l)):r.Pi.allocateTargetId(s).next((p=>(l=new qs(t,p,"TargetPurposeListen",s.currentSequenceNumber),r.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=r.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(s.targetId,s),r.xs.set(t,s.targetId)),s}))}async function Sm(a,t,r){const s=ht(a),l=s.Ms.get(t),c=r?"readwrite":"readwrite-primary";try{r||await s.persistence.runTransaction("Release target",c,(p=>s.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!Pl(p))throw p;qe(lp,`Failed to update sequence numbers for target ${t}: ${p}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function k0(a,t,r){const s=ht(a);let l=ct.min(),c=Rt();return s.persistence.runTransaction("Execute query","readwrite",(p=>(function(b,v,A){const N=ht(b),O=N.xs.get(A);return O!==void 0?Te.resolve(N.Ms.get(O)):N.Pi.getTargetData(v,A)})(s,p,vi(t)).next((_=>{if(_)return l=_.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(p,_.targetId).next((b=>{c=b}))})).next((()=>s.Fs.getDocumentsMatchingQuery(p,t,r?l:ct.min(),r?c:Rt()))).next((_=>(lR(s,QS(t),_),{documents:_,Qs:c})))))}function lR(a,t,r){let s=a.Os.get(t)||ct.min();r.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),a.Os.set(t,s)}class P0{constructor(){this.activeTargetIds=WS()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class uR{constructor(){this.Mo=new P0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,s){}addLocalQueryTarget(t,r=!0){return r&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,r,s){this.xo[t]=r}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new P0,Promise.resolve()}handleUserChange(t,r,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class cR{Oo(t){}shutdown(){}}const L0="ConnectivityMonitor";class z0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){qe(L0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){qe(L0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let rf=null;function Am(){return rf===null?rf=(function(){return 268435456+Math.round(2147483648*Math.random())})():rf++,"0x"+rf.toString(16)}const rm="RestConnection",fR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===wf?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,r,s,l,c){const p=Am(),_=this.zo(t,r.toUriEncodedString());qe(rm,`Sending RPC '${t}' ${p}:`,_,s);const b={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(b,l,c);const{host:v}=new URL(_),A=Km(v);return this.Jo(t,_,b,s,A).then((N=>(qe(rm,`Received RPC '${t}' ${p}: `,N),N)),(N=>{throw Do(rm,`RPC '${t}' ${p} failed with error: `,N,"url: ",_,"request:",s),N}))}Ho(t,r,s,l,c,p){return this.Go(t,r,s,l,c)}jo(t,r,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}zo(t,r){const s=fR[t];return`${this.Uo}/v1/${r}:${s}`}terminate(){}}class dR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const yr="WebChannelConnection";class mR extends hR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,r,s,l,c){const p=Am();return new Promise(((_,b)=>{const v=new K_;v.setWithCredentials(!0),v.listenOnce(G_.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case lf.NO_ERROR:const N=v.getResponseJson();qe(yr,`XHR for RPC '${t}' ${p} received:`,JSON.stringify(N)),_(N);break;case lf.TIMEOUT:qe(yr,`RPC '${t}' ${p} timed out`),b(new He(we.DEADLINE_EXCEEDED,"Request time out"));break;case lf.HTTP_ERROR:const O=v.getStatus();if(qe(yr,`RPC '${t}' ${p} failed with status:`,O,"response text:",v.getResponseText()),O>0){let H=v.getResponseJson();Array.isArray(H)&&(H=H[0]);const le=H?.error;if(le&&le.status&&le.message){const oe=(function(ce){const re=ce.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(re)>=0?re:we.UNKNOWN})(le.status);b(new He(oe,le.message))}else b(new He(we.UNKNOWN,"Server responded with status "+v.getStatus()))}else b(new He(we.UNAVAILABLE,"Connection failed."));break;default:st(9055,{l_:t,streamId:p,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{qe(yr,`RPC '${t}' ${p} completed.`)}}));const A=JSON.stringify(l);qe(yr,`RPC '${t}' ${p} sending request:`,l),v.send(r,"POST",A,s,15)}))}T_(t,r,s){const l=Am(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],p=X_(),_=Y_(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(b.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(b.useFetchStreams=!0),this.jo(b.initMessageHeaders,r,s),b.encodeInitMessageHeaders=!0;const A=c.join("");qe(yr,`Creating RPC '${t}' stream ${l}: ${A}`,b);const N=p.createWebChannel(A,b);this.I_(N);let O=!1,H=!1;const le=new dR({Yo:ee=>{H?qe(yr,`Not sending because RPC '${t}' stream ${l} is closed:`,ee):(O||(qe(yr,`Opening RPC '${t}' stream ${l} transport.`),N.open(),O=!0),qe(yr,`RPC '${t}' stream ${l} sending:`,ee),N.send(ee))},Zo:()=>N.close()}),oe=(ee,ce,re)=>{ee.listen(ce,(pe=>{try{re(pe)}catch(De){setTimeout((()=>{throw De}),0)}}))};return oe(N,Su.EventType.OPEN,(()=>{H||(qe(yr,`RPC '${t}' stream ${l} transport opened.`),le.o_())})),oe(N,Su.EventType.CLOSE,(()=>{H||(H=!0,qe(yr,`RPC '${t}' stream ${l} transport closed`),le.a_(),this.E_(N))})),oe(N,Su.EventType.ERROR,(ee=>{H||(H=!0,Do(yr,`RPC '${t}' stream ${l} transport errored. Name:`,ee.name,"Message:",ee.message),le.a_(new He(we.UNAVAILABLE,"The operation could not be completed")))})),oe(N,Su.EventType.MESSAGE,(ee=>{if(!H){const ce=ee.data[0];Bt(!!ce,16349);const re=ce,pe=re?.error||re[0]?.error;if(pe){qe(yr,`RPC '${t}' stream ${l} received error:`,pe);const De=pe.status;let Ke=(function(M){const P=qn[M];if(P!==void 0)return Ib(P)})(De),Ge=pe.message;Ke===void 0&&(Ke=we.INTERNAL,Ge="Unknown error status: "+De+" with message "+pe.message),H=!0,le.a_(new He(Ke,Ge)),N.close()}else qe(yr,`RPC '${t}' stream ${l} received:`,ce),le.u_(ce)}})),oe(_,Q_.STAT_EVENT,(ee=>{ee.stat===dm.PROXY?qe(yr,`RPC '${t}' stream ${l} detected buffering proxy`):ee.stat===dm.NOPROXY&&qe(yr,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{le.__()}),0),le}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((r=>r===t))}}function am(){return typeof document<"u"?document:null}function Xf(a){return new vA(a,!0)}class Kb{constructor(t,r,s=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=r,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const r=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,r-s);l>0&&qe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const U0="PersistentStream";class Gb{constructor(t,r,s,l,c,p,_,b){this.Mi=t,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=_,this.listener=b,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Kb(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===we.RESOURCE_EXHAUSTED?(es(r.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(r)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===r&&this.G_(s,l)}),(s=>{t((()=>{const l=new He(we.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,r){const s=this.W_(this.D_);this.stream=this.j_(t,r),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return qe(U0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return r=>{this.Mi.enqueueAndForget((()=>this.D_===t?r():(qe(U0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pR extends Gb{constructor(t,r,s,l,c,p){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,l,p),this.serializer=c}j_(t,r){return this.connection.T_("Listen",t,r)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=xA(this.serializer,t),s=(function(c){if(!("targetChange"in c))return ct.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?ct.min():p.readTime?bi(p.readTime):ct.min()})(t);return this.listener.H_(r,s)}Y_(t){const r={};r.database=Tm(this.serializer),r.addTarget=(function(c,p){let _;const b=p.target;if(_=vm(b)?{documents:TA(c,b)}:{query:SA(c,b).ft},_.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){_.resumeToken=Mb(c,p.resumeToken);const v=xm(c,p.expectedCount);v!==null&&(_.expectedCount=v)}else if(p.snapshotVersion.compareTo(ct.min())>0){_.readTime=Cf(c,p.snapshotVersion.toTimestamp());const v=xm(c,p.expectedCount);v!==null&&(_.expectedCount=v)}return _})(this.serializer,t);const s=RA(this.serializer,t);s&&(r.labels=s),this.q_(r)}Z_(t){const r={};r.database=Tm(this.serializer),r.removeTarget=t,this.q_(r)}}class gR extends Gb{constructor(t,r,s,l,c,p){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,l,p),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}J_(t){return Bt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Bt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Bt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=wA(t.writeResults,t.commitTime),s=bi(t.commitTime);return this.listener.na(s,r)}ra(){const t={};t.database=Tm(this.serializer),this.q_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map((s=>EA(this.serializer,s)))};this.q_(r)}}class yR{}class vR extends yR{constructor(t,r,s,l){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new He(we.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,r,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Go(t,Em(r,s),l,c,p))).catch((c=>{throw c.name==="FirebaseError"?(c.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new He(we.UNKNOWN,c.toString())}))}Ho(t,r,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,_])=>this.connection.Ho(t,Em(r,s),l,p,_,c))).catch((p=>{throw p.name==="FirebaseError"?(p.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new He(we.UNKNOWN,p.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class _R{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(es(r),this.aa=!1):qe("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Io="RemoteStore";class bR{constructor(t,r,s,l,c){this.localStore=t,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((p=>{s.enqueueAndForget((async()=>{Vo(this)&&(qe(Io,"Restarting streams for network reachability change."),await(async function(b){const v=ht(b);v.Ea.add(4),await Yu(v),v.Ra.set("Unknown"),v.Ea.delete(4),await $f(v)})(this))}))})),this.Ra=new _R(s,l)}}async function $f(a){if(Vo(a))for(const t of a.da)await t(!0)}async function Yu(a){for(const t of a.da)await t(!1)}function Qb(a,t){const r=ht(a);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),hp(r)?fp(r):Ll(r).O_()&&cp(r,t))}function up(a,t){const r=ht(a),s=Ll(r);r.Ia.delete(t),s.O_()&&Yb(r,t),r.Ia.size===0&&(s.O_()?s.L_():Vo(r)&&r.Ra.set("Unknown"))}function cp(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ct.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Ll(a).Y_(t)}function Yb(a,t){a.Va.Ue(t),Ll(a).Z_(t)}function fp(a){a.Va=new mA({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),Ll(a).start(),a.Ra.ua()}function hp(a){return Vo(a)&&!Ll(a).x_()&&a.Ia.size>0}function Vo(a){return ht(a).Ea.size===0}function Xb(a){a.Va=void 0}async function xR(a){a.Ra.set("Online")}async function ER(a){a.Ia.forEach(((t,r)=>{cp(a,t)}))}async function wR(a,t){Xb(a),hp(a)?(a.Ra.ha(t),fp(a)):a.Ra.set("Unknown")}async function TR(a,t,r){if(a.Ra.set("Online"),t instanceof Ob&&t.state===2&&t.cause)try{await(async function(l,c){const p=c.cause;for(const _ of c.targetIds)l.Ia.has(_)&&(await l.remoteSyncer.rejectListen(_,p),l.Ia.delete(_),l.Va.removeTarget(_))})(a,t)}catch(s){qe(Io,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await If(a,s)}else if(t instanceof hf?a.Va.Ze(t):t instanceof jb?a.Va.st(t):a.Va.tt(t),!r.isEqual(ct.min()))try{const s=await Hb(a.localStore);r.compareTo(s)>=0&&await(function(c,p){const _=c.Va.Tt(p);return _.targetChanges.forEach(((b,v)=>{if(b.resumeToken.approximateByteSize()>0){const A=c.Ia.get(v);A&&c.Ia.set(v,A.withResumeToken(b.resumeToken,p))}})),_.targetMismatches.forEach(((b,v)=>{const A=c.Ia.get(b);if(!A)return;c.Ia.set(b,A.withResumeToken(rr.EMPTY_BYTE_STRING,A.snapshotVersion)),Yb(c,b);const N=new qs(A.target,b,v,A.sequenceNumber);cp(c,N)})),c.remoteSyncer.applyRemoteEvent(_)})(a,r)}catch(s){qe(Io,"Failed to raise snapshot:",s),await If(a,s)}}async function If(a,t,r){if(!Pl(t))throw t;a.Ea.add(1),await Yu(a),a.Ra.set("Offline"),r||(r=()=>Hb(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{qe(Io,"Retrying IndexedDB access"),await r(),a.Ea.delete(1),await $f(a)}))}function $b(a,t){return t().catch((r=>If(a,r,t)))}async function Zf(a){const t=ht(a),r=Js(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ym;for(;SR(t);)try{const l=await sR(t.localStore,s);if(l===null){t.Ta.length===0&&r.L_();break}s=l.batchId,AR(t,l)}catch(l){await If(t,l)}Zb(t)&&Jb(t)}function SR(a){return Vo(a)&&a.Ta.length<10}function AR(a,t){a.Ta.push(t);const r=Js(a);r.O_()&&r.X_&&r.ea(t.mutations)}function Zb(a){return Vo(a)&&!Js(a).x_()&&a.Ta.length>0}function Jb(a){Js(a).start()}async function RR(a){Js(a).ra()}async function NR(a){const t=Js(a);for(const r of a.Ta)t.ea(r.mutations)}async function CR(a,t,r){const s=a.Ta.shift(),l=np.from(s,t,r);await $b(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await Zf(a)}async function DR(a,t){t&&Js(a).X_&&await(async function(s,l){if((function(p){return fA(p)&&p!==we.ABORTED})(l.code)){const c=s.Ta.shift();Js(s).B_(),await $b(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Zf(s)}})(a,t),Zb(a)&&Jb(a)}async function B0(a,t){const r=ht(a);r.asyncQueue.verifyOperationInProgress(),qe(Io,"RemoteStore received new credentials");const s=Vo(r);r.Ea.add(3),await Yu(r),s&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await $f(r)}async function IR(a,t){const r=ht(a);t?(r.Ea.delete(2),await $f(r)):t||(r.Ea.add(2),await Yu(r),r.Ra.set("Unknown"))}function Ll(a){return a.ma||(a.ma=(function(r,s,l){const c=ht(r);return c.sa(),new pR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:xR.bind(null,a),t_:ER.bind(null,a),r_:wR.bind(null,a),H_:TR.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),hp(a)?fp(a):a.Ra.set("Unknown")):(await a.ma.stop(),Xb(a))}))),a.ma}function Js(a){return a.fa||(a.fa=(function(r,s,l){const c=ht(r);return c.sa(),new gR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:RR.bind(null,a),r_:DR.bind(null,a),ta:NR.bind(null,a),na:CR.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await Zf(a)):(await a.fa.stop(),a.Ta.length>0&&(qe(Io,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class dp{constructor(t,r,s,l,c){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Ao,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,r,s,l,c){const p=Date.now()+s,_=new dp(t,r,p,l,c);return _.start(s),_}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new He(we.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mp(a,t){if(es("AsyncQueue",`${t}: ${a}`),Pl(a))return new He(we.UNAVAILABLE,`${t}: ${a}`);throw a}class bl{static emptySet(t){return new bl(t.comparator)}constructor(t){this.comparator=t?(r,s)=>t(r,s)||Ze.comparator(r.key,s.key):(r,s)=>Ze.comparator(r.key,s.key),this.keyedMap=Au(),this.sortedSet=new _n(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((r,s)=>(t(r),!1)))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof bl)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((r=>{t.push(r.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const s=new bl;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=r,s}}class q0{constructor(){this.ga=new _n(Ze.comparator)}track(t){const r=t.doc.key,s=this.ga.get(r);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(r,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(r,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(r):t.type===1&&s.type===2?this.ga=this.ga.insert(r,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):st(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal(((r,s)=>{t.push(s)})),t}}class Rl{constructor(t,r,s,l,c,p,_,b,v){this.query=t,this.docs=r,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=_,this.excludesMetadataChanges=b,this.hasCachedResults=v}static fromInitialDocuments(t,r,s,l,c){const p=[];return r.forEach((_=>{p.push({type:0,doc:_})})),new Rl(t,r,bl.emptySet(r),p,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,s=t.docChanges;if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==s[l].type||!r[l].doc.isEqual(s[l].doc))return!1;return!0}}class jR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class OR{constructor(){this.queries=F0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,s){const l=ht(r),c=l.queries;l.queries=F0(),c.forEach(((p,_)=>{for(const b of _.Sa)b.onError(s)}))})(this,new He(we.ABORTED,"Firestore shutting down"))}}function F0(){return new Oo((a=>_b(a)),Hf)}async function MR(a,t){const r=ht(a);let s=3;const l=t.query;let c=r.queries.get(l);c?!c.ba()&&t.Da()&&(s=2):(c=new jR,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await r.onListen(l,!0);break;case 1:c.wa=await r.onListen(l,!1);break;case 2:await r.onFirstRemoteStoreListen(l)}}catch(p){const _=mp(p,`Initialization of query '${pl(t.query)}' failed`);return void t.onError(_)}r.queries.set(l,c),c.Sa.push(t),t.va(r.onlineState),c.wa&&t.Fa(c.wa)&&pp(r)}async function VR(a,t){const r=ht(a),s=t.query;let l=3;const c=r.queries.get(s);if(c){const p=c.Sa.indexOf(t);p>=0&&(c.Sa.splice(p,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}}function kR(a,t){const r=ht(a);let s=!1;for(const l of t){const c=l.query,p=r.queries.get(c);if(p){for(const _ of p.Sa)_.Fa(l)&&(s=!0);p.wa=l}}s&&pp(r)}function PR(a,t,r){const s=ht(a),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(r);s.queries.delete(t)}function pp(a){a.Ca.forEach((t=>{t.next()}))}var Rm,H0;(H0=Rm||(Rm={})).Ma="default",H0.Cache="cache";class LR{constructor(t,r,s){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Rl(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const s=r!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=Rl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Rm.Cache}}class Wb{constructor(t){this.key=t}}class e1{constructor(t){this.key=t}}class zR{constructor(t,r){this.query=t,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Rt(),this.mutatedKeys=Rt(),this.eu=bb(t),this.tu=new bl(this.eu)}get nu(){return this.Ya}ru(t,r){const s=r?r.iu:new q0,l=r?r.tu:this.tu;let c=r?r.mutatedKeys:this.mutatedKeys,p=l,_=!1;const b=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,N)=>{const O=l.get(A),H=Kf(this.query,N)?N:null,le=!!O&&this.mutatedKeys.has(O.key),oe=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let ee=!1;O&&H?O.data.isEqual(H.data)?le!==oe&&(s.track({type:3,doc:H}),ee=!0):this.su(O,H)||(s.track({type:2,doc:H}),ee=!0,(b&&this.eu(H,b)>0||v&&this.eu(H,v)<0)&&(_=!0)):!O&&H?(s.track({type:0,doc:H}),ee=!0):O&&!H&&(s.track({type:1,doc:O}),ee=!0,(b||v)&&(_=!0)),ee&&(H?(p=p.add(H),c=oe?c.add(A):c.delete(A)):(p=p.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;p.size>this.query.limit;){const A=this.query.limitType==="F"?p.last():p.first();p=p.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{tu:p,iu:s,Cs:_,mutatedKeys:c}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const p=t.iu.ya();p.sort(((A,N)=>(function(H,le){const oe=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st(20277,{Rt:ee})}};return oe(H)-oe(le)})(A.type,N.type)||this.eu(A.doc,N.doc))),this.ou(s),l=l??!1;const _=r&&!l?this._u():[],b=this.Xa.size===0&&this.current&&!l?1:0,v=b!==this.Za;return this.Za=b,p.length!==0||v?{snapshot:new Rl(this.query,t.tu,c,p,t.mutatedKeys,b===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:_}:{au:_}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new q0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),t.modifiedDocuments.forEach((r=>{})),t.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Rt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const r=[];return t.forEach((s=>{this.Xa.has(s)||r.push(new e1(s))})),this.Xa.forEach((s=>{t.has(s)||r.push(new Wb(s))})),r}cu(t){this.Ya=t.Qs,this.Xa=Rt();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return Rl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gp="SyncEngine";class UR{constructor(t,r,s){this.query=t,this.targetId=r,this.view=s}}class BR{constructor(t){this.key=t,this.hu=!1}}class qR{constructor(t,r,s,l,c,p){this.localStore=t,this.remoteStore=r,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new Oo((_=>_b(_)),Hf),this.Iu=new Map,this.Eu=new Set,this.du=new _n(Ze.comparator),this.Au=new Map,this.Ru=new ip,this.Vu={},this.mu=new Map,this.fu=Al.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FR(a,t,r=!0){const s=s1(a);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await t1(s,t,r,!0),l}async function HR(a,t){const r=s1(a);await t1(r,t,!0,!1)}async function t1(a,t,r,s){const l=await oR(a.localStore,vi(t)),c=l.targetId,p=a.sharedClientState.addLocalQueryTarget(c,r);let _;return s&&(_=await KR(a,t,c,p==="current",l.resumeToken)),a.isPrimaryClient&&r&&Qb(a.remoteStore,l),_}async function KR(a,t,r,s,l){a.pu=(N,O,H)=>(async function(oe,ee,ce,re){let pe=ee.view.ru(ce);pe.Cs&&(pe=await k0(oe.localStore,ee.query,!1).then((({documents:k})=>ee.view.ru(k,pe))));const De=re&&re.targetChanges.get(ee.targetId),Ke=re&&re.targetMismatches.get(ee.targetId)!=null,Ge=ee.view.applyChanges(pe,oe.isPrimaryClient,De,Ke);return G0(oe,ee.targetId,Ge.au),Ge.snapshot})(a,N,O,H);const c=await k0(a.localStore,t,!0),p=new zR(t,c.Qs),_=p.ru(c.documents),b=Qu.createSynthesizedTargetChangeForCurrentChange(r,s&&a.onlineState!=="Offline",l),v=p.applyChanges(_,a.isPrimaryClient,b);G0(a,r,v.au);const A=new UR(t,r,p);return a.Tu.set(t,A),a.Iu.has(r)?a.Iu.get(r).push(t):a.Iu.set(r,[t]),v.snapshot}async function GR(a,t,r){const s=ht(a),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((p=>!Hf(p,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Sm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),r&&up(s.remoteStore,l.targetId),Nm(s,l.targetId)})).catch(kl)):(Nm(s,l.targetId),await Sm(s.localStore,l.targetId,!0))}async function QR(a,t){const r=ht(a),s=r.Tu.get(t),l=r.Iu.get(s.targetId);r.isPrimaryClient&&l.length===1&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),up(r.remoteStore,s.targetId))}async function YR(a,t,r){const s=tN(a);try{const l=await(function(p,_){const b=ht(p),v=tn.now(),A=_.reduce(((H,le)=>H.add(le.key)),Rt());let N,O;return b.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let le=ts(),oe=Rt();return b.Ns.getEntries(H,A).next((ee=>{le=ee,le.forEach(((ce,re)=>{re.isValidDocument()||(oe=oe.add(ce))}))})).next((()=>b.localDocuments.getOverlayedDocuments(H,le))).next((ee=>{N=ee;const ce=[];for(const re of _){const pe=sA(re,N.get(re.key).overlayedDocument);pe!=null&&ce.push(new Mo(re.key,pe,fb(pe.value.mapValue),_i.exists(!0)))}return b.mutationQueue.addMutationBatch(H,v,ce,_)})).next((ee=>{O=ee;const ce=ee.applyToLocalDocumentSet(N,oe);return b.documentOverlayCache.saveOverlays(H,ee.batchId,ce)}))})).then((()=>({batchId:O.batchId,changes:Eb(N)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(p,_,b){let v=p.Vu[p.currentUser.toKey()];v||(v=new _n(At)),v=v.insert(_,b),p.Vu[p.currentUser.toKey()]=v})(s,l.batchId,r),await Xu(s,l.changes),await Zf(s.remoteStore)}catch(l){const c=mp(l,"Failed to persist write");r.reject(c)}}async function n1(a,t){const r=ht(a);try{const s=await aR(r.localStore,t);t.targetChanges.forEach(((l,c)=>{const p=r.Au.get(c);p&&(Bt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?Bt(p.hu,14607):l.removedDocuments.size>0&&(Bt(p.hu,42227),p.hu=!1))})),await Xu(r,s,t)}catch(s){await kl(s)}}function K0(a,t,r){const s=ht(a);if(s.isPrimaryClient&&r===0||!s.isPrimaryClient&&r===1){const l=[];s.Tu.forEach(((c,p)=>{const _=p.view.va(t);_.snapshot&&l.push(_.snapshot)})),(function(p,_){const b=ht(p);b.onlineState=_;let v=!1;b.queries.forEach(((A,N)=>{for(const O of N.Sa)O.va(_)&&(v=!0)})),v&&pp(b)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function XR(a,t,r){const s=ht(a);s.sharedClientState.updateQueryState(t,"rejected",r);const l=s.Au.get(t),c=l&&l.key;if(c){let p=new _n(Ze.comparator);p=p.insert(c,_r.newNoDocument(c,ct.min()));const _=Rt().add(c),b=new Yf(ct.min(),new Map,new _n(At),p,_);await n1(s,b),s.du=s.du.remove(c),s.Au.delete(t),yp(s)}else await Sm(s.localStore,t,!1).then((()=>Nm(s,t,r))).catch(kl)}async function $R(a,t){const r=ht(a),s=t.batch.batchId;try{const l=await rR(r.localStore,t);a1(r,s,null),r1(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),await Xu(r,l)}catch(l){await kl(l)}}async function ZR(a,t,r){const s=ht(a);try{const l=await(function(p,_){const b=ht(p);return b.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let A;return b.mutationQueue.lookupMutationBatch(v,_).next((N=>(Bt(N!==null,37113),A=N.keys(),b.mutationQueue.removeMutationBatch(v,N)))).next((()=>b.mutationQueue.performConsistencyCheck(v))).next((()=>b.documentOverlayCache.removeOverlaysForBatchId(v,A,_))).next((()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A))).next((()=>b.localDocuments.getDocuments(v,A)))}))})(s.localStore,t);a1(s,t,r),r1(s,t),s.sharedClientState.updateMutationState(t,"rejected",r),await Xu(s,l)}catch(l){await kl(l)}}function r1(a,t){(a.mu.get(t)||[]).forEach((r=>{r.resolve()})),a.mu.delete(t)}function a1(a,t,r){const s=ht(a);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(r?c.reject(r):c.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function Nm(a,t,r=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.Iu.get(t))a.Tu.delete(s),r&&a.Pu.yu(s,r);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((s=>{a.Ru.containsKey(s)||i1(a,s)}))}function i1(a,t){a.Eu.delete(t.path.canonicalString());const r=a.du.get(t);r!==null&&(up(a.remoteStore,r),a.du=a.du.remove(t),a.Au.delete(r),yp(a))}function G0(a,t,r){for(const s of r)s instanceof Wb?(a.Ru.addReference(s.key,t),JR(a,s)):s instanceof e1?(qe(gp,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,t),a.Ru.containsKey(s.key)||i1(a,s.key)):st(19791,{wu:s})}function JR(a,t){const r=t.key,s=r.path.canonicalString();a.du.get(r)||a.Eu.has(s)||(qe(gp,"New document in limbo: "+r),a.Eu.add(s),yp(a))}function yp(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const r=new Ze(en.fromString(t)),s=a.fu.next();a.Au.set(s,new BR(r)),a.du=a.du.insert(r,s),Qb(a.remoteStore,new qs(vi(Wm(r.path)),s,"TargetPurposeLimboResolution",Bf.ce))}}async function Xu(a,t,r){const s=ht(a),l=[],c=[],p=[];s.Tu.isEmpty()||(s.Tu.forEach(((_,b)=>{p.push(s.pu(b,t,r).then((v=>{if((v||r)&&s.isPrimaryClient){const A=v?!v.fromCache:r?.targetChanges.get(b.targetId)?.current;s.sharedClientState.updateQueryState(b.targetId,A?"current":"not-current")}if(v){l.push(v);const A=op.As(b.targetId,v);c.push(A)}})))})),await Promise.all(p),s.Pu.H_(l),await(async function(b,v){const A=ht(b);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(N=>Te.forEach(v,(O=>Te.forEach(O.Es,(H=>A.persistence.referenceDelegate.addReference(N,O.targetId,H))).next((()=>Te.forEach(O.ds,(H=>A.persistence.referenceDelegate.removeReference(N,O.targetId,H)))))))))}catch(N){if(!Pl(N))throw N;qe(lp,"Failed to update sequence numbers: "+N)}for(const N of v){const O=N.targetId;if(!N.fromCache){const H=A.Ms.get(O),le=H.snapshotVersion,oe=H.withLastLimboFreeSnapshotVersion(le);A.Ms=A.Ms.insert(O,oe)}}})(s.localStore,c))}async function WR(a,t){const r=ht(a);if(!r.currentUser.isEqual(t)){qe(gp,"User change. New user:",t.toKey());const s=await Fb(r.localStore,t);r.currentUser=t,(function(c,p){c.mu.forEach((_=>{_.forEach((b=>{b.reject(new He(we.CANCELLED,p))}))})),c.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Xu(r,s.Ls)}}function eN(a,t){const r=ht(a),s=r.Au.get(t);if(s&&s.hu)return Rt().add(s.key);{let l=Rt();const c=r.Iu.get(t);if(!c)return l;for(const p of c){const _=r.Tu.get(p);l=l.unionWith(_.view.nu)}return l}}function s1(a){const t=ht(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=n1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=eN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=XR.bind(null,t),t.Pu.H_=kR.bind(null,t.eventManager),t.Pu.yu=PR.bind(null,t.eventManager),t}function tN(a){const t=ht(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$R.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ZR.bind(null,t),t}class jf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Xf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return nR(this.persistence,new WA,t.initialUser,this.serializer)}Cu(t){return new qb(sp.mi,this.serializer)}Du(t){return new uR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jf.provider={build:()=>new jf};class nN extends jf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){Bt(this.persistence.referenceDelegate instanceof Df,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new LA(s,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?Yr.withCacheSize(this.cacheSizeBytes):Yr.DEFAULT;return new qb((s=>Df.mi(s,r)),this.serializer)}}class Cm{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>K0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=WR.bind(null,this.syncEngine),await IR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new OR})()}createDatastore(t){const r=Xf(t.databaseInfo.databaseId),s=(function(c){return new mR(c)})(t.databaseInfo);return(function(c,p,_,b){return new vR(c,p,_,b)})(t.authCredentials,t.appCheckCredentials,s,r)}createRemoteStore(t){return(function(s,l,c,p,_){return new bR(s,l,c,p,_)})(this.localStore,this.datastore,t.asyncQueue,(r=>K0(this.syncEngine,r,0)),(function(){return z0.v()?new z0:new cR})())}createSyncEngine(t,r){return(function(l,c,p,_,b,v,A){const N=new qR(l,c,p,_,b,v);return A&&(N.gu=!0),N})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const s=ht(r);qe(Io,"RemoteStore shutting down."),s.Ea.add(5),await Yu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cm.provider={build:()=>new Cm};class rN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):es("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout((()=>{this.muted||t(r)}),0)}}const Ws="FirestoreClient";class aN{constructor(t,r,s,l,c){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=l,this.user=vr.UNAUTHENTICATED,this.clientId=zf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async p=>{qe(Ws,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(s,(p=>(qe(Ws,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ao;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=mp(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function im(a,t){a.asyncQueue.verifyOperationInProgress(),qe(Ws,"Initializing OfflineComponentProvider");const r=a.configuration;await t.initialize(r);let s=r.initialUser;a.setCredentialChangeListener((async l=>{s.isEqual(l)||(await Fb(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function Q0(a,t){a.asyncQueue.verifyOperationInProgress();const r=await iN(a);qe(Ws,"Initializing OnlineComponentProvider"),await t.initialize(r,a.configuration),a.setCredentialChangeListener((s=>B0(t.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,l)=>B0(t.remoteStore,l))),a._onlineComponents=t}async function iN(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){qe(Ws,"Using user provided OfflineComponentProvider");try{await im(a,a._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!(function(l){return l.name==="FirebaseError"?l.code===we.FAILED_PRECONDITION||l.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(r))throw r;Do("Error using user provided cache. Falling back to memory cache: "+r),await im(a,new jf)}}else qe(Ws,"Using default OfflineComponentProvider"),await im(a,new nN(void 0));return a._offlineComponents}async function o1(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(qe(Ws,"Using user provided OnlineComponentProvider"),await Q0(a,a._uninitializedComponentsProvider._online)):(qe(Ws,"Using default OnlineComponentProvider"),await Q0(a,new Cm))),a._onlineComponents}function sN(a){return o1(a).then((t=>t.syncEngine))}async function Y0(a){const t=await o1(a),r=t.eventManager;return r.onListen=FR.bind(null,t.syncEngine),r.onUnlisten=GR.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=HR.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=QR.bind(null,t.syncEngine),r}function l1(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const X0=new Map;const u1="firestore.googleapis.com",$0=!0;class Z0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new He(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=u1,this.ssl=$0}else this.host=t.host,this.ssl=t.ssl??$0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Bb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<kA)throw new He(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}eb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=l1(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new He(we.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new He(we.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new He(we.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Jf{constructor(t,r,s,l){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new He(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new He(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new J_;switch(s.type){case"firstParty":return new pS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new He(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const s=X0.get(r);s&&(qe("ComponentProvider","Removing Datastore"),X0.delete(r),s.terminate())})(this),Promise.resolve()}}function c1(a,t,r,s={}){a=Gs(a,Jf);const l=Km(t),c=a._getSettings(),p={...c,emulatorOptions:a._getEmulatorOptions()},_=`${t}:${r}`;l&&(zT(`https://${_}`),FT("Firestore",!0)),c.host!==u1&&c.host!==_&&Do("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const b={...c,host:_,ssl:l,emulatorOptions:s};if(!_f(b,p)&&(a._setSettings(b),s.mockUserToken)){let v,A;if(typeof s.mockUserToken=="string")v=s.mockUserToken,A=vr.MOCK_USER;else{v=UT(s.mockUserToken,a._app?.options.projectId);const N=s.mockUserToken.sub||s.mockUserToken.user_id;if(!N)throw new He(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new vr(N)}a._authCredentials=new hS(new Z_(v,A))}}class ko{constructor(t,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ko(this.firestore,t,this._query)}}class jn{constructor(t,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new jn(this.firestore,t,this._key)}toJSON(){return{type:jn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,s){if(Hu(r,jn._jsonSchema))return new jn(t,s||null,new Ze(en.fromString(r.referencePath)))}}jn._jsonSchemaVersion="firestore/documentReference/1.0",jn._jsonSchema={type:Hn("string",jn._jsonSchemaVersion),referencePath:Hn("string")};class Zi extends ko{constructor(t,r,s){super(t,r,Wm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new jn(this.firestore,null,new Ze(t))}withConverter(t){return new Zi(this.firestore,t,this._path)}}function f1(a,t,...r){if(a=No(a),W_("collection","path",t),a instanceof Jf){const s=en.fromString(t,...r);return u0(s),new Zi(a,null,s)}{if(!(a instanceof jn||a instanceof Zi))throw new He(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(en.fromString(t,...r));return u0(s),new Zi(a.firestore,null,s)}}function vp(a,t,...r){if(a=No(a),arguments.length===1&&(t=zf.newId()),W_("doc","path",t),a instanceof Jf){const s=en.fromString(t,...r);return l0(s),new jn(a,null,new Ze(s))}{if(!(a instanceof jn||a instanceof Zi))throw new He(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(en.fromString(t,...r));return l0(s),new jn(a.firestore,a instanceof Zi?a.converter:null,new Ze(s))}}const J0="AsyncQueue";class W0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Kb(this,"async_queue_retry"),this._c=()=>{const s=am();s&&qe(J0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const r=am();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=am();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new Ao;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Pl(t))throw t;qe(J0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const r=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,es("INTERNAL UNHANDLED ERROR: ",e_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=r,r}enqueueAfterDelay(t,r,s){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const l=dp.createAndSchedule(this,t,r,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&st(47125,{Pc:e_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((r,s)=>r.targetTimeMs-s.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function e_(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}function t_(a){return(function(r,s){if(typeof r!="object"||r===null)return!1;const l=r;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(a,["next","error","complete"])}class Nl extends Jf{constructor(t,r,s,l){super(t,r,s,l),this.type="firestore",this._queue=new W0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new W0(t),this._firestoreClient=void 0,await t}}}function h1(a,t){const r=typeof a=="object"?a:W2(),s=typeof a=="string"?a:wf,l=Y2(r,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=PT("firestore");c&&c1(l,...c)}return l}function _p(a){if(a._terminated)throw new He(we.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||oN(a),a._firestoreClient}function oN(a){const t=a._freezeSettings(),r=(function(l,c,p,_){return new IS(l,c,p,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,l1(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new aN(a._authCredentials,a._appCheckCredentials,a._queue,r,a._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(a._componentsProvider))}class ya{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ya(rr.fromBase64String(t))}catch(r){throw new He(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new ya(rr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ya._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Hu(t,ya._jsonSchema))return ya.fromBase64String(t.bytes)}}ya._jsonSchemaVersion="firestore/bytes/1.0",ya._jsonSchema={type:Hn("string",ya._jsonSchemaVersion),bytes:Hn("string")};class Wf{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new He(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class bp{constructor(t){this._methodName=t}}class Wa{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new He(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new He(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return At(this._lat,t._lat)||At(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wa._jsonSchemaVersion}}static fromJSON(t){if(Hu(t,Wa._jsonSchema))return new Wa(t.latitude,t.longitude)}}Wa._jsonSchemaVersion="firestore/geoPoint/1.0",Wa._jsonSchema={type:Hn("string",Wa._jsonSchemaVersion),latitude:Hn("number"),longitude:Hn("number")};class ei{constructor(t){this._values=(t||[]).map((r=>r))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Hu(t,ei._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((r=>typeof r=="number")))return new ei(t.vectorValues);throw new He(we.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:Hn("string",ei._jsonSchemaVersion),vectorValues:Hn("object")};const lN=/^__.*__$/;class uN{constructor(t,r,s){this.data=t,this.fieldMask=r,this.fieldTransforms=s}toMutation(t,r){return this.fieldMask!==null?new Mo(t,this.data,this.fieldMask,r,this.fieldTransforms):new Gu(t,this.data,r,this.fieldTransforms)}}function d1(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st(40011,{Ac:a})}}class xp{constructor(t,r,s,l,c,p){this.settings=t,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new xp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const r=this.path?.child(t),s=this.Vc({path:r,fc:!1});return s.gc(t),s}yc(t){const r=this.path?.child(t),s=this.Vc({path:r,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Of(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((r=>t.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>t.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(d1(this.Ac)&&lN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class cN{constructor(t,r,s){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=s||Xf(t)}Cc(t,r,s,l=!1){return new xp({Ac:t,methodName:r,Dc:s,path:nr.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function m1(a){const t=a._freezeSettings(),r=Xf(a._databaseId);return new cN(a._databaseId,!!t.ignoreUndefinedProperties,r)}function fN(a,t,r,s,l,c={}){const p=a.Cc(c.merge||c.mergeFields?2:0,t,r,l);y1("Data must be an object, but it was:",p,s);const _=p1(s,p);let b,v;if(c.merge)b=new Ja(p.fieldMask),v=p.fieldTransforms;else if(c.mergeFields){const A=[];for(const N of c.mergeFields){const O=dN(t,N,r);if(!p.contains(O))throw new He(we.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);pN(A,O)||A.push(O)}b=new Ja(A),v=p.fieldTransforms.filter((N=>b.covers(N.field)))}else b=null,v=p.fieldTransforms;return new uN(new Pa(_),b,v)}function hN(a,t,r,s=!1){return Ep(r,a.Cc(s?4:3,t))}function Ep(a,t){if(g1(a=No(a)))return y1("Unsupported field value:",t,a),p1(a,t);if(a instanceof bp)return(function(s,l){if(!d1(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let p=0;for(const _ of s){let b=Ep(_,l.wc(p));b==null&&(b={nullValue:"NULL_VALUE"}),c.push(b),p++}return{arrayValue:{values:c}}})(a,t)}return(function(s,l){if((s=No(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return eA(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=tn.fromDate(s);return{timestampValue:Cf(l.serializer,c)}}if(s instanceof tn){const c=new tn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Cf(l.serializer,c)}}if(s instanceof Wa)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ya)return{bytesValue:Mb(l.serializer,s._byteString)};if(s instanceof jn){const c=l.databaseId,p=s.firestore._databaseId;if(!p.isEqual(c))throw l.Sc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ap(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof ei)return(function(p,_){return{mapValue:{fields:{[ub]:{stringValue:cb},[Tf]:{arrayValue:{values:p.toArray().map((v=>{if(typeof v!="number")throw _.Sc("VectorValues must only contain numeric values.");return ep(_.serializer,v)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${Uf(s)}`)})(a,t)}function p1(a,t){const r={};return rb(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):jo(a,((s,l)=>{const c=Ep(l,t.mc(s));c!=null&&(r[s]=c)})),{mapValue:{fields:r}}}function g1(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof tn||a instanceof Wa||a instanceof ya||a instanceof jn||a instanceof bp||a instanceof ei)}function y1(a,t,r){if(!g1(r)||!tb(r)){const s=Uf(r);throw s==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+s)}}function dN(a,t,r){if((t=No(t))instanceof Wf)return t._internalPath;if(typeof t=="string")return v1(a,t);throw Of("Field path arguments must be of type string or ",a,!1,void 0,r)}const mN=new RegExp("[~\\*/\\[\\]]");function v1(a,t,r){if(t.search(mN)>=0)throw Of(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new Wf(...t.split("."))._internalPath}catch{throw Of(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function Of(a,t,r,s,l){const c=s&&!s.isEmpty(),p=l!==void 0;let _=`Function ${t}() called with invalid data`;r&&(_+=" (via `toFirestore()`)"),_+=". ";let b="";return(c||p)&&(b+=" (found",c&&(b+=` in field ${s}`),p&&(b+=` in document ${l}`),b+=")"),new He(we.INVALID_ARGUMENT,_+a+b)}function pN(a,t){return a.some((r=>r.isEqual(t)))}class _1{constructor(t,r,s,l,c){this._firestore=t,this._userDataWriter=r,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new gN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(b1("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class gN extends _1{data(){return super.data()}}function b1(a,t){return typeof t=="string"?v1(a,t):t instanceof Wf?t._internalPath:t._delegate._internalPath}function yN(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new He(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wp{}class x1 extends wp{}function E1(a,t,...r){let s=[];t instanceof wp&&s.push(t),s=s.concat(r),(function(c){const p=c.filter((b=>b instanceof th)).length,_=c.filter((b=>b instanceof eh)).length;if(p>1||p>0&&_>0)throw new He(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)a=l._apply(a);return a}class eh extends x1{constructor(t,r,s){super(),this._field=t,this._op=r,this._value=s,this.type="where"}static _create(t,r,s){return new eh(t,r,s)}_apply(t){const r=this._parse(t);return w1(t._query,r),new ko(t.firestore,t.converter,_m(t._query,r))}_parse(t){const r=m1(t.firestore);return(function(c,p,_,b,v,A,N){let O;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new He(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){r_(N,A);const le=[];for(const oe of N)le.push(n_(b,c,oe));O={arrayValue:{values:le}}}else O=n_(b,c,N)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||r_(N,A),O=hN(_,p,N,A==="in"||A==="not-in");return Fn.create(v,A,O)})(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}class th extends wp{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new th(t,r)}_parse(t){const r=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return r.length===1?r[0]:ti.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:((function(l,c){let p=l;const _=c.getFlattenedFilters();for(const b of _)w1(p,b),p=_m(p,b)})(t._query,r),new ko(t.firestore,t.converter,_m(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function n_(a,t,r){if(typeof(r=No(r))=="string"){if(r==="")throw new He(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vb(t)&&r.indexOf("/")!==-1)throw new He(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=t.path.child(en.fromString(r));if(!Ze.isDocumentKey(s))throw new He(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return y0(a,new Ze(s))}if(r instanceof jn)return y0(a,r._key);throw new He(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uf(r)}.`)}function r_(a,t){if(!Array.isArray(a)||a.length===0)throw new He(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function w1(a,t){const r=(function(l,c){for(const p of l)for(const _ of p.getFlattenedFilters())if(c.indexOf(_.op)>=0)return _.op;return null})(a.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(r!==null)throw r===t.op?new He(we.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new He(we.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class T1{convertValue(t,r="none"){switch(Zs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return In(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes($s(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw st(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const s={};return jo(t,((l,c)=>{s[l]=this.convertValue(c,r)})),s}convertVectorValue(t){const r=t.fields?.[Tf].arrayValue?.values?.map((s=>In(s.doubleValue)));return new ei(r)}convertGeoPoint(t){return new Wa(In(t.latitude),In(t.longitude))}convertArray(t,r){return(t.values||[]).map((s=>this.convertValue(s,r)))}convertServerTimestamp(t,r){switch(r){case"previous":const s=Ff(t);return s==null?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Lu(t));default:return null}}convertTimestamp(t){const r=Xs(t);return new tn(r.seconds,r.nanos)}convertDocumentKey(t,r){const s=en.fromString(t);Bt(Ub(s),9688,{name:t});const l=new wl(s.get(1),s.get(3)),c=new Ze(s.popFirst(5));return l.isEqual(r)||es(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),c}}function vN(a,t,r){let s;return s=a?r&&(r.merge||r.mergeFields)?a.toFirestore(t,r):a.toFirestore(t):t,s}class vl{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qs extends _1{constructor(t,r,s,l,c,p){super(t,r,s,l,p),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Ou(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const s=this._document.data.field(b1("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new He(we.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=Qs._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qs._jsonSchema={type:Hn("string",Qs._jsonSchemaVersion),bundleSource:Hn("string","DocumentSnapshot"),bundleName:Hn("string"),bundle:Hn("string")};class Ou extends Qs{data(t={}){return super.data(t)}}class Ro{constructor(t,r,s,l){this._firestore=t,this._userDataWriter=r,this._snapshot=l,this.metadata=new vl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((r=>t.push(r))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach((s=>{t.call(r,new Ou(this._firestore,this._userDataWriter,s.key,s,new vl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new He(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map((_=>{const b=new Ou(l._firestore,l._userDataWriter,_.doc.key,_.doc,new vl(l._snapshot.mutatedKeys.has(_.doc.key),l._snapshot.fromCache),l.query.converter);return _.doc,{type:"added",doc:b,oldIndex:-1,newIndex:p++}}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((_=>c||_.type!==3)).map((_=>{const b=new Ou(l._firestore,l._userDataWriter,_.doc.key,_.doc,new vl(l._snapshot.mutatedKeys.has(_.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return _.type!==0&&(v=p.indexOf(_.doc.key),p=p.delete(_.doc.key)),_.type!==1&&(p=p.add(_.doc),A=p.indexOf(_.doc.key)),{type:_N(_.type),doc:b,oldIndex:v,newIndex:A}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new He(we.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ro._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=zf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(r.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function _N(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st(61501,{type:a})}}Ro._jsonSchemaVersion="firestore/querySnapshot/1.0",Ro._jsonSchema={type:Hn("string",Ro._jsonSchemaVersion),bundleSource:Hn("string","QuerySnapshot"),bundleName:Hn("string"),bundle:Hn("string")};class S1 extends T1{constructor(t){super(),this.firestore=t}convertBytes(t){return new ya(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new jn(this.firestore,null,r)}}function A1(a,t,r){a=Gs(a,jn);const s=Gs(a.firestore,Nl),l=vN(a.converter,t,r);return Tp(s,[fN(m1(s),"setDoc",a._key,l,a.converter!==null,r).toMutation(a._key,_i.none())])}function R1(a){return Tp(Gs(a.firestore,Nl),[new tp(a._key,_i.none())])}function N1(a,...t){a=No(a);let r={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||t_(t[s])||(r=t[s++]);const l={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(t_(t[s])){const b=t[s];t[s]=b.next?.bind(b),t[s+1]=b.error?.bind(b),t[s+2]=b.complete?.bind(b)}let c,p,_;if(a instanceof jn)p=Gs(a.firestore,Nl),_=Wm(a._key.path),c={next:b=>{t[s]&&t[s](bN(p,a,b))},error:t[s+1],complete:t[s+2]};else{const b=Gs(a,ko);p=Gs(b.firestore,Nl),_=b._query;const v=new S1(p);c={next:A=>{t[s]&&t[s](new Ro(p,v,b,A))},error:t[s+1],complete:t[s+2]},yN(a._query)}return(function(v,A,N,O){const H=new rN(O),le=new LR(A,H,N);return v.asyncQueue.enqueueAndForget((async()=>MR(await Y0(v),le))),()=>{H.Nu(),v.asyncQueue.enqueueAndForget((async()=>VR(await Y0(v),le)))}})(_p(p),_,l,c)}function Tp(a,t){return(function(s,l){const c=new Ao;return s.asyncQueue.enqueueAndForget((async()=>YR(await sN(s),l,c))),c.promise})(_p(a),t)}function bN(a,t,r){const s=r.docs.get(t._key),l=new S1(a);return new Qs(a,l,t._key,s,new vl(r.hasPendingWrites,r.fromCache),t.converter)}(function(t,r=!0){(function(l){Vl=l})(J2),xf(new Vu("firestore",((s,{instanceIdentifier:l,options:c})=>{const p=s.getProvider("app").getImmediate(),_=new Nl(new dS(s.getProvider("auth-internal")),new gS(p,s.getProvider("app-check-internal")),(function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new He(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wl(v.options.projectId,A)})(p,l),p);return c={useFetchStreams:r,...c},_._setSettings(c),_}),"PUBLIC").setMultipleInstances(!0)),_l(a0,i0,t),_l(a0,i0,"esm2020")})();const xN=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:T1,Bytes:ya,CollectionReference:Zi,DocumentReference:jn,DocumentSnapshot:Qs,FieldPath:Wf,FieldValue:bp,Firestore:Nl,FirestoreError:He,GeoPoint:Wa,Query:ko,QueryCompositeFilterConstraint:th,QueryConstraint:x1,QueryDocumentSnapshot:Ou,QueryFieldFilterConstraint:eh,QuerySnapshot:Ro,SnapshotMetadata:vl,Timestamp:tn,VectorValue:ei,_AutoId:zf,_ByteString:rr,_DatabaseId:wl,_DocumentKey:Ze,_EmptyAuthCredentialsProvider:J_,_FieldPath:nr,_cast:Gs,_logWarn:Do,_validateIsNotUsedTogether:eb,collection:f1,connectFirestoreEmulator:c1,deleteDoc:R1,doc:vp,ensureFirestoreConfigured:_p,executeWrite:Tp,getFirestore:h1,onSnapshot:N1,query:E1,setDoc:A1},Symbol.toStringTag,{value:"Module"})),EN={apiKey:"AIzaSyDUMSroR4ttcdohVK2Y8qq7yWIBrkAWKWQ",authDomain:"studio-7145332012-9a179.firebaseapp.com",projectId:"studio-7145332012-9a179",storageBucket:"studio-7145332012-9a179.firebasestorage.app",messagingSenderId:"832894479416",appId:"1:832894479416:web:2163932c408afeabdb8acd"},wN=B_(EN),nh=h1(wN),TN=Object.freeze(Object.defineProperty({__proto__:null,db:nh},Symbol.toStringTag,{value:"Module"}));var df={exports:{}},SN=df.exports,a_;function AN(){return a_||(a_=1,(function(a,t){(function(r,s){a.exports=s()})(SN,function(){var r=function(f,d){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,E){y.__proto__=E}||function(y,E){for(var S in E)Object.prototype.hasOwnProperty.call(E,S)&&(y[S]=E[S])})(f,d)},s=function(){return(s=Object.assign||function(f){for(var d,y=1,E=arguments.length;y<E;y++)for(var S in d=arguments[y])Object.prototype.hasOwnProperty.call(d,S)&&(f[S]=d[S]);return f}).apply(this,arguments)};function l(f,d,y){for(var E,S=0,R=d.length;S<R;S++)!E&&S in d||((E=E||Array.prototype.slice.call(d,0,S))[S]=d[S]);return f.concat(E||Array.prototype.slice.call(d))}var c=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Qx,p=Object.keys,_=Array.isArray;function b(f,d){return typeof d!="object"||p(d).forEach(function(y){f[y]=d[y]}),f}typeof Promise>"u"||c.Promise||(c.Promise=Promise);var v=Object.getPrototypeOf,A={}.hasOwnProperty;function N(f,d){return A.call(f,d)}function O(f,d){typeof d=="function"&&(d=d(v(f))),(typeof Reflect>"u"?p:Reflect.ownKeys)(d).forEach(function(y){le(f,y,d[y])})}var H=Object.defineProperty;function le(f,d,y,E){H(f,d,b(y&&N(y,"get")&&typeof y.get=="function"?{get:y.get,set:y.set,configurable:!0}:{value:y,configurable:!0,writable:!0},E))}function oe(f){return{from:function(d){return f.prototype=Object.create(d.prototype),le(f.prototype,"constructor",f),{extend:O.bind(null,f.prototype)}}}}var ee=Object.getOwnPropertyDescriptor,ce=[].slice;function re(f,d,y){return ce.call(f,d,y)}function pe(f,d){return d(f)}function De(f){if(!f)throw new Error("Assertion Failed")}function Ke(f){c.setImmediate?setImmediate(f):setTimeout(f,0)}function Ge(f,d){if(typeof d=="string"&&N(f,d))return f[d];if(!d)return f;if(typeof d!="string"){for(var y=[],E=0,S=d.length;E<S;++E){var R=Ge(f,d[E]);y.push(R)}return y}var I=d.indexOf(".");if(I!==-1){var L=f[d.substr(0,I)];return L==null?void 0:Ge(L,d.substr(I+1))}}function k(f,d,y){if(f&&d!==void 0&&!("isFrozen"in Object&&Object.isFrozen(f)))if(typeof d!="string"&&"length"in d){De(typeof y!="string"&&"length"in y);for(var E=0,S=d.length;E<S;++E)k(f,d[E],y[E])}else{var R,I,L=d.indexOf(".");L!==-1?(R=d.substr(0,L),(I=d.substr(L+1))===""?y===void 0?_(f)&&!isNaN(parseInt(R))?f.splice(R,1):delete f[R]:f[R]=y:k(L=!(L=f[R])||!N(f,R)?f[R]={}:L,I,y)):y===void 0?_(f)&&!isNaN(parseInt(d))?f.splice(d,1):delete f[d]:f[d]=y}}function M(f){var d,y={};for(d in f)N(f,d)&&(y[d]=f[d]);return y}var P=[].concat;function j(f){return P.apply([],f)}var $r="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(j([8,16,32,64].map(function(f){return["Int","Uint","Float"].map(function(d){return d+f+"Array"})}))).filter(function(f){return c[f]}),z=new Set($r.map(function(f){return c[f]})),Y=null;function V(f){return Y=new WeakMap,f=(function d(y){if(!y||typeof y!="object")return y;var E=Y.get(y);if(E)return E;if(_(y)){E=[],Y.set(y,E);for(var S=0,R=y.length;S<R;++S)E.push(d(y[S]))}else if(z.has(y.constructor))E=y;else{var I,L=v(y);for(I in E=L===Object.prototype?{}:Object.create(L),Y.set(y,E),y)N(y,I)&&(E[I]=d(y[I]))}return E})(f),Y=null,f}var at={}.toString;function dt(f){return at.call(f).slice(8,-1)}var $=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Se=typeof $=="symbol"?function(f){var d;return f!=null&&(d=f[$])&&d.apply(f)}:function(){return null};function Ae(f,d){return d=f.indexOf(d),0<=d&&f.splice(d,1),0<=d}var it={};function tt(f){var d,y,E,S;if(arguments.length===1){if(_(f))return f.slice();if(this===it&&typeof f=="string")return[f];if(S=Se(f)){for(y=[];!(E=S.next()).done;)y.push(E.value);return y}if(f==null)return[f];if(typeof(d=f.length)!="number")return[f];for(y=new Array(d);d--;)y[d]=f[d];return y}for(d=arguments.length,y=new Array(d);d--;)y[d]=arguments[d];return y}var q=typeof Symbol<"u"?function(f){return f[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Xr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Tr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Xr),_e={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function je(f,d){this.name=f,this.message=d}function Re(f,d){return f+". Errors: "+Object.keys(d).map(function(y){return d[y].toString()}).filter(function(y,E,S){return S.indexOf(y)===E}).join(`
`)}function Be(f,d,y,E){this.failures=d,this.failedKeys=E,this.successCount=y,this.message=Re(f,d)}function $e(f,d){this.name="BulkError",this.failures=Object.keys(d).map(function(y){return d[y]}),this.failuresByPos=d,this.message=Re(f,this.failures)}oe(je).from(Error).extend({toString:function(){return this.name+": "+this.message}}),oe(Be).from(je),oe($e).from(je);var rt=Tr.reduce(function(f,d){return f[d]=d+"Error",f},{}),qt=je,Oe=Tr.reduce(function(f,d){var y=d+"Error";function E(S,R){this.name=y,S?typeof S=="string"?(this.message="".concat(S).concat(R?`
 `+R:""),this.inner=R||null):typeof S=="object"&&(this.message="".concat(S.name," ").concat(S.message),this.inner=S):(this.message=_e[d]||y,this.inner=null)}return oe(E).from(qt),f[d]=E,f},{});Oe.Syntax=SyntaxError,Oe.Type=TypeError,Oe.Range=RangeError;var hn=Xr.reduce(function(f,d){return f[d+"Error"]=Oe[d],f},{}),On=Tr.reduce(function(f,d){return["Syntax","Type","Range"].indexOf(d)===-1&&(f[d+"Error"]=Oe[d]),f},{});function Qe(){}function Je(f){return f}function Ft(f,d){return f==null||f===Je?d:function(y){return d(f(y))}}function yt(f,d){return function(){f.apply(this,arguments),d.apply(this,arguments)}}function zt(f,d){return f===Qe?d:function(){var y=f.apply(this,arguments);y!==void 0&&(arguments[0]=y);var E=this.onsuccess,S=this.onerror;this.onsuccess=null,this.onerror=null;var R=d.apply(this,arguments);return E&&(this.onsuccess=this.onsuccess?yt(E,this.onsuccess):E),S&&(this.onerror=this.onerror?yt(S,this.onerror):S),R!==void 0?R:y}}function on(f,d){return f===Qe?d:function(){f.apply(this,arguments);var y=this.onsuccess,E=this.onerror;this.onsuccess=this.onerror=null,d.apply(this,arguments),y&&(this.onsuccess=this.onsuccess?yt(y,this.onsuccess):y),E&&(this.onerror=this.onerror?yt(E,this.onerror):E)}}function Yn(f,d){return f===Qe?d:function(y){var E=f.apply(this,arguments);b(y,E);var S=this.onsuccess,R=this.onerror;return this.onsuccess=null,this.onerror=null,y=d.apply(this,arguments),S&&(this.onsuccess=this.onsuccess?yt(S,this.onsuccess):S),R&&(this.onerror=this.onerror?yt(R,this.onerror):R),E===void 0?y===void 0?void 0:y:b(E,y)}}function Nt(f,d){return f===Qe?d:function(){return d.apply(this,arguments)!==!1&&f.apply(this,arguments)}}function Mt(f,d){return f===Qe?d:function(){var y=f.apply(this,arguments);if(y&&typeof y.then=="function"){for(var E=this,S=arguments.length,R=new Array(S);S--;)R[S]=arguments[S];return y.then(function(){return d.apply(E,R)})}return d.apply(this,arguments)}}On.ModifyError=Be,On.DexieError=je,On.BulkError=$e;var wn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Po(f){wn=f}var ri={},Xn=100,$r=typeof Promise>"u"?[]:(function(){var f=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[f,v(f),f];var d=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[d,v(d),f]})(),Xr=$r[0],Tr=$r[1],$r=$r[2],Tr=Tr&&Tr.then,Zr=Xr&&Xr.constructor,va=!!$r,Ei=function(f,d){ai.push([f,d]),wi&&(queueMicrotask(Lo),wi=!1)},rs=!0,wi=!0,_a=[],fr=[],Tn=Je,Sn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Qe,pgp:!1,env:{},finalize:Qe},ze=Sn,ai=[],Rr=0,Ti=[];function ke(f){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var d=this._PSD=ze;if(typeof f!="function"){if(f!==ri)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Nr(this,this._value))}this._state=null,this._value=null,++d.ref,(function y(E,S){try{S(function(R){if(E._state===null){if(R===E)throw new TypeError("A promise cannot be resolved with itself.");var I=E._lib&&ar();R&&typeof R.then=="function"?y(E,function(L,F){R instanceof ke?R._then(L,F):R.then(L,F)}):(E._state=!0,E._value=R,Jr(E)),I&&Cr()}},Nr.bind(null,E))}catch(R){Nr(E,R)}})(this,f)}var Ba={get:function(){var f=ze,d=hr;function y(E,S){var R=this,I=!f.global&&(f!==ze||d!==hr),L=I&&!Kn(),F=new ke(function(K,J){br(R,new dn(Ri(E,f,I,L),Ri(S,f,I,L),K,J,f))});return this._consoleTask&&(F._consoleTask=this._consoleTask),F}return y.prototype=ri,y},set:function(f){le(this,"then",f&&f.prototype===ri?Ba:{get:function(){return f},set:Ba.set})}};function dn(f,d,y,E,S){this.onFulfilled=typeof f=="function"?f:null,this.onRejected=typeof d=="function"?d:null,this.resolve=y,this.reject=E,this.psd=S}function Nr(f,d){var y,E;fr.push(d),f._state===null&&(y=f._lib&&ar(),d=Tn(d),f._state=!1,f._value=d,E=f,_a.some(function(S){return S._value===E._value})||_a.push(E),Jr(f),y&&Cr())}function Jr(f){var d=f._listeners;f._listeners=[];for(var y=0,E=d.length;y<E;++y)br(f,d[y]);var S=f._PSD;--S.ref||S.finalize(),Rr===0&&(++Rr,Ei(function(){--Rr==0&&eo()},[]))}function br(f,d){if(f._state!==null){var y=f._state?d.onFulfilled:d.onRejected;if(y===null)return(f._state?d.resolve:d.reject)(f._value);++d.psd.ref,++Rr,Ei(zl,[y,f,d])}else f._listeners.push(d)}function zl(f,d,y){try{var E,S=d._value;!d._state&&fr.length&&(fr=[]),E=wn&&d._consoleTask?d._consoleTask.run(function(){return f(S)}):f(S),d._state||fr.indexOf(S)!==-1||(function(R){for(var I=_a.length;I;)if(_a[--I]._value===R._value)return _a.splice(I,1)})(d),y.resolve(E)}catch(R){y.reject(R)}finally{--Rr==0&&eo(),--y.psd.ref||y.psd.finalize()}}function Lo(){$n(Sn,function(){ar()&&Cr()})}function ar(){var f=rs;return wi=rs=!1,f}function Cr(){var f,d,y;do for(;0<ai.length;)for(f=ai,ai=[],y=f.length,d=0;d<y;++d){var E=f[d];E[0].apply(null,E[1])}while(0<ai.length);wi=rs=!0}function eo(){var f=_a;_a=[],f.forEach(function(E){E._PSD.onunhandled.call(null,E._value,E)});for(var d=Ti.slice(0),y=d.length;y;)d[--y]()}function ba(f){return new ke(ri,!1,f)}function Ut(f,d){var y=ze;return function(){var E=ar(),S=ze;try{return ea(y,!0),f.apply(this,arguments)}catch(R){d&&d(R)}finally{ea(S,!1),E&&Cr()}}}O(ke.prototype,{then:Ba,_then:function(f,d){br(this,new dn(null,null,f,d,ze))},catch:function(f){if(arguments.length===1)return this.then(null,f);var d=f,y=arguments[1];return typeof d=="function"?this.then(null,function(E){return(E instanceof d?y:ba)(E)}):this.then(null,function(E){return(E&&E.name===d?y:ba)(E)})},finally:function(f){return this.then(function(d){return ke.resolve(f()).then(function(){return d})},function(d){return ke.resolve(f()).then(function(){return ba(d)})})},timeout:function(f,d){var y=this;return f<1/0?new ke(function(E,S){var R=setTimeout(function(){return S(new Oe.Timeout(d))},f);y.then(E,S).finally(clearTimeout.bind(null,R))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&le(ke.prototype,Symbol.toStringTag,"Dexie.Promise"),Sn.env=to(),O(ke,{all:function(){var f=tt.apply(null,arguments).map(qa);return new ke(function(d,y){f.length===0&&d([]);var E=f.length;f.forEach(function(S,R){return ke.resolve(S).then(function(I){f[R]=I,--E||d(f)},y)})})},resolve:function(f){return f instanceof ke?f:f&&typeof f.then=="function"?new ke(function(d,y){f.then(d,y)}):new ke(ri,!0,f)},reject:ba,race:function(){var f=tt.apply(null,arguments).map(qa);return new ke(function(d,y){f.map(function(E){return ke.resolve(E).then(d,y)})})},PSD:{get:function(){return ze},set:function(f){return ze=f}},totalEchoes:{get:function(){return hr}},newPSD:Ht,usePSD:$n,scheduler:{get:function(){return Ei},set:function(f){Ei=f}},rejectionMapper:{get:function(){return Tn},set:function(f){Tn=f}},follow:function(f,d){return new ke(function(y,E){return Ht(function(S,R){var I=ze;I.unhandleds=[],I.onunhandled=R,I.finalize=yt(function(){var L,F=this;L=function(){F.unhandleds.length===0?S():R(F.unhandleds[0])},Ti.push(function K(){L(),Ti.splice(Ti.indexOf(K),1)}),++Rr,Ei(function(){--Rr==0&&eo()},[])},I.finalize),f()},d,y,E)})}}),Zr&&(Zr.allSettled&&le(ke,"allSettled",function(){var f=tt.apply(null,arguments).map(qa);return new ke(function(d){f.length===0&&d([]);var y=f.length,E=new Array(y);f.forEach(function(S,R){return ke.resolve(S).then(function(I){return E[R]={status:"fulfilled",value:I}},function(I){return E[R]={status:"rejected",reason:I}}).then(function(){return--y||d(E)})})})}),Zr.any&&typeof AggregateError<"u"&&le(ke,"any",function(){var f=tt.apply(null,arguments).map(qa);return new ke(function(d,y){f.length===0&&y(new AggregateError([]));var E=f.length,S=new Array(E);f.forEach(function(R,I){return ke.resolve(R).then(function(L){return d(L)},function(L){S[I]=L,--E||y(new AggregateError(S))})})})}),Zr.withResolvers&&(ke.withResolvers=Zr.withResolvers));var ln={awaits:0,echoes:0,id:0},Si=0,Dr=[],Ai=0,hr=0,Wr=0;function Ht(f,d,y,E){var S=ze,R=Object.create(S);return R.parent=S,R.ref=0,R.global=!1,R.id=++Wr,Sn.env,R.env=va?{Promise:ke,PromiseProp:{value:ke,configurable:!0,writable:!0},all:ke.all,race:ke.race,allSettled:ke.allSettled,any:ke.any,resolve:ke.resolve,reject:ke.reject}:{},d&&b(R,d),++S.ref,R.finalize=function(){--this.parent.ref||this.parent.finalize()},E=$n(R,f,y,E),R.ref===0&&R.finalize(),E}function nn(){return ln.id||(ln.id=++Si),++ln.awaits,ln.echoes+=Xn,ln.id}function Kn(){return!!ln.awaits&&(--ln.awaits==0&&(ln.id=0),ln.echoes=ln.awaits*Xn,!0)}function qa(f){return ln.echoes&&f&&f.constructor===Zr?(nn(),f.then(function(d){return Kn(),d},function(d){return Kn(),It(d)})):f}function Ul(){var f=Dr[Dr.length-1];Dr.pop(),ea(f,!1)}function ea(f,d){var y,E=ze;(d?!ln.echoes||Ai++&&f===ze:!Ai||--Ai&&f===ze)||queueMicrotask(d?(function(S){++hr,ln.echoes&&--ln.echoes!=0||(ln.echoes=ln.awaits=ln.id=0),Dr.push(ze),ea(S,!0)}).bind(null,f):Ul),f!==ze&&(ze=f,E===Sn&&(Sn.env=to()),va&&(y=Sn.env.Promise,d=f.env,(E.global||f.global)&&(Object.defineProperty(c,"Promise",d.PromiseProp),y.all=d.all,y.race=d.race,y.resolve=d.resolve,y.reject=d.reject,d.allSettled&&(y.allSettled=d.allSettled),d.any&&(y.any=d.any))))}function to(){var f=c.Promise;return va?{Promise:f,PromiseProp:Object.getOwnPropertyDescriptor(c,"Promise"),all:f.all,race:f.race,allSettled:f.allSettled,any:f.any,resolve:f.resolve,reject:f.reject}:{}}function $n(f,d,y,E,S){var R=ze;try{return ea(f,!0),d(y,E,S)}finally{ea(R,!1)}}function Ri(f,d,y,E){return typeof f!="function"?f:function(){var S=ze;y&&nn(),ea(d,!0);try{return f.apply(this,arguments)}finally{ea(S,!1),E&&queueMicrotask(Kn)}}}function Ir(f){Promise===Zr&&ln.echoes===0?Ai===0?f():enqueueNativeMicroTask(f):setTimeout(f,0)}(""+Tr).indexOf("[native code]")===-1&&(nn=Kn=Qe);var It=ke.reject,An="",Mn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",mn="String expected.",xa=[],ii="__dbnames",jr="readonly",Or="readwrite";function ta(f,d){return f?d?function(){return f.apply(this,arguments)&&d.apply(this,arguments)}:f:d}var as={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function si(f){return typeof f!="string"||/\./.test(f)?function(d){return d}:function(d){return d[f]===void 0&&f in d&&delete(d=V(d))[f],d}}function no(){throw Oe.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function mt(f,d){try{var y=dr(f),E=dr(d);if(y!==E)return y==="Array"?1:E==="Array"?-1:y==="binary"?1:E==="binary"?-1:y==="string"?1:E==="string"?-1:y==="Date"?1:E!=="Date"?NaN:-1;switch(y){case"number":case"Date":case"string":return d<f?1:f<d?-1:0;case"binary":return(function(S,R){for(var I=S.length,L=R.length,F=I<L?I:L,K=0;K<F;++K)if(S[K]!==R[K])return S[K]<R[K]?-1:1;return I===L?0:I<L?-1:1})(pn(f),pn(d));case"Array":return(function(S,R){for(var I=S.length,L=R.length,F=I<L?I:L,K=0;K<F;++K){var J=mt(S[K],R[K]);if(J!==0)return J}return I===L?0:I<L?-1:1})(f,d)}}catch{}return NaN}function dr(f){var d=typeof f;return d!="object"?d:ArrayBuffer.isView(f)?"binary":(f=dt(f),f==="ArrayBuffer"?"binary":f)}function pn(f){return f instanceof Uint8Array?f:ArrayBuffer.isView(f)?new Uint8Array(f.buffer,f.byteOffset,f.byteLength):new Uint8Array(f)}function gn(f,d,y){var E=f.schema.yProps;return E?(d&&0<y.numFailures&&(d=d.filter(function(S,R){return!y.failures[R]})),Promise.all(E.map(function(S){return S=S.updatesTable,d?f.db.table(S).where("k").anyOf(d).delete():f.db.table(S).clear()})).then(function(){return y})):y}var Mr=(is.prototype.execute=function(f){var d=this["@@propmod"];if(d.add!==void 0){var y=d.add;if(_(y))return l(l([],_(f)?f:[],!0),y).sort();if(typeof y=="number")return(Number(f)||0)+y;if(typeof y=="bigint")try{return BigInt(f)+y}catch{return BigInt(0)+y}throw new TypeError("Invalid term ".concat(y))}if(d.remove!==void 0){var E=d.remove;if(_(E))return _(f)?f.filter(function(S){return!E.includes(S)}).sort():[];if(typeof E=="number")return Number(f)-E;if(typeof E=="bigint")try{return BigInt(f)-E}catch{return BigInt(0)-E}throw new TypeError("Invalid subtrahend ".concat(E))}return y=(y=d.replacePrefix)===null||y===void 0?void 0:y[0],y&&typeof f=="string"&&f.startsWith(y)?d.replacePrefix[1]+f.substring(y.length):f},is);function is(f){this["@@propmod"]=f}function Vt(f,d){for(var y=p(d),E=y.length,S=!1,R=0;R<E;++R){var I=y[R],L=d[I],F=Ge(f,I);L instanceof Mr?(k(f,I,L.execute(F)),S=!0):F!==L&&(k(f,I,L),S=!0)}return S}var oi=(xt.prototype._trans=function(f,d,y){var E=this._tx||ze.trans,S=this.name,R=wn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(f==="readonly"?"read":"write"," ").concat(this.name));function I(K,J,B){if(!B.schema[S])throw new Oe.NotFound("Table "+S+" not part of transaction");return d(B.idbtrans,B)}var L=ar();try{var F=E&&E.db._novip===this.db._novip?E===ze.trans?E._promise(f,I,y):Ht(function(){return E._promise(f,I,y)},{trans:E,transless:ze.transless||ze}):(function K(J,B,te,G){if(J.idbdb&&(J._state.openComplete||ze.letThrough||J._vip)){var X=J._createTransaction(B,te,J._dbSchema);try{X.create(),J._state.PR1398_maxLoop=3}catch(Z){return Z.name===rt.InvalidState&&J.isOpen()&&0<--J._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),J.close({disableAutoOpen:!1}),J.open().then(function(){return K(J,B,te,G)})):It(Z)}return X._promise(B,function(Z,W){return Ht(function(){return ze.trans=X,G(Z,W,X)})}).then(function(Z){if(B==="readwrite")try{X.idbtrans.commit()}catch{}return B==="readonly"?Z:X._completion.then(function(){return Z})})}if(J._state.openComplete)return It(new Oe.DatabaseClosed(J._state.dbOpenError));if(!J._state.isBeingOpened){if(!J._state.autoOpen)return It(new Oe.DatabaseClosed);J.open().catch(Qe)}return J._state.dbReadyPromise.then(function(){return K(J,B,te,G)})})(this.db,f,[this.name],I);return R&&(F._consoleTask=R,F=F.catch(function(K){return console.trace(K),It(K)})),F}finally{L&&Cr()}},xt.prototype.get=function(f,d){var y=this;return f&&f.constructor===Object?this.where(f).first(d):f==null?It(new Oe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(E){return y.core.get({trans:E,key:f}).then(function(S){return y.hook.reading.fire(S)})}).then(d)},xt.prototype.where=function(f){if(typeof f=="string")return new this.db.WhereClause(this,f);if(_(f))return new this.db.WhereClause(this,"[".concat(f.join("+"),"]"));var d=p(f);if(d.length===1)return this.where(d[0]).equals(f[d[0]]);var y=this.schema.indexes.concat(this.schema.primKey).filter(function(L){if(L.compound&&d.every(function(K){return 0<=L.keyPath.indexOf(K)})){for(var F=0;F<d.length;++F)if(d.indexOf(L.keyPath[F])===-1)return!1;return!0}return!1}).sort(function(L,F){return L.keyPath.length-F.keyPath.length})[0];if(y&&this.db._maxKey!==An){var R=y.keyPath.slice(0,d.length);return this.where(R).equals(R.map(function(F){return f[F]}))}!y&&wn&&console.warn("The query ".concat(JSON.stringify(f)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(d.join("+"),"]"));var E=this.schema.idxByName;function S(L,F){return mt(L,F)===0}var I=d.reduce(function(B,F){var K=B[0],J=B[1],B=E[F],te=f[F];return[K||B,K||!B?ta(J,B&&B.multi?function(G){return G=Ge(G,F),_(G)&&G.some(function(X){return S(te,X)})}:function(G){return S(te,Ge(G,F))}):J]},[null,null]),R=I[0],I=I[1];return R?this.where(R.name).equals(f[R.keyPath]).filter(I):y?this.filter(I):this.where(d).equals("")},xt.prototype.filter=function(f){return this.toCollection().and(f)},xt.prototype.count=function(f){return this.toCollection().count(f)},xt.prototype.offset=function(f){return this.toCollection().offset(f)},xt.prototype.limit=function(f){return this.toCollection().limit(f)},xt.prototype.each=function(f){return this.toCollection().each(f)},xt.prototype.toArray=function(f){return this.toCollection().toArray(f)},xt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},xt.prototype.orderBy=function(f){return new this.db.Collection(new this.db.WhereClause(this,_(f)?"[".concat(f.join("+"),"]"):f))},xt.prototype.reverse=function(){return this.toCollection().reverse()},xt.prototype.mapToClass=function(f){var d,y=this.db,E=this.name;function S(){return d!==null&&d.apply(this,arguments)||this}(this.schema.mappedClass=f).prototype instanceof no&&((function(F,K){if(typeof K!="function"&&K!==null)throw new TypeError("Class extends value "+String(K)+" is not a constructor or null");function J(){this.constructor=F}r(F,K),F.prototype=K===null?Object.create(K):(J.prototype=K.prototype,new J)})(S,d=f),Object.defineProperty(S.prototype,"db",{get:function(){return y},enumerable:!1,configurable:!0}),S.prototype.table=function(){return E},f=S);for(var R=new Set,I=f.prototype;I;I=v(I))Object.getOwnPropertyNames(I).forEach(function(F){return R.add(F)});function L(F){if(!F)return F;var K,J=Object.create(f.prototype);for(K in F)if(!R.has(K))try{J[K]=F[K]}catch{}return J}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=L,this.hook("reading",L),f},xt.prototype.defineClass=function(){return this.mapToClass(function(f){b(this,f)})},xt.prototype.add=function(f,d){var y=this,E=this.schema.primKey,S=E.auto,R=E.keyPath,I=f;return R&&S&&(I=si(R)(f)),this._trans("readwrite",function(L){return y.core.mutate({trans:L,type:"add",keys:d!=null?[d]:null,values:[I]})}).then(function(L){return L.numFailures?ke.reject(L.failures[0]):L.lastResult}).then(function(L){if(R)try{k(f,R,L)}catch{}return L})},xt.prototype.upsert=function(f,d){var y=this,E=this.schema.primKey.keyPath;return this._trans("readwrite",function(S){return y.core.get({trans:S,key:f}).then(function(R){var I=R??{};return Vt(I,d),E&&k(I,E,f),y.core.mutate({trans:S,type:"put",values:[I],keys:[f],upsert:!0,updates:{keys:[f],changeSpecs:[d]}}).then(function(L){return L.numFailures?ke.reject(L.failures[0]):!!R})})})},xt.prototype.update=function(f,d){return typeof f!="object"||_(f)?this.where(":id").equals(f).modify(d):(f=Ge(f,this.schema.primKey.keyPath),f===void 0?It(new Oe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(f).modify(d))},xt.prototype.put=function(f,d){var y=this,E=this.schema.primKey,S=E.auto,R=E.keyPath,I=f;return R&&S&&(I=si(R)(f)),this._trans("readwrite",function(L){return y.core.mutate({trans:L,type:"put",values:[I],keys:d!=null?[d]:null})}).then(function(L){return L.numFailures?ke.reject(L.failures[0]):L.lastResult}).then(function(L){if(R)try{k(f,R,L)}catch{}return L})},xt.prototype.delete=function(f){var d=this;return this._trans("readwrite",function(y){return d.core.mutate({trans:y,type:"delete",keys:[f]}).then(function(E){return gn(d,[f],E)}).then(function(E){return E.numFailures?ke.reject(E.failures[0]):void 0})})},xt.prototype.clear=function(){var f=this;return this._trans("readwrite",function(d){return f.core.mutate({trans:d,type:"deleteRange",range:as}).then(function(y){return gn(f,null,y)})}).then(function(d){return d.numFailures?ke.reject(d.failures[0]):void 0})},xt.prototype.bulkGet=function(f){var d=this;return this._trans("readonly",function(y){return d.core.getMany({keys:f,trans:y}).then(function(E){return E.map(function(S){return d.hook.reading.fire(S)})})})},xt.prototype.bulkAdd=function(f,d,y){var E=this,S=Array.isArray(d)?d:void 0,R=(y=y||(S?void 0:d))?y.allKeys:void 0;return this._trans("readwrite",function(I){var K=E.schema.primKey,L=K.auto,K=K.keyPath;if(K&&S)throw new Oe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(S&&S.length!==f.length)throw new Oe.InvalidArgument("Arguments objects and keys must have the same length");var F=f.length,K=K&&L?f.map(si(K)):f;return E.core.mutate({trans:I,type:"add",keys:S,values:K,wantResults:R}).then(function(X){var B=X.numFailures,te=X.results,G=X.lastResult,X=X.failures;if(B===0)return R?te:G;throw new $e("".concat(E.name,".bulkAdd(): ").concat(B," of ").concat(F," operations failed"),X)})})},xt.prototype.bulkPut=function(f,d,y){var E=this,S=Array.isArray(d)?d:void 0,R=(y=y||(S?void 0:d))?y.allKeys:void 0;return this._trans("readwrite",function(I){var K=E.schema.primKey,L=K.auto,K=K.keyPath;if(K&&S)throw new Oe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(S&&S.length!==f.length)throw new Oe.InvalidArgument("Arguments objects and keys must have the same length");var F=f.length,K=K&&L?f.map(si(K)):f;return E.core.mutate({trans:I,type:"put",keys:S,values:K,wantResults:R}).then(function(X){var B=X.numFailures,te=X.results,G=X.lastResult,X=X.failures;if(B===0)return R?te:G;throw new $e("".concat(E.name,".bulkPut(): ").concat(B," of ").concat(F," operations failed"),X)})})},xt.prototype.bulkUpdate=function(f){var d=this,y=this.core,E=f.map(function(I){return I.key}),S=f.map(function(I){return I.changes}),R=[];return this._trans("readwrite",function(I){return y.getMany({trans:I,keys:E,cache:"clone"}).then(function(L){var F=[],K=[];f.forEach(function(B,te){var G=B.key,X=B.changes,Z=L[te];if(Z){for(var W=0,se=Object.keys(X);W<se.length;W++){var he=se[W],ye=X[he];if(he===d.schema.primKey.keyPath){if(mt(ye,G)!==0)throw new Oe.Constraint("Cannot update primary key in bulkUpdate()")}else k(Z,he,ye)}R.push(te),F.push(G),K.push(Z)}});var J=F.length;return y.mutate({trans:I,type:"put",keys:F,values:K,updates:{keys:E,changeSpecs:S}}).then(function(B){var te=B.numFailures,G=B.failures;if(te===0)return J;for(var X=0,Z=Object.keys(G);X<Z.length;X++){var W,se=Z[X],he=R[Number(se)];he!=null&&(W=G[se],delete G[se],G[he]=W)}throw new $e("".concat(d.name,".bulkUpdate(): ").concat(te," of ").concat(J," operations failed"),G)})})})},xt.prototype.bulkDelete=function(f){var d=this,y=f.length;return this._trans("readwrite",function(E){return d.core.mutate({trans:E,type:"delete",keys:f}).then(function(S){return gn(d,f,S)})}).then(function(I){var S=I.numFailures,R=I.lastResult,I=I.failures;if(S===0)return R;throw new $e("".concat(d.name,".bulkDelete(): ").concat(S," of ").concat(y," operations failed"),I)})},xt);function xt(){}function na(f){function d(I,L){if(L){for(var F=arguments.length,K=new Array(F-1);--F;)K[F-1]=arguments[F];return y[I].subscribe.apply(null,K),f}if(typeof I=="string")return y[I]}var y={};d.addEventType=R;for(var E=1,S=arguments.length;E<S;++E)R(arguments[E]);return d;function R(I,L,F){if(typeof I!="object"){var K;L=L||Nt;var J={subscribers:[],fire:F=F||Qe,subscribe:function(B){J.subscribers.indexOf(B)===-1&&(J.subscribers.push(B),J.fire=L(J.fire,B))},unsubscribe:function(B){J.subscribers=J.subscribers.filter(function(te){return te!==B}),J.fire=J.subscribers.reduce(L,F)}};return y[I]=d[I]=J}p(K=I).forEach(function(B){var te=K[B];if(_(te))R(B,K[B][0],K[B][1]);else{if(te!=="asap")throw new Oe.InvalidArgument("Invalid event config");var G=R(B,Je,function(){for(var X=arguments.length,Z=new Array(X);X--;)Z[X]=arguments[X];G.subscribers.forEach(function(W){Ke(function(){W.apply(null,Z)})})})}})}}function Vn(f,d){return oe(d).from({prototype:f}),d}function ra(f,d){return!(f.filter||f.algorithm||f.or)&&(d?f.justLimit:!f.replayFilter)}function ss(f,d){f.filter=ta(f.filter,d)}function Ni(f,d,y){var E=f.replayFilter;f.replayFilter=E?function(){return ta(E(),d())}:d,f.justLimit=y&&!E}function aa(f,d){if(f.isPrimKey)return d.primaryKey;var y=d.getIndexByKeyPath(f.index);if(!y)throw new Oe.Schema("KeyPath "+f.index+" on object store "+d.name+" is not indexed");return y}function ro(f,d,y){var E=aa(f,d.schema);return d.openCursor({trans:y,values:!f.keysOnly,reverse:f.dir==="prev",unique:!!f.unique,query:{index:E,range:f.range}})}function ia(f,d,y,E){var S=f.replayFilter?ta(f.filter,f.replayFilter()):f.filter;if(f.or){var R={},I=function(L,F,K){var J,B;S&&!S(F,K,function(te){return F.stop(te)},function(te){return F.fail(te)})||((B=""+(J=F.primaryKey))=="[object ArrayBuffer]"&&(B=""+new Uint8Array(J)),N(R,B)||(R[B]=!0,d(L,F,K)))};return Promise.all([f.or._iterate(I,y),ir(ro(f,E,y),f.algorithm,I,!f.keysOnly&&f.valueMapper)])}return ir(ro(f,E,y),ta(f.algorithm,S),d,!f.keysOnly&&f.valueMapper)}function ir(f,d,y,E){var S=Ut(E?function(R,I,L){return y(E(R),I,L)}:y);return f.then(function(R){if(R)return R.start(function(){var I=function(){return R.continue()};d&&!d(R,function(L){return I=L},function(L){R.stop(L),I=Qe},function(L){R.fail(L),I=Qe})||S(R.value,R,function(L){return I=L}),I()})})}var zo=(bt.prototype._read=function(f,d){var y=this._ctx;return y.error?y.table._trans(null,It.bind(null,y.error)):y.table._trans("readonly",f).then(d)},bt.prototype._write=function(f){var d=this._ctx;return d.error?d.table._trans(null,It.bind(null,d.error)):d.table._trans("readwrite",f,"locked")},bt.prototype._addAlgorithm=function(f){var d=this._ctx;d.algorithm=ta(d.algorithm,f)},bt.prototype._iterate=function(f,d){return ia(this._ctx,f,d,this._ctx.table.core)},bt.prototype.clone=function(f){var d=Object.create(this.constructor.prototype),y=Object.create(this._ctx);return f&&b(y,f),d._ctx=y,d},bt.prototype.raw=function(){return this._ctx.valueMapper=null,this},bt.prototype.each=function(f){var d=this._ctx;return this._read(function(y){return ia(d,f,y,d.table.core)})},bt.prototype.count=function(f){var d=this;return this._read(function(y){var E=d._ctx,S=E.table.core;if(ra(E,!0))return S.count({trans:y,query:{index:aa(E,S.schema),range:E.range}}).then(function(I){return Math.min(I,E.limit)});var R=0;return ia(E,function(){return++R,!1},y,S).then(function(){return R})}).then(f)},bt.prototype.sortBy=function(f,d){var y=f.split(".").reverse(),E=y[0],S=y.length-1;function R(F,K){return K?R(F[y[K]],K-1):F[E]}var I=this._ctx.dir==="next"?1:-1;function L(F,K){return mt(R(F,S),R(K,S))*I}return this.toArray(function(F){return F.sort(L)}).then(d)},bt.prototype.toArray=function(f){var d=this;return this._read(function(y){var E=d._ctx;if(E.dir==="next"&&ra(E,!0)&&0<E.limit){var S=E.valueMapper,R=aa(E,E.table.core.schema);return E.table.core.query({trans:y,limit:E.limit,values:!0,query:{index:R,range:E.range}}).then(function(L){return L=L.result,S?L.map(S):L})}var I=[];return ia(E,function(L){return I.push(L)},y,E.table.core).then(function(){return I})},f)},bt.prototype.offset=function(f){var d=this._ctx;return f<=0||(d.offset+=f,ra(d)?Ni(d,function(){var y=f;return function(E,S){return y===0||(y===1?--y:S(function(){E.advance(y),y=0}),!1)}}):Ni(d,function(){var y=f;return function(){return--y<0}})),this},bt.prototype.limit=function(f){return this._ctx.limit=Math.min(this._ctx.limit,f),Ni(this._ctx,function(){var d=f;return function(y,E,S){return--d<=0&&E(S),0<=d}},!0),this},bt.prototype.until=function(f,d){return ss(this._ctx,function(y,E,S){return!f(y.value)||(E(S),d)}),this},bt.prototype.first=function(f){return this.limit(1).toArray(function(d){return d[0]}).then(f)},bt.prototype.last=function(f){return this.reverse().first(f)},bt.prototype.filter=function(f){var d;return ss(this._ctx,function(y){return f(y.value)}),(d=this._ctx).isMatch=ta(d.isMatch,f),this},bt.prototype.and=function(f){return this.filter(f)},bt.prototype.or=function(f){return new this.db.WhereClause(this._ctx.table,f,this)},bt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},bt.prototype.desc=function(){return this.reverse()},bt.prototype.eachKey=function(f){var d=this._ctx;return d.keysOnly=!d.isMatch,this.each(function(y,E){f(E.key,E)})},bt.prototype.eachUniqueKey=function(f){return this._ctx.unique="unique",this.eachKey(f)},bt.prototype.eachPrimaryKey=function(f){var d=this._ctx;return d.keysOnly=!d.isMatch,this.each(function(y,E){f(E.primaryKey,E)})},bt.prototype.keys=function(f){var d=this._ctx;d.keysOnly=!d.isMatch;var y=[];return this.each(function(E,S){y.push(S.key)}).then(function(){return y}).then(f)},bt.prototype.primaryKeys=function(f){var d=this._ctx;if(d.dir==="next"&&ra(d,!0)&&0<d.limit)return this._read(function(E){var S=aa(d,d.table.core.schema);return d.table.core.query({trans:E,values:!1,limit:d.limit,query:{index:S,range:d.range}})}).then(function(E){return E.result}).then(f);d.keysOnly=!d.isMatch;var y=[];return this.each(function(E,S){y.push(S.primaryKey)}).then(function(){return y}).then(f)},bt.prototype.uniqueKeys=function(f){return this._ctx.unique="unique",this.keys(f)},bt.prototype.firstKey=function(f){return this.limit(1).keys(function(d){return d[0]}).then(f)},bt.prototype.lastKey=function(f){return this.reverse().firstKey(f)},bt.prototype.distinct=function(){var f=this._ctx,f=f.index&&f.table.schema.idxByName[f.index];if(!f||!f.multi)return this;var d={};return ss(this._ctx,function(S){var E=S.primaryKey.toString(),S=N(d,E);return d[E]=!0,!S}),this},bt.prototype.modify=function(f){var d=this,y=this._ctx;return this._write(function(E){var S=typeof f=="function"?f:function(Z){return Vt(Z,f)},R=y.table.core,K=R.schema.primaryKey,I=K.outbound,L=K.extractKey,F=200,K=d.db._options.modifyChunkSize;K&&(F=typeof K=="object"?K[R.name]||K["*"]||200:K);function J(Z,he){var se=he.failures,he=he.numFailures;te+=Z-he;for(var ye=0,xe=p(se);ye<xe.length;ye++){var Ie=xe[ye];B.push(se[Ie])}}var B=[],te=0,G=[],X=f===os;return d.clone().primaryKeys().then(function(Z){function W(he){var ye=Math.min(F,Z.length-he),xe=Z.slice(he,he+ye);return(X?Promise.resolve([]):R.getMany({trans:E,keys:xe,cache:"immutable"})).then(function(Ie){var Le=[],Ne=[],Ve=I?[]:null,Pe=X?xe:[];if(!X)for(var Ce=0;Ce<ye;++Ce){var Ue=Ie[Ce],We={value:V(Ue),primKey:Z[he+Ce]};S.call(We,We.value,We)!==!1&&(We.value==null?Pe.push(Z[he+Ce]):I||mt(L(Ue),L(We.value))===0?(Ne.push(We.value),I&&Ve.push(Z[he+Ce])):(Pe.push(Z[he+Ce]),Le.push(We.value)))}return Promise.resolve(0<Le.length&&R.mutate({trans:E,type:"add",values:Le}).then(function(lt){for(var pt in lt.failures)Pe.splice(parseInt(pt),1);J(Le.length,lt)})).then(function(){return(0<Ne.length||se&&typeof f=="object")&&R.mutate({trans:E,type:"put",keys:Ve,values:Ne,criteria:se,changeSpec:typeof f!="function"&&f,isAdditionalChunk:0<he}).then(function(lt){return J(Ne.length,lt)})}).then(function(){return(0<Pe.length||se&&X)&&R.mutate({trans:E,type:"delete",keys:Pe,criteria:se,isAdditionalChunk:0<he}).then(function(lt){return gn(y.table,Pe,lt)}).then(function(lt){return J(Pe.length,lt)})}).then(function(){return Z.length>he+ye&&W(he+F)})})}var se=ra(y)&&y.limit===1/0&&(typeof f!="function"||X)&&{index:y.index,range:y.range};return W(0).then(function(){if(0<B.length)throw new Be("Error modifying one or more objects",B,te,G);return Z.length})})})},bt.prototype.delete=function(){var f=this._ctx,d=f.range;return!ra(f)||f.table.schema.yProps||!f.isPrimKey&&d.type!==3?this.modify(os):this._write(function(y){var E=f.table.core.schema.primaryKey,S=d;return f.table.core.count({trans:y,query:{index:E,range:S}}).then(function(R){return f.table.core.mutate({trans:y,type:"deleteRange",range:S}).then(function(F){var L=F.failures,F=F.numFailures;if(F)throw new Be("Could not delete some values",Object.keys(L).map(function(K){return L[K]}),R-F);return R-F})})})},bt);function bt(){}var os=function(f,d){return d.value=null};function ls(f,d){return f<d?-1:f===d?0:1}function Uo(f,d){return d<f?-1:f===d?0:1}function bn(f,d,y){return f=f instanceof Fa?new f.Collection(f):f,f._ctx.error=new(y||TypeError)(d),f}function sa(f){return new f.Collection(f,function(){return xr("")}).limit(0)}function mr(f,d,y,E){var S,R,I,L,F,K,J,B=y.length;if(!y.every(function(X){return typeof X=="string"}))return bn(f,mn);function te(X){S=X==="next"?function(W){return W.toUpperCase()}:function(W){return W.toLowerCase()},R=X==="next"?function(W){return W.toLowerCase()}:function(W){return W.toUpperCase()},I=X==="next"?ls:Uo;var Z=y.map(function(W){return{lower:R(W),upper:S(W)}}).sort(function(W,se){return I(W.lower,se.lower)});L=Z.map(function(W){return W.upper}),F=Z.map(function(W){return W.lower}),J=(K=X)==="next"?"":E}te("next"),f=new f.Collection(f,function(){return Vr(L[0],F[B-1]+E)}),f._ondirectionchange=function(X){te(X)};var G=0;return f._addAlgorithm(function(X,Z,W){var se=X.key;if(typeof se!="string")return!1;var he=R(se);if(d(he,F,G))return!0;for(var ye=null,xe=G;xe<B;++xe){var Ie=(function(Le,Ne,Ve,Pe,Ce,Ue){for(var We=Math.min(Le.length,Pe.length),lt=-1,pt=0;pt<We;++pt){var Wn=Ne[pt];if(Wn!==Pe[pt])return Ce(Le[pt],Ve[pt])<0?Le.substr(0,pt)+Ve[pt]+Ve.substr(pt+1):Ce(Le[pt],Pe[pt])<0?Le.substr(0,pt)+Pe[pt]+Ve.substr(pt+1):0<=lt?Le.substr(0,lt)+Ne[lt]+Ve.substr(lt+1):null;Ce(Le[pt],Wn)<0&&(lt=pt)}return We<Pe.length&&Ue==="next"?Le+Ve.substr(Le.length):We<Le.length&&Ue==="prev"?Le.substr(0,Ve.length):lt<0?null:Le.substr(0,lt)+Pe[lt]+Ve.substr(lt+1)})(se,he,L[xe],F[xe],I,K);Ie===null&&ye===null?G=xe+1:(ye===null||0<I(ye,Ie))&&(ye=Ie)}return Z(ye!==null?function(){X.continue(ye+J)}:W),!1}),f}function Vr(f,d,y,E){return{type:2,lower:f,upper:d,lowerOpen:y,upperOpen:E}}function xr(f){return{type:1,lower:f,upper:f}}var Fa=(Object.defineProperty(Kt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Kt.prototype.between=function(f,d,y,E){y=y!==!1,E=E===!0;try{return 0<this._cmp(f,d)||this._cmp(f,d)===0&&(y||E)&&(!y||!E)?sa(this):new this.Collection(this,function(){return Vr(f,d,!y,!E)})}catch{return bn(this,Mn)}},Kt.prototype.equals=function(f){return f==null?bn(this,Mn):new this.Collection(this,function(){return xr(f)})},Kt.prototype.above=function(f){return f==null?bn(this,Mn):new this.Collection(this,function(){return Vr(f,void 0,!0)})},Kt.prototype.aboveOrEqual=function(f){return f==null?bn(this,Mn):new this.Collection(this,function(){return Vr(f,void 0,!1)})},Kt.prototype.below=function(f){return f==null?bn(this,Mn):new this.Collection(this,function(){return Vr(void 0,f,!1,!0)})},Kt.prototype.belowOrEqual=function(f){return f==null?bn(this,Mn):new this.Collection(this,function(){return Vr(void 0,f)})},Kt.prototype.startsWith=function(f){return typeof f!="string"?bn(this,mn):this.between(f,f+An,!0,!0)},Kt.prototype.startsWithIgnoreCase=function(f){return f===""?this.startsWith(f):mr(this,function(d,y){return d.indexOf(y[0])===0},[f],An)},Kt.prototype.equalsIgnoreCase=function(f){return mr(this,function(d,y){return d===y[0]},[f],"")},Kt.prototype.anyOfIgnoreCase=function(){var f=tt.apply(it,arguments);return f.length===0?sa(this):mr(this,function(d,y){return y.indexOf(d)!==-1},f,"")},Kt.prototype.startsWithAnyOfIgnoreCase=function(){var f=tt.apply(it,arguments);return f.length===0?sa(this):mr(this,function(d,y){return y.some(function(E){return d.indexOf(E)===0})},f,An)},Kt.prototype.anyOf=function(){var f=this,d=tt.apply(it,arguments),y=this._cmp;try{d.sort(y)}catch{return bn(this,Mn)}if(d.length===0)return sa(this);var E=new this.Collection(this,function(){return Vr(d[0],d[d.length-1])});E._ondirectionchange=function(R){y=R==="next"?f._ascending:f._descending,d.sort(y)};var S=0;return E._addAlgorithm(function(R,I,L){for(var F=R.key;0<y(F,d[S]);)if(++S===d.length)return I(L),!1;return y(F,d[S])===0||(I(function(){R.continue(d[S])}),!1)}),E},Kt.prototype.notEqual=function(f){return this.inAnyRange([[-1/0,f],[f,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Kt.prototype.noneOf=function(){var f=tt.apply(it,arguments);if(f.length===0)return new this.Collection(this);try{f.sort(this._ascending)}catch{return bn(this,Mn)}var d=f.reduce(function(y,E){return y?y.concat([[y[y.length-1][1],E]]):[[-1/0,E]]},null);return d.push([f[f.length-1],this.db._maxKey]),this.inAnyRange(d,{includeLowers:!1,includeUppers:!1})},Kt.prototype.inAnyRange=function(se,d){var y=this,E=this._cmp,S=this._ascending,R=this._descending,I=this._min,L=this._max;if(se.length===0)return sa(this);if(!se.every(function(he){return he[0]!==void 0&&he[1]!==void 0&&S(he[0],he[1])<=0}))return bn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Oe.InvalidArgument);var F=!d||d.includeLowers!==!1,K=d&&d.includeUppers===!0,J,B=S;function te(he,ye){return B(he[0],ye[0])}try{(J=se.reduce(function(he,ye){for(var xe=0,Ie=he.length;xe<Ie;++xe){var Le=he[xe];if(E(ye[0],Le[1])<0&&0<E(ye[1],Le[0])){Le[0]=I(Le[0],ye[0]),Le[1]=L(Le[1],ye[1]);break}}return xe===Ie&&he.push(ye),he},[])).sort(te)}catch{return bn(this,Mn)}var G=0,X=K?function(he){return 0<S(he,J[G][1])}:function(he){return 0<=S(he,J[G][1])},Z=F?function(he){return 0<R(he,J[G][0])}:function(he){return 0<=R(he,J[G][0])},W=X,se=new this.Collection(this,function(){return Vr(J[0][0],J[J.length-1][1],!F,!K)});return se._ondirectionchange=function(he){B=he==="next"?(W=X,S):(W=Z,R),J.sort(te)},se._addAlgorithm(function(he,ye,xe){for(var Ie,Le=he.key;W(Le);)if(++G===J.length)return ye(xe),!1;return!X(Ie=Le)&&!Z(Ie)||(y._cmp(Le,J[G][1])===0||y._cmp(Le,J[G][0])===0||ye(function(){B===S?he.continue(J[G][0]):he.continue(J[G][1])}),!1)}),se},Kt.prototype.startsWithAnyOf=function(){var f=tt.apply(it,arguments);return f.every(function(d){return typeof d=="string"})?f.length===0?sa(this):this.inAnyRange(f.map(function(d){return[d,d+An]})):bn(this,"startsWithAnyOf() only works with strings")},Kt);function Kt(){}function Zn(f){return Ut(function(d){return Ea(d),f(d.target.error),!1})}function Ea(f){f.stopPropagation&&f.stopPropagation(),f.preventDefault&&f.preventDefault()}var kr="storagemutated",Er="x-storagemutated-1",Rn=na(null,kr),Ci=(_t.prototype._lock=function(){return De(!ze.global),++this._reculock,this._reculock!==1||ze.global||(ze.lockOwnerFor=this),this},_t.prototype._unlock=function(){if(De(!ze.global),--this._reculock==0)for(ze.global||(ze.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var f=this._blockedFuncs.shift();try{$n(f[1],f[0])}catch{}}return this},_t.prototype._locked=function(){return this._reculock&&ze.lockOwnerFor!==this},_t.prototype.create=function(f){var d=this;if(!this.mode)return this;var y=this.db.idbdb,E=this.db._state.dbOpenError;if(De(!this.idbtrans),!f&&!y)switch(E&&E.name){case"DatabaseClosedError":throw new Oe.DatabaseClosed(E);case"MissingAPIError":throw new Oe.MissingAPI(E.message,E);default:throw new Oe.OpenFailed(E)}if(!this.active)throw new Oe.TransactionInactive;return De(this._completion._state===null),(f=this.idbtrans=f||(this.db.core||y).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ut(function(S){Ea(S),d._reject(f.error)}),f.onabort=Ut(function(S){Ea(S),d.active&&d._reject(new Oe.Abort(f.error)),d.active=!1,d.on("abort").fire(S)}),f.oncomplete=Ut(function(){d.active=!1,d._resolve(),"mutatedParts"in f&&Rn.storagemutated.fire(f.mutatedParts)}),this},_t.prototype._promise=function(f,d,y){var E=this;if(f==="readwrite"&&this.mode!=="readwrite")return It(new Oe.ReadOnly("Transaction is readonly"));if(!this.active)return It(new Oe.TransactionInactive);if(this._locked())return new ke(function(R,I){E._blockedFuncs.push([function(){E._promise(f,d,y).then(R,I)},ze])});if(y)return Ht(function(){var R=new ke(function(I,L){E._lock();var F=d(I,L,E);F&&F.then&&F.then(I,L)});return R.finally(function(){return E._unlock()}),R._lib=!0,R});var S=new ke(function(R,I){var L=d(R,I,E);L&&L.then&&L.then(R,I)});return S._lib=!0,S},_t.prototype._root=function(){return this.parent?this.parent._root():this},_t.prototype.waitFor=function(f){var d,y=this._root(),E=ke.resolve(f);y._waitingFor?y._waitingFor=y._waitingFor.then(function(){return E}):(y._waitingFor=E,y._waitingQueue=[],d=y.idbtrans.objectStore(y.storeNames[0]),(function R(){for(++y._spinCount;y._waitingQueue.length;)y._waitingQueue.shift()();y._waitingFor&&(d.get(-1/0).onsuccess=R)})());var S=y._waitingFor;return new ke(function(R,I){E.then(function(L){return y._waitingQueue.push(Ut(R.bind(null,L)))},function(L){return y._waitingQueue.push(Ut(I.bind(null,L)))}).finally(function(){y._waitingFor===S&&(y._waitingFor=null)})})},_t.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Oe.Abort))},_t.prototype.table=function(f){var d=this._memoizedTables||(this._memoizedTables={});if(N(d,f))return d[f];var y=this.schema[f];if(!y)throw new Oe.NotFound("Table "+f+" not part of transaction");return y=new this.db.Table(f,y,this),y.core=this.db.core.table(f),d[f]=y},_t);function _t(){}function Pr(f,d,y,E,S,R,I,L){return{name:f,keyPath:d,unique:y,multi:E,auto:S,compound:R,src:(y&&!I?"&":"")+(E?"*":"")+(S?"++":"")+us(d),type:L}}function us(f){return typeof f=="string"?f:f?"["+[].join.call(f,"+")+"]":""}function Ha(f,d,y){return{name:f,primKey:d,indexes:y,mappedClass:null,idxByName:(E=function(S){return[S.name,S]},y.reduce(function(S,R,I){return I=E(R,I),I&&(S[I[0]]=I[1]),S},{}))};var E}var Ka=function(f){try{return f.only([[]]),Ka=function(){return[[]]},[[]]}catch{return Ka=function(){return An},An}};function Ga(f){return f==null?function(){}:typeof f=="string"?(d=f).split(".").length===1?function(y){return y[d]}:function(y){return Ge(y,d)}:function(y){return Ge(y,f)};var d}function wa(f){return[].slice.call(f)}var oa=0;function yn(f){return f==null?":id":typeof f=="string"?f:"[".concat(f.join("+"),"]")}function Qa(f,d,F){function E(W){if(W.type===3)return null;if(W.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var G=W.lower,X=W.upper,Z=W.lowerOpen,W=W.upperOpen;return G===void 0?X===void 0?null:d.upperBound(X,!!W):X===void 0?d.lowerBound(G,!!Z):d.bound(G,X,!!Z,!!W)}function S(te){var G,X=te.name;return{name:X,schema:te,mutate:function(Z){var W=Z.trans,se=Z.type,he=Z.keys,ye=Z.values,xe=Z.range;return new Promise(function(Ie,Le){Ie=Ut(Ie);var Ne=W.objectStore(X),Ve=Ne.keyPath==null,Pe=se==="put"||se==="add";if(!Pe&&se!=="delete"&&se!=="deleteRange")throw new Error("Invalid operation type: "+se);var Ce,Ue=(he||ye||{length:1}).length;if(he&&ye&&he.length!==ye.length)throw new Error("Given keys array must have same length as given values array.");if(Ue===0)return Ie({numFailures:0,failures:{},results:[],lastResult:void 0});function We(Pn){++Wn,Ea(Pn)}var lt=[],pt=[],Wn=0;if(se==="deleteRange"){if(xe.type===4)return Ie({numFailures:Wn,failures:pt,results:[],lastResult:void 0});xe.type===3?lt.push(Ce=Ne.clear()):lt.push(Ce=Ne.delete(E(xe)))}else{var Ve=Pe?Ve?[ye,he]:[ye,null]:[he,null],ot=Ve[0],kn=Ve[1];if(Pe)for(var un=0;un<Ue;++un)lt.push(Ce=kn&&kn[un]!==void 0?Ne[se](ot[un],kn[un]):Ne[se](ot[un])),Ce.onerror=We;else for(un=0;un<Ue;++un)lt.push(Ce=Ne[se](ot[un])),Ce.onerror=We}function uo(Pn){Pn=Pn.target.result,lt.forEach(function(qr,Fl){return qr.error!=null&&(pt[Fl]=qr.error)}),Ie({numFailures:Wn,failures:pt,results:se==="delete"?he:lt.map(function(qr){return qr.result}),lastResult:Pn})}Ce.onerror=function(Pn){We(Pn),uo(Pn)},Ce.onsuccess=uo})},getMany:function(Z){var W=Z.trans,se=Z.keys;return new Promise(function(he,ye){he=Ut(he);for(var xe,Ie=W.objectStore(X),Le=se.length,Ne=new Array(Le),Ve=0,Pe=0,Ce=function(lt){lt=lt.target,Ne[lt._pos]=lt.result,++Pe===Ve&&he(Ne)},Ue=Zn(ye),We=0;We<Le;++We)se[We]!=null&&((xe=Ie.get(se[We]))._pos=We,xe.onsuccess=Ce,xe.onerror=Ue,++Ve);Ve===0&&he(Ne)})},get:function(Z){var W=Z.trans,se=Z.key;return new Promise(function(he,ye){he=Ut(he);var xe=W.objectStore(X).get(se);xe.onsuccess=function(Ie){return he(Ie.target.result)},xe.onerror=Zn(ye)})},query:(G=K,function(Z){return new Promise(function(W,se){W=Ut(W);var he,ye,xe,Ve=Z.trans,Ie=Z.values,Le=Z.limit,Ce=Z.query,Ne=Le===1/0?void 0:Le,Pe=Ce.index,Ce=Ce.range,Ve=Ve.objectStore(X),Pe=Pe.isPrimaryKey?Ve:Ve.index(Pe.name),Ce=E(Ce);if(Le===0)return W({result:[]});G?((Ne=Ie?Pe.getAll(Ce,Ne):Pe.getAllKeys(Ce,Ne)).onsuccess=function(Ue){return W({result:Ue.target.result})},Ne.onerror=Zn(se)):(he=0,ye=!Ie&&"openKeyCursor"in Pe?Pe.openKeyCursor(Ce):Pe.openCursor(Ce),xe=[],ye.onsuccess=function(Ue){var We=ye.result;return We?(xe.push(Ie?We.value:We.primaryKey),++he===Le?W({result:xe}):void We.continue()):W({result:xe})},ye.onerror=Zn(se))})}),openCursor:function(Z){var W=Z.trans,se=Z.values,he=Z.query,ye=Z.reverse,xe=Z.unique;return new Promise(function(Ie,Le){Ie=Ut(Ie);var Pe=he.index,Ne=he.range,Ve=W.objectStore(X),Ve=Pe.isPrimaryKey?Ve:Ve.index(Pe.name),Pe=ye?xe?"prevunique":"prev":xe?"nextunique":"next",Ce=!se&&"openKeyCursor"in Ve?Ve.openKeyCursor(E(Ne),Pe):Ve.openCursor(E(Ne),Pe);Ce.onerror=Zn(Le),Ce.onsuccess=Ut(function(Ue){var We,lt,pt,Wn,ot=Ce.result;ot?(ot.___id=++oa,ot.done=!1,We=ot.continue.bind(ot),lt=(lt=ot.continuePrimaryKey)&&lt.bind(ot),pt=ot.advance.bind(ot),Wn=function(){throw new Error("Cursor not stopped")},ot.trans=W,ot.stop=ot.continue=ot.continuePrimaryKey=ot.advance=function(){throw new Error("Cursor not started")},ot.fail=Ut(Le),ot.next=function(){var kn=this,un=1;return this.start(function(){return un--?kn.continue():kn.stop()}).then(function(){return kn})},ot.start=function(kn){function un(){if(Ce.result)try{kn()}catch(Pn){ot.fail(Pn)}else ot.done=!0,ot.start=function(){throw new Error("Cursor behind last entry")},ot.stop()}var uo=new Promise(function(Pn,qr){Pn=Ut(Pn),Ce.onerror=Zn(qr),ot.fail=qr,ot.stop=function(Fl){ot.stop=ot.continue=ot.continuePrimaryKey=ot.advance=Wn,Pn(Fl)}});return Ce.onsuccess=Ut(function(Pn){Ce.onsuccess=un,un()}),ot.continue=We,ot.continuePrimaryKey=lt,ot.advance=pt,un(),uo},Ie(ot)):Ie(null)},Le)})},count:function(Z){var W=Z.query,se=Z.trans,he=W.index,ye=W.range;return new Promise(function(xe,Ie){var Le=se.objectStore(X),Ne=he.isPrimaryKey?Le:Le.index(he.name),Le=E(ye),Ne=Le?Ne.count(Le):Ne.count();Ne.onsuccess=Ut(function(Ve){return xe(Ve.target.result)}),Ne.onerror=Zn(Ie)})}}}var R,I,L,J=(I=F,L=wa((R=f).objectStoreNames),{schema:{name:R.name,tables:L.map(function(te){return I.objectStore(te)}).map(function(te){var G=te.keyPath,W=te.autoIncrement,X=_(G),Z={},W={name:te.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:G==null,compound:X,keyPath:G,autoIncrement:W,unique:!0,extractKey:Ga(G)},indexes:wa(te.indexNames).map(function(se){return te.index(se)}).map(function(xe){var he=xe.name,ye=xe.unique,Ie=xe.multiEntry,xe=xe.keyPath,Ie={name:he,compound:_(xe),keyPath:xe,unique:ye,multiEntry:Ie,extractKey:Ga(xe)};return Z[yn(xe)]=Ie}),getIndexByKeyPath:function(se){return Z[yn(se)]}};return Z[":id"]=W.primaryKey,G!=null&&(Z[yn(G)]=W.primaryKey),W})},hasGetAll:0<L.length&&"getAll"in I.objectStore(L[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),F=J.schema,K=J.hasGetAll,J=F.tables.map(S),B={};return J.forEach(function(te){return B[te.name]=te}),{stack:"dbcore",transaction:f.transaction.bind(f),table:function(te){if(!B[te])throw new Error("Table '".concat(te,"' not found"));return B[te]},MIN_KEY:-1/0,MAX_KEY:Ka(d),schema:F}}function Ta(f,d,y,E){var S=y.IDBKeyRange;return y.indexedDB,{dbcore:(E=Qa(d,S,E),f.dbcore.reduce(function(R,I){return I=I.create,s(s({},R),I(R))},E))}}function la(f,E){var y=E.db,E=Ta(f._middlewares,y,f._deps,E);f.core=E.dbcore,f.tables.forEach(function(S){var R=S.name;f.core.schema.tables.some(function(I){return I.name===R})&&(S.core=f.core.table(R),f[R]instanceof f.Table&&(f[R].core=S.core))})}function li(f,d,y,E){y.forEach(function(S){var R=E[S];d.forEach(function(I){var L=(function F(K,J){return ee(K,J)||(K=v(K))&&F(K,J)})(I,S);(!L||"value"in L&&L.value===void 0)&&(I===f.Transaction.prototype||I instanceof f.Transaction?le(I,S,{get:function(){return this.table(S)},set:function(F){H(this,S,{value:F,writable:!0,configurable:!0,enumerable:!0})}}):I[S]=new f.Table(S,R))})})}function Sa(f,d){d.forEach(function(y){for(var E in y)y[E]instanceof f.Table&&delete y[E]})}function cs(f,d){return f._cfg.version-d._cfg.version}function Aa(f,d,y,E){var S=f._dbSchema;y.objectStoreNames.contains("$meta")&&!S.$meta&&(S.$meta=Ha("$meta",io("")[0],[]),f._storeNames.push("$meta"));var R=f._createTransaction("readwrite",f._storeNames,S);R.create(y),R._completion.catch(E);var I=R._reject.bind(R),L=ze.transless||ze;Ht(function(){return ze.trans=R,ze.transless=L,d!==0?(la(f,y),K=d,((F=R).storeNames.includes("$meta")?F.table("$meta").get("version").then(function(J){return J??K}):ke.resolve(K)).then(function(J){return te=J,G=R,X=y,Z=[],J=(B=f)._versions,W=B._dbSchema=Ra(0,B.idbdb,X),(J=J.filter(function(se){return se._cfg.version>=te})).length!==0?(J.forEach(function(se){Z.push(function(){var he=W,ye=se._cfg.dbschema;ui(B,he,X),ui(B,ye,X),W=B._dbSchema=ye;var xe=Di(he,ye);xe.add.forEach(function(Pe){Ya(X,Pe[0],Pe[1].primKey,Pe[1].indexes)}),xe.change.forEach(function(Pe){if(Pe.recreate)throw new Oe.Upgrade("Not yet support for changing primary key");var Ce=X.objectStore(Pe.name);Pe.add.forEach(function(Ue){return Ii(Ce,Ue)}),Pe.change.forEach(function(Ue){Ce.deleteIndex(Ue.name),Ii(Ce,Ue)}),Pe.del.forEach(function(Ue){return Ce.deleteIndex(Ue)})});var Ie=se._cfg.contentUpgrade;if(Ie&&se._cfg.version>te){la(B,X),G._memoizedTables={};var Le=M(ye);xe.del.forEach(function(Pe){Le[Pe]=he[Pe]}),Sa(B,[B.Transaction.prototype]),li(B,[B.Transaction.prototype],p(Le),Le),G.schema=Le;var Ne,Ve=q(Ie);return Ve&&nn(),xe=ke.follow(function(){var Pe;(Ne=Ie(G))&&Ve&&(Pe=Kn.bind(null,null),Ne.then(Pe,Pe))}),Ne&&typeof Ne.then=="function"?ke.resolve(Ne):xe.then(function(){return Ne})}}),Z.push(function(he){var ye,xe,Ie=se._cfg.dbschema;ye=Ie,xe=he,[].slice.call(xe.db.objectStoreNames).forEach(function(Le){return ye[Le]==null&&xe.db.deleteObjectStore(Le)}),Sa(B,[B.Transaction.prototype]),li(B,[B.Transaction.prototype],B._storeNames,B._dbSchema),G.schema=B._dbSchema}),Z.push(function(he){B.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(B.idbdb.version/10)===se._cfg.version?(B.idbdb.deleteObjectStore("$meta"),delete B._dbSchema.$meta,B._storeNames=B._storeNames.filter(function(ye){return ye!=="$meta"})):he.objectStore("$meta").put(se._cfg.version,"version"))})}),(function se(){return Z.length?ke.resolve(Z.shift()(G.idbtrans)).then(se):ke.resolve()})().then(function(){ao(W,X)})):ke.resolve();var B,te,G,X,Z,W}).catch(I)):(p(S).forEach(function(J){Ya(y,J,S[J].primKey,S[J].indexes)}),la(f,y),void ke.follow(function(){return f.on.populate.fire(R)}).catch(I));var F,K})}function fs(f,d){ao(f._dbSchema,d),d.db.version%10!=0||d.objectStoreNames.contains("$meta")||d.db.createObjectStore("$meta").add(Math.ceil(d.db.version/10-1),"version");var y=Ra(0,f.idbdb,d);ui(f,f._dbSchema,d);for(var E=0,S=Di(y,f._dbSchema).change;E<S.length;E++){var R=(function(I){if(I.change.length||I.recreate)return console.warn("Unable to patch indexes of table ".concat(I.name," because it has changes on the type of index or primary key.")),{value:void 0};var L=d.objectStore(I.name);I.add.forEach(function(F){wn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(I.name,".").concat(F.src)),Ii(L,F)})})(S[E]);if(typeof R=="object")return R.value}}function Di(f,d){var y,E={del:[],add:[],change:[]};for(y in f)d[y]||E.del.push(y);for(y in d){var S=f[y],R=d[y];if(S){var I={name:y,def:R,recreate:!1,del:[],add:[],change:[]};if(""+(S.primKey.keyPath||"")!=""+(R.primKey.keyPath||"")||S.primKey.auto!==R.primKey.auto)I.recreate=!0,E.change.push(I);else{var L=S.idxByName,F=R.idxByName,K=void 0;for(K in L)F[K]||I.del.push(K);for(K in F){var J=L[K],B=F[K];J?J.src!==B.src&&I.change.push(B):I.add.push(B)}(0<I.del.length||0<I.add.length||0<I.change.length)&&E.change.push(I)}}else E.add.push([y,R])}return E}function Ya(f,d,y,E){var S=f.db.createObjectStore(d,y.keyPath?{keyPath:y.keyPath,autoIncrement:y.auto}:{autoIncrement:y.auto});return E.forEach(function(R){return Ii(S,R)}),S}function ao(f,d){p(f).forEach(function(y){d.db.objectStoreNames.contains(y)||(wn&&console.debug("Dexie: Creating missing table",y),Ya(d,y,f[y].primKey,f[y].indexes))})}function Ii(f,d){f.createIndex(d.name,d.keyPath,{unique:d.unique,multiEntry:d.multi})}function Ra(f,d,y){var E={};return re(d.objectStoreNames,0).forEach(function(S){for(var R=y.objectStore(S),I=Pr(us(K=R.keyPath),K||"",!0,!1,!!R.autoIncrement,K&&typeof K!="string",!0),L=[],F=0;F<R.indexNames.length;++F){var J=R.index(R.indexNames[F]),K=J.keyPath,J=Pr(J.name,K,!!J.unique,!!J.multiEntry,!1,K&&typeof K!="string",!1);L.push(J)}E[S]=Ha(S,I,L)}),E}function ui(f,d,y){for(var E=y.db.objectStoreNames,S=0;S<E.length;++S){var R=E[S],I=y.objectStore(R);f._hasGetAll="getAll"in I;for(var L=0;L<I.indexNames.length;++L){var F=I.indexNames[L],K=I.index(F).keyPath,J=typeof K=="string"?K:"["+re(K).join("+")+"]";!d[R]||(K=d[R].idxByName[J])&&(K.name=F,delete d[R].idxByName[J],d[R].idxByName[F]=K)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&c.WorkerGlobalScope&&c instanceof c.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(f._hasGetAll=!1)}function io(f){return f.split(",").map(function(d,y){var R=d.split(":"),E=(S=R[1])===null||S===void 0?void 0:S.trim(),S=(d=R[0].trim()).replace(/([&*]|\+\+)/g,""),R=/^\[/.test(S)?S.match(/^\[(.*)\]$/)[1].split("+"):S;return Pr(S,R||null,/\&/.test(d),/\*/.test(d),/\+\+/.test(d),_(R),y===0,E)})}var hs=(Xa.prototype._createTableSchema=Ha,Xa.prototype._parseIndexSyntax=io,Xa.prototype._parseStoresSpec=function(f,d){var y=this;p(f).forEach(function(E){if(f[E]!==null){var S=y._parseIndexSyntax(f[E]),R=S.shift();if(!R)throw new Oe.Schema("Invalid schema for table "+E+": "+f[E]);if(R.unique=!0,R.multi)throw new Oe.Schema("Primary key cannot be multiEntry*");S.forEach(function(I){if(I.auto)throw new Oe.Schema("Only primary key can be marked as autoIncrement (++)");if(!I.keyPath)throw new Oe.Schema("Index must have a name and cannot be an empty string")}),S=y._createTableSchema(E,R,S),d[E]=S}})},Xa.prototype.stores=function(y){var d=this.db;this._cfg.storesSource=this._cfg.storesSource?b(this._cfg.storesSource,y):y;var y=d._versions,E={},S={};return y.forEach(function(R){b(E,R._cfg.storesSource),S=R._cfg.dbschema={},R._parseStoresSpec(E,S)}),d._dbSchema=S,Sa(d,[d._allTables,d,d.Transaction.prototype]),li(d,[d._allTables,d,d.Transaction.prototype,this._cfg.tables],p(S),S),d._storeNames=p(S),this},Xa.prototype.upgrade=function(f){return this._cfg.contentUpgrade=Mt(this._cfg.contentUpgrade||Qe,f),this},Xa);function Xa(){}function ds(f,d){var y=f._dbNamesDB;return y||(y=f._dbNamesDB=new Ca(ii,{addons:[],indexedDB:f,IDBKeyRange:d})).version(1).stores({dbnames:"name"}),y.table("dbnames")}function Lr(f){return f&&typeof f.databases=="function"}function ms(f){return Ht(function(){return ze.letThrough=!0,f()})}function ps(f){return!("from"in f)}var Nn=function(f,d){if(!this){var y=new Nn;return f&&"d"in f&&b(y,f),y}b(this,arguments.length?{d:1,from:f,to:1<arguments.length?d:f}:{d:0})};function ci(f,d,y){var E=mt(d,y);if(!isNaN(E)){if(0<E)throw RangeError();if(ps(f))return b(f,{from:d,to:y,d:1});var S=f.l,E=f.r;if(mt(y,f.from)<0)return S?ci(S,d,y):f.l={from:d,to:y,d:1,l:null,r:null},so(f);if(0<mt(d,f.to))return E?ci(E,d,y):f.r={from:d,to:y,d:1,l:null,r:null},so(f);mt(d,f.from)<0&&(f.from=d,f.l=null,f.d=E?E.d+1:1),0<mt(y,f.to)&&(f.to=y,f.r=null,f.d=f.l?f.l.d+1:1),y=!f.r,S&&!f.l&&zr(f,S),E&&y&&zr(f,E)}}function zr(f,d){ps(d)||(function y(E,F){var R=F.from,I=F.to,L=F.l,F=F.r;ci(E,R,I),L&&y(E,L),F&&y(E,F)})(f,d)}function Jn(f,d){var y=ji(d),E=y.next();if(E.done)return!1;for(var S=E.value,R=ji(f),I=R.next(S.from),L=I.value;!E.done&&!I.done;){if(mt(L.from,S.to)<=0&&0<=mt(L.to,S.from))return!0;mt(S.from,L.from)<0?S=(E=y.next(L.from)).value:L=(I=R.next(S.from)).value}return!1}function ji(f){var d=ps(f)?null:{s:0,n:f};return{next:function(y){for(var E=0<arguments.length;d;)switch(d.s){case 0:if(d.s=1,E)for(;d.n.l&&mt(y,d.n.from)<0;)d={up:d,n:d.n.l,s:1};else for(;d.n.l;)d={up:d,n:d.n.l,s:1};case 1:if(d.s=2,!E||mt(y,d.n.to)<=0)return{value:d.n,done:!1};case 2:if(d.n.r){d.s=3,d={up:d,n:d.n.r,s:0};continue}case 3:d=d.up}return{done:!0}}}}function so(f){var d,y,E=(((d=f.r)===null||d===void 0?void 0:d.d)||0)-(((y=f.l)===null||y===void 0?void 0:y.d)||0),S=1<E?"r":E<-1?"l":"";S&&(d=S=="r"?"l":"r",y=s({},f),E=f[S],f.from=E.from,f.to=E.to,f[S]=E[S],y[S]=E[d],(f[d]=y).d=Na(y)),f.d=Na(f)}function Na(y){var d=y.r,y=y.l;return(d?y?Math.max(d.d,y.d):d.d:y?y.d:0)+1}function u(f,d){return p(d).forEach(function(y){f[y]?zr(f[y],d[y]):f[y]=(function E(S){var R,I,L={};for(R in S)N(S,R)&&(I=S[R],L[R]=!I||typeof I!="object"||z.has(I.constructor)?I:E(I));return L})(d[y])}),f}function x(f,d){return f.all||d.all||Object.keys(f).some(function(y){return d[y]&&Jn(d[y],f[y])})}O(Nn.prototype,((Tr={add:function(f){return zr(this,f),this},addKey:function(f){return ci(this,f,f),this},addKeys:function(f){var d=this;return f.forEach(function(y){return ci(d,y,y)}),this},hasKey:function(f){var d=ji(this).next(f).value;return d&&mt(d.from,f)<=0&&0<=mt(d.to,f)}})[$]=function(){return ji(this)},Tr));var T={},D={},ie=!1;function me(f){u(D,f),ie||(ie=!0,setTimeout(function(){ie=!1,Me(D,!(D={}))},0))}function Me(f,d){d===void 0&&(d=!1);var y=new Set;if(f.all)for(var E=0,S=Object.values(T);E<S.length;E++)ut(I=S[E],f,y,d);else for(var R in f){var I,L=/^idb\:\/\/(.*)\/(.*)\//.exec(R);L&&(R=L[1],L=L[2],(I=T["idb://".concat(R,"/").concat(L)])&&ut(I,f,y,d))}y.forEach(function(F){return F()})}function ut(f,d,y,E){for(var S=[],R=0,I=Object.entries(f.queries.query);R<I.length;R++){for(var L=I[R],F=L[0],K=[],J=0,B=L[1];J<B.length;J++){var te=B[J];x(d,te.obsSet)?te.subscribers.forEach(function(W){return y.add(W)}):E&&K.push(te)}E&&S.push([F,K])}if(E)for(var G=0,X=S;G<X.length;G++){var Z=X[G],F=Z[0],K=Z[1];f.queries.query[F]=K}}function vn(f){var d=f._state,y=f._deps.indexedDB;if(d.isBeingOpened||f.idbdb)return d.dbReadyPromise.then(function(){return d.dbOpenError?It(d.dbOpenError):f});d.isBeingOpened=!0,d.dbOpenError=null,d.openComplete=!1;var E=d.openCanceller,S=Math.round(10*f.verno),R=!1;function I(){if(d.openCanceller!==E)throw new Oe.DatabaseClosed("db.open() was cancelled")}function L(){return new ke(function(te,G){if(I(),!y)throw new Oe.MissingAPI;var X=f.name,Z=d.autoSchema||!S?y.open(X):y.open(X,S);if(!Z)throw new Oe.MissingAPI;Z.onerror=Zn(G),Z.onblocked=Ut(f._fireOnBlocked),Z.onupgradeneeded=Ut(function(W){var se;J=Z.transaction,d.autoSchema&&!f._options.allowEmptyDB?(Z.onerror=Ea,J.abort(),Z.result.close(),(se=y.deleteDatabase(X)).onsuccess=se.onerror=Ut(function(){G(new Oe.NoSuchDatabase("Database ".concat(X," doesnt exist")))})):(J.onerror=Zn(G),W=W.oldVersion>Math.pow(2,62)?0:W.oldVersion,B=W<1,f.idbdb=Z.result,R&&fs(f,J),Aa(f,W/10,J,G))},G),Z.onsuccess=Ut(function(){J=null;var W,se,he,ye,xe,Ie=f.idbdb=Z.result,Le=re(Ie.objectStoreNames);if(0<Le.length)try{var Ne=Ie.transaction((ye=Le).length===1?ye[0]:ye,"readonly");if(d.autoSchema)se=Ie,he=Ne,(W=f).verno=se.version/10,he=W._dbSchema=Ra(0,se,he),W._storeNames=re(se.objectStoreNames,0),li(W,[W._allTables],p(he),he);else if(ui(f,f._dbSchema,Ne),((xe=Di(Ra(0,(xe=f).idbdb,Ne),xe._dbSchema)).add.length||xe.change.some(function(Ve){return Ve.add.length||Ve.change.length}))&&!R)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ie.close(),S=Ie.version+1,R=!0,te(L());la(f,Ne)}catch{}xa.push(f),Ie.onversionchange=Ut(function(Ve){d.vcFired=!0,f.on("versionchange").fire(Ve)}),Ie.onclose=Ut(function(){f.close({disableAutoOpen:!1})}),B&&(xe=f._deps,Ne=X,Ie=xe.indexedDB,xe=xe.IDBKeyRange,Lr(Ie)||Ne===ii||ds(Ie,xe).put({name:Ne}).catch(Qe)),te()},G)}).catch(function(te){switch(te?.name){case"UnknownError":if(0<d.PR1398_maxLoop)return d.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),L();break;case"VersionError":if(0<S)return S=0,L()}return ke.reject(te)})}var F,K=d.dbReadyResolve,J=null,B=!1;return ke.race([E,(typeof navigator>"u"?ke.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(te){function G(){return indexedDB.databases().finally(te)}F=setInterval(G,100),G()}).finally(function(){return clearInterval(F)}):Promise.resolve()).then(L)]).then(function(){return I(),d.onReadyBeingFired=[],ke.resolve(ms(function(){return f.on.ready.fire(f.vip)})).then(function te(){if(0<d.onReadyBeingFired.length){var G=d.onReadyBeingFired.reduce(Mt,Qe);return d.onReadyBeingFired=[],ke.resolve(ms(function(){return G(f.vip)})).then(te)}})}).finally(function(){d.openCanceller===E&&(d.onReadyBeingFired=null,d.isBeingOpened=!1)}).catch(function(te){d.dbOpenError=te;try{J&&J.abort()}catch{}return E===d.openCanceller&&f._close(),It(te)}).finally(function(){d.openComplete=!0,K()}).then(function(){var te;return B&&(te={},f.tables.forEach(function(G){G.schema.indexes.forEach(function(X){X.name&&(te["idb://".concat(f.name,"/").concat(G.name,"/").concat(X.name)]=new Nn(-1/0,[[[]]]))}),te["idb://".concat(f.name,"/").concat(G.name,"/")]=te["idb://".concat(f.name,"/").concat(G.name,"/:dels")]=new Nn(-1/0,[[[]]])}),Rn(kr).fire(te),Me(te,!0)),f})}function Ct(f){function d(R){return f.next(R)}var y=S(d),E=S(function(R){return f.throw(R)});function S(R){return function(F){var L=R(F),F=L.value;return L.done?F:F&&typeof F.then=="function"?F.then(y,E):_(F)?Promise.all(F).then(y,E):y(F)}}return S(d)()}function Gt(f,d,y){for(var E=_(f)?f.slice():[f],S=0;S<y;++S)E.push(d);return E}var Ur={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(f){return s(s({},f),{table:function(d){var y=f.table(d),E=y.schema,S={},R=[];function I(B,te,G){var X=yn(B),Z=S[X]=S[X]||[],W=B==null?0:typeof B=="string"?1:B.length,se=0<te,se=s(s({},G),{name:se?"".concat(X,"(virtual-from:").concat(G.name,")"):G.name,lowLevelIndex:G,isVirtual:se,keyTail:te,keyLength:W,extractKey:Ga(B),unique:!se&&G.unique});return Z.push(se),se.isPrimaryKey||R.push(se),1<W&&I(W===2?B[0]:B.slice(0,W-1),te+1,G),Z.sort(function(he,ye){return he.keyTail-ye.keyTail}),se}d=I(E.primaryKey.keyPath,0,E.primaryKey),S[":id"]=[d];for(var L=0,F=E.indexes;L<F.length;L++){var K=F[L];I(K.keyPath,0,K)}function J(B){var te,G=B.query.index;return G.isVirtual?s(s({},B),{query:{index:G.lowLevelIndex,range:(te=B.query.range,G=G.keyTail,{type:te.type===1?2:te.type,lower:Gt(te.lower,te.lowerOpen?f.MAX_KEY:f.MIN_KEY,G),lowerOpen:!0,upper:Gt(te.upper,te.upperOpen?f.MIN_KEY:f.MAX_KEY,G),upperOpen:!0})}}):B}return s(s({},y),{schema:s(s({},E),{primaryKey:d,indexes:R,getIndexByKeyPath:function(B){return(B=S[yn(B)])&&B[0]}}),count:function(B){return y.count(J(B))},query:function(B){return y.query(J(B))},openCursor:function(B){var te=B.query.index,G=te.keyTail,X=te.isVirtual,Z=te.keyLength;return X?y.openCursor(J(B)).then(function(se){return se&&W(se)}):y.openCursor(B);function W(se){return Object.create(se,{continue:{value:function(he){he!=null?se.continue(Gt(he,B.reverse?f.MAX_KEY:f.MIN_KEY,G)):B.unique?se.continue(se.key.slice(0,Z).concat(B.reverse?f.MIN_KEY:f.MAX_KEY,G)):se.continue()}},continuePrimaryKey:{value:function(he,ye){se.continuePrimaryKey(Gt(he,f.MAX_KEY,G),ye)}},primaryKey:{get:function(){return se.primaryKey}},key:{get:function(){var he=se.key;return Z===1?he[0]:he.slice(0,Z)}},value:{get:function(){return se.value}}})}}})}})}};function Br(f,d,y,E){return y=y||{},E=E||"",p(f).forEach(function(S){var R,I,L;N(d,S)?(R=f[S],I=d[S],typeof R=="object"&&typeof I=="object"&&R&&I?(L=dt(R))!==dt(I)?y[E+S]=d[S]:L==="Object"?Br(R,I,y,E+S+"."):R!==I&&(y[E+S]=d[S]):R!==I&&(y[E+S]=d[S])):y[E+S]=void 0}),p(d).forEach(function(S){N(f,S)||(y[E+S]=d[S])}),y}function wr(f,d){return d.type==="delete"?d.keys:d.keys||d.values.map(f.extractKey)}var ua={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(f){return s(s({},f),{table:function(d){var y=f.table(d),E=y.schema.primaryKey;return s(s({},y),{mutate:function(S){var R=ze.trans,I=R.table(d).hook,L=I.deleting,F=I.creating,K=I.updating;switch(S.type){case"add":if(F.fire===Qe)break;return R._promise("readwrite",function(){return J(S)},!0);case"put":if(F.fire===Qe&&K.fire===Qe)break;return R._promise("readwrite",function(){return J(S)},!0);case"delete":if(L.fire===Qe)break;return R._promise("readwrite",function(){return J(S)},!0);case"deleteRange":if(L.fire===Qe)break;return R._promise("readwrite",function(){return(function B(te,G,X){return y.query({trans:te,values:!1,query:{index:E,range:G},limit:X}).then(function(Z){var W=Z.result;return J({type:"delete",keys:W,trans:te}).then(function(se){return 0<se.numFailures?Promise.reject(se.failures[0]):W.length<X?{failures:[],numFailures:0,lastResult:void 0}:B(te,s(s({},G),{lower:W[W.length-1],lowerOpen:!0}),X)})})})(S.trans,S.range,1e4)},!0)}return y.mutate(S);function J(B){var te,G,X,Z=ze.trans,W=B.keys||wr(E,B);if(!W)throw new Error("Keys missing");return(B=B.type==="add"||B.type==="put"?s(s({},B),{keys:W}):s({},B)).type!=="delete"&&(B.values=l([],B.values)),B.keys&&(B.keys=l([],B.keys)),te=y,X=W,((G=B).type==="add"?Promise.resolve([]):te.getMany({trans:G.trans,keys:X,cache:"immutable"})).then(function(se){var he=W.map(function(ye,xe){var Ie,Le,Ne,Ve=se[xe],Pe={onerror:null,onsuccess:null};return B.type==="delete"?L.fire.call(Pe,ye,Ve,Z):B.type==="add"||Ve===void 0?(Ie=F.fire.call(Pe,ye,B.values[xe],Z),ye==null&&Ie!=null&&(B.keys[xe]=ye=Ie,E.outbound||k(B.values[xe],E.keyPath,ye))):(Ie=Br(Ve,B.values[xe]),(Le=K.fire.call(Pe,Ie,ye,Ve,Z))&&(Ne=B.values[xe],Object.keys(Le).forEach(function(Ce){N(Ne,Ce)?Ne[Ce]=Le[Ce]:k(Ne,Ce,Le[Ce])}))),Pe});return y.mutate(B).then(function(ye){for(var xe=ye.failures,Ie=ye.results,Le=ye.numFailures,ye=ye.lastResult,Ne=0;Ne<W.length;++Ne){var Ve=(Ie||W)[Ne],Pe=he[Ne];Ve==null?Pe.onerror&&Pe.onerror(xe[Ne]):Pe.onsuccess&&Pe.onsuccess(B.type==="put"&&se[Ne]?B.values[Ne]:Ve)}return{failures:xe,results:Ie,numFailures:Le,lastResult:ye}}).catch(function(ye){return he.forEach(function(xe){return xe.onerror&&xe.onerror(ye)}),Promise.reject(ye)})})}}})}})}};function fi(f,d,y){try{if(!d||d.keys.length<f.length)return null;for(var E=[],S=0,R=0;S<d.keys.length&&R<f.length;++S)mt(d.keys[S],f[R])===0&&(E.push(y?V(d.values[S]):d.values[S]),++R);return E.length===f.length?E:null}catch{return null}}var gs={stack:"dbcore",level:-1,create:function(f){return{table:function(d){var y=f.table(d);return s(s({},y),{getMany:function(E){if(!E.cache)return y.getMany(E);var S=fi(E.keys,E.trans._cache,E.cache==="clone");return S?ke.resolve(S):y.getMany(E).then(function(R){return E.trans._cache={keys:E.keys,values:E.cache==="clone"?V(R):R},R})},mutate:function(E){return E.type!=="add"&&(E.trans._cache=null),y.mutate(E)}})}}}};function Oi(f,d){return f.trans.mode==="readonly"&&!!f.subscr&&!f.trans.explicit&&f.trans.db._options.cache!=="disabled"&&!d.schema.primaryKey.outbound}function $u(f,d){switch(f){case"query":return d.values&&!d.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var rh={stack:"dbcore",level:0,name:"Observability",create:function(f){var d=f.schema.name,y=new Nn(f.MIN_KEY,f.MAX_KEY);return s(s({},f),{transaction:function(E,S,R){if(ze.subscr&&S!=="readonly")throw new Oe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ze.querier));return f.transaction(E,S,R)},table:function(E){var S=f.table(E),R=S.schema,I=R.primaryKey,B=R.indexes,L=I.extractKey,F=I.outbound,K=I.autoIncrement&&B.filter(function(G){return G.compound&&G.keyPath.includes(I.keyPath)}),J=s(s({},S),{mutate:function(G){function X(Ce){return Ce="idb://".concat(d,"/").concat(E,"/").concat(Ce),ye[Ce]||(ye[Ce]=new Nn)}var Z,W,se,he=G.trans,ye=G.mutatedParts||(G.mutatedParts={}),xe=X(""),Ie=X(":dels"),Le=G.type,Pe=G.type==="deleteRange"?[G.range]:G.type==="delete"?[G.keys]:G.values.length<50?[wr(I,G).filter(function(Ce){return Ce}),G.values]:[],Ne=Pe[0],Ve=Pe[1],Pe=G.trans._cache;return _(Ne)?(xe.addKeys(Ne),(Pe=Le==="delete"||Ne.length===Ve.length?fi(Ne,Pe):null)||Ie.addKeys(Ne),(Pe||Ve)&&(Z=X,W=Pe,se=Ve,R.indexes.forEach(function(Ce){var Ue=Z(Ce.name||"");function We(pt){return pt!=null?Ce.extractKey(pt):null}function lt(pt){return Ce.multiEntry&&_(pt)?pt.forEach(function(Wn){return Ue.addKey(Wn)}):Ue.addKey(pt)}(W||se).forEach(function(pt,kn){var ot=W&&We(W[kn]),kn=se&&We(se[kn]);mt(ot,kn)!==0&&(ot!=null&&lt(ot),kn!=null&&lt(kn))})}))):Ne?(Ve={from:(Ve=Ne.lower)!==null&&Ve!==void 0?Ve:f.MIN_KEY,to:(Ve=Ne.upper)!==null&&Ve!==void 0?Ve:f.MAX_KEY},Ie.add(Ve),xe.add(Ve)):(xe.add(y),Ie.add(y),R.indexes.forEach(function(Ce){return X(Ce.name).add(y)})),S.mutate(G).then(function(Ce){return!Ne||G.type!=="add"&&G.type!=="put"||(xe.addKeys(Ce.results),K&&K.forEach(function(Ue){for(var We=G.values.map(function(ot){return Ue.extractKey(ot)}),lt=Ue.keyPath.findIndex(function(ot){return ot===I.keyPath}),pt=0,Wn=Ce.results.length;pt<Wn;++pt)We[pt][lt]=Ce.results[pt];X(Ue.name).addKeys(We)})),he.mutatedParts=u(he.mutatedParts||{},ye),Ce})}}),B=function(X){var Z=X.query,X=Z.index,Z=Z.range;return[X,new Nn((X=Z.lower)!==null&&X!==void 0?X:f.MIN_KEY,(Z=Z.upper)!==null&&Z!==void 0?Z:f.MAX_KEY)]},te={get:function(G){return[I,new Nn(G.key)]},getMany:function(G){return[I,new Nn().addKeys(G.keys)]},count:B,query:B,openCursor:B};return p(te).forEach(function(G){J[G]=function(X){var Z=ze.subscr,W=!!Z,se=Oi(ze,S)&&$u(G,X)?X.obsSet={}:Z;if(W){var he=function(Ve){return Ve="idb://".concat(d,"/").concat(E,"/").concat(Ve),se[Ve]||(se[Ve]=new Nn)},ye=he(""),xe=he(":dels"),Z=te[G](X),W=Z[0],Z=Z[1];if((G==="query"&&W.isPrimaryKey&&!X.values?xe:he(W.name||"")).add(Z),!W.isPrimaryKey){if(G!=="count"){var Ie=G==="query"&&F&&X.values&&S.query(s(s({},X),{values:!1}));return S[G].apply(this,arguments).then(function(Ve){if(G==="query"){if(F&&X.values)return Ie.then(function(We){return We=We.result,ye.addKeys(We),Ve});var Pe=X.values?Ve.result.map(L):Ve.result;(X.values?ye:xe).addKeys(Pe)}else if(G==="openCursor"){var Ce=Ve,Ue=X.values;return Ce&&Object.create(Ce,{key:{get:function(){return xe.addKey(Ce.primaryKey),Ce.key}},primaryKey:{get:function(){var We=Ce.primaryKey;return xe.addKey(We),We}},value:{get:function(){return Ue&&ye.addKey(Ce.primaryKey),Ce.value}}})}return Ve})}xe.add(y)}}return S[G].apply(this,arguments)}}),J}})}};function Zu(f,d,y){if(y.numFailures===0)return d;if(d.type==="deleteRange")return null;var E=d.keys?d.keys.length:"values"in d&&d.values?d.values.length:1;return y.numFailures===E?null:(d=s({},d),_(d.keys)&&(d.keys=d.keys.filter(function(S,R){return!(R in y.failures)})),"values"in d&&_(d.values)&&(d.values=d.values.filter(function(S,R){return!(R in y.failures)})),d)}function Bo(f,d){return y=f,((E=d).lower===void 0||(E.lowerOpen?0<mt(y,E.lower):0<=mt(y,E.lower)))&&(f=f,(d=d).upper===void 0||(d.upperOpen?mt(f,d.upper)<0:mt(f,d.upper)<=0));var y,E}function Bl(f,d,te,E,S,R){if(!te||te.length===0)return f;var I=d.query.index,L=I.multiEntry,F=d.query.range,K=E.schema.primaryKey.extractKey,J=I.extractKey,B=(I.lowLevelIndex||I).extractKey,te=te.reduce(function(G,X){var Z=G,W=[];if(X.type==="add"||X.type==="put")for(var se=new Nn,he=X.values.length-1;0<=he;--he){var ye,xe=X.values[he],Ie=K(xe);se.hasKey(Ie)||(ye=J(xe),(L&&_(ye)?ye.some(function(Ce){return Bo(Ce,F)}):Bo(ye,F))&&(se.addKey(Ie),W.push(xe)))}switch(X.type){case"add":var Le=new Nn().addKeys(d.values?G.map(function(Ue){return K(Ue)}):G),Z=G.concat(d.values?W.filter(function(Ue){return Ue=K(Ue),!Le.hasKey(Ue)&&(Le.addKey(Ue),!0)}):W.map(function(Ue){return K(Ue)}).filter(function(Ue){return!Le.hasKey(Ue)&&(Le.addKey(Ue),!0)}));break;case"put":var Ne=new Nn().addKeys(X.values.map(function(Ue){return K(Ue)}));Z=G.filter(function(Ue){return!Ne.hasKey(d.values?K(Ue):Ue)}).concat(d.values?W:W.map(function(Ue){return K(Ue)}));break;case"delete":var Ve=new Nn().addKeys(X.keys);Z=G.filter(function(Ue){return!Ve.hasKey(d.values?K(Ue):Ue)});break;case"deleteRange":var Pe=X.range;Z=G.filter(function(Ue){return!Bo(K(Ue),Pe)})}return Z},f);return te===f?f:(te.sort(function(G,X){return mt(B(G),B(X))||mt(K(G),K(X))}),d.limit&&d.limit<1/0&&(te.length>d.limit?te.length=d.limit:f.length===d.limit&&te.length<d.limit&&(S.dirty=!0)),R?Object.freeze(te):te)}function ys(f,d){return mt(f.lower,d.lower)===0&&mt(f.upper,d.upper)===0&&!!f.lowerOpen==!!d.lowerOpen&&!!f.upperOpen==!!d.upperOpen}function oo(f,d){return(function(y,E,S,R){if(y===void 0)return E!==void 0?-1:0;if(E===void 0)return 1;if((E=mt(y,E))===0){if(S&&R)return 0;if(S)return 1;if(R)return-1}return E})(f.lower,d.lower,f.lowerOpen,d.lowerOpen)<=0&&0<=(function(y,E,S,R){if(y===void 0)return E!==void 0?1:0;if(E===void 0)return-1;if((E=mt(y,E))===0){if(S&&R)return 0;if(S)return-1;if(R)return 1}return E})(f.upper,d.upper,f.upperOpen,d.upperOpen)}function ah(f,d,y,E){f.subscribers.add(y),E.addEventListener("abort",function(){var S,R;f.subscribers.delete(y),f.subscribers.size===0&&(S=f,R=d,setTimeout(function(){S.subscribers.size===0&&Ae(R,S)},3e3))})}var qo={stack:"dbcore",level:0,name:"Cache",create:function(f){var d=f.schema.name;return s(s({},f),{transaction:function(y,E,S){var R,I,L=f.transaction(y,E,S);return E==="readwrite"&&(I=(R=new AbortController).signal,S=function(F){return function(){if(R.abort(),E==="readwrite"){for(var K=new Set,J=0,B=y;J<B.length;J++){var te=B[J],G=T["idb://".concat(d,"/").concat(te)];if(G){var X=f.table(te),Z=G.optimisticOps.filter(function(Ue){return Ue.trans===L});if(L._explicit&&F&&L.mutatedParts)for(var W=0,se=Object.values(G.queries.query);W<se.length;W++)for(var he=0,ye=(Le=se[W]).slice();he<ye.length;he++)x((Ne=ye[he]).obsSet,L.mutatedParts)&&(Ae(Le,Ne),Ne.subscribers.forEach(function(Ue){return K.add(Ue)}));else if(0<Z.length){G.optimisticOps=G.optimisticOps.filter(function(Ue){return Ue.trans!==L});for(var xe=0,Ie=Object.values(G.queries.query);xe<Ie.length;xe++)for(var Le,Ne,Ve,Pe=0,Ce=(Le=Ie[xe]).slice();Pe<Ce.length;Pe++)(Ne=Ce[Pe]).res!=null&&L.mutatedParts&&(F&&!Ne.dirty?(Ve=Object.isFrozen(Ne.res),Ve=Bl(Ne.res,Ne.req,Z,X,Ne,Ve),Ne.dirty?(Ae(Le,Ne),Ne.subscribers.forEach(function(Ue){return K.add(Ue)})):Ve!==Ne.res&&(Ne.res=Ve,Ne.promise=ke.resolve({result:Ve}))):(Ne.dirty&&Ae(Le,Ne),Ne.subscribers.forEach(function(Ue){return K.add(Ue)})))}}}K.forEach(function(Ue){return Ue()})}}},L.addEventListener("abort",S(!1),{signal:I}),L.addEventListener("error",S(!1),{signal:I}),L.addEventListener("complete",S(!0),{signal:I})),L},table:function(y){var E=f.table(y),S=E.schema.primaryKey;return s(s({},E),{mutate:function(R){var I=ze.trans;if(S.outbound||I.db._options.cache==="disabled"||I.explicit||I.idbtrans.mode!=="readwrite")return E.mutate(R);var L=T["idb://".concat(d,"/").concat(y)];return L?(I=E.mutate(R),R.type!=="add"&&R.type!=="put"||!(50<=R.values.length||wr(S,R).some(function(F){return F==null}))?(L.optimisticOps.push(R),R.mutatedParts&&me(R.mutatedParts),I.then(function(F){0<F.numFailures&&(Ae(L.optimisticOps,R),(F=Zu(0,R,F))&&L.optimisticOps.push(F),R.mutatedParts&&me(R.mutatedParts))}),I.catch(function(){Ae(L.optimisticOps,R),R.mutatedParts&&me(R.mutatedParts)})):I.then(function(F){var K=Zu(0,s(s({},R),{values:R.values.map(function(J,B){var te;return F.failures[B]?J:(J=(te=S.keyPath)!==null&&te!==void 0&&te.includes(".")?V(J):s({},J),k(J,S.keyPath,F.results[B]),J)})}),F);L.optimisticOps.push(K),queueMicrotask(function(){return R.mutatedParts&&me(R.mutatedParts)})}),I):E.mutate(R)},query:function(R){if(!Oi(ze,E)||!$u("query",R))return E.query(R);var I=((K=ze.trans)===null||K===void 0?void 0:K.db._options.cache)==="immutable",B=ze,L=B.requery,F=B.signal,K=(function(X,Z,W,se){var he=T["idb://".concat(X,"/").concat(Z)];if(!he)return[];if(!(Z=he.queries[W]))return[null,!1,he,null];var ye=Z[(se.query?se.query.index.name:null)||""];if(!ye)return[null,!1,he,null];switch(W){case"query":var xe=ye.find(function(Ie){return Ie.req.limit===se.limit&&Ie.req.values===se.values&&ys(Ie.req.query.range,se.query.range)});return xe?[xe,!0,he,ye]:[ye.find(function(Ie){return("limit"in Ie.req?Ie.req.limit:1/0)>=se.limit&&(!se.values||Ie.req.values)&&oo(Ie.req.query.range,se.query.range)}),!1,he,ye];case"count":return xe=ye.find(function(Ie){return ys(Ie.req.query.range,se.query.range)}),[xe,!!xe,he,ye]}})(d,y,"query",R),J=K[0],B=K[1],te=K[2],G=K[3];return J&&B?J.obsSet=R.obsSet:(B=E.query(R).then(function(X){var Z=X.result;if(J&&(J.res=Z),I){for(var W=0,se=Z.length;W<se;++W)Object.freeze(Z[W]);Object.freeze(Z)}else X.result=V(Z);return X}).catch(function(X){return G&&J&&Ae(G,J),Promise.reject(X)}),J={obsSet:R.obsSet,promise:B,subscribers:new Set,type:"query",req:R,dirty:!1},G?G.push(J):(G=[J],(te=te||(T["idb://".concat(d,"/").concat(y)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[R.query.index.name||""]=G)),ah(J,G,L,F),J.promise.then(function(X){return{result:Bl(X.result,R,te?.optimisticOps,E,J,I)}})}})}})}};function lo(f,d){return new Proxy(f,{get:function(y,E,S){return E==="db"?d:Reflect.get(y,E,S)}})}var Ca=(rn.prototype.version=function(f){if(isNaN(f)||f<.1)throw new Oe.Type("Given version is not a positive number");if(f=Math.round(10*f)/10,this.idbdb||this._state.isBeingOpened)throw new Oe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,f);var d=this._versions,y=d.filter(function(E){return E._cfg.version===f})[0];return y||(y=new this.Version(f),d.push(y),d.sort(cs),y.stores({}),this._state.autoSchema=!1,y)},rn.prototype._whenReady=function(f){var d=this;return this.idbdb&&(this._state.openComplete||ze.letThrough||this._vip)?f():new ke(function(y,E){if(d._state.openComplete)return E(new Oe.DatabaseClosed(d._state.dbOpenError));if(!d._state.isBeingOpened){if(!d._state.autoOpen)return void E(new Oe.DatabaseClosed);d.open().catch(Qe)}d._state.dbReadyPromise.then(y,E)}).then(f)},rn.prototype.use=function(f){var d=f.stack,y=f.create,E=f.level,S=f.name;return S&&this.unuse({stack:d,name:S}),f=this._middlewares[d]||(this._middlewares[d]=[]),f.push({stack:d,create:y,level:E??10,name:S}),f.sort(function(R,I){return R.level-I.level}),this},rn.prototype.unuse=function(f){var d=f.stack,y=f.name,E=f.create;return d&&this._middlewares[d]&&(this._middlewares[d]=this._middlewares[d].filter(function(S){return E?S.create!==E:!!y&&S.name!==y})),this},rn.prototype.open=function(){var f=this;return $n(Sn,function(){return vn(f)})},rn.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var f=this._state,d=xa.indexOf(this);if(0<=d&&xa.splice(d,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}f.isBeingOpened||(f.dbReadyPromise=new ke(function(y){f.dbReadyResolve=y}),f.openCanceller=new ke(function(y,E){f.cancelOpen=E}))},rn.prototype.close=function(y){var d=(y===void 0?{disableAutoOpen:!0}:y).disableAutoOpen,y=this._state;d?(y.isBeingOpened&&y.cancelOpen(new Oe.DatabaseClosed),this._close(),y.autoOpen=!1,y.dbOpenError=new Oe.DatabaseClosed):(this._close(),y.autoOpen=this._options.autoOpen||y.isBeingOpened,y.openComplete=!1,y.dbOpenError=null)},rn.prototype.delete=function(f){var d=this;f===void 0&&(f={disableAutoOpen:!0});var y=0<arguments.length&&typeof arguments[0]!="object",E=this._state;return new ke(function(S,R){function I(){d.close(f);var L=d._deps.indexedDB.deleteDatabase(d.name);L.onsuccess=Ut(function(){var F,K,J;F=d._deps,K=d.name,J=F.indexedDB,F=F.IDBKeyRange,Lr(J)||K===ii||ds(J,F).delete(K).catch(Qe),S()}),L.onerror=Zn(R),L.onblocked=d._fireOnBlocked}if(y)throw new Oe.InvalidArgument("Invalid closeOptions argument to db.delete()");E.isBeingOpened?E.dbReadyPromise.then(I):I()})},rn.prototype.backendDB=function(){return this.idbdb},rn.prototype.isOpen=function(){return this.idbdb!==null},rn.prototype.hasBeenClosed=function(){var f=this._state.dbOpenError;return f&&f.name==="DatabaseClosed"},rn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},rn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(rn.prototype,"tables",{get:function(){var f=this;return p(this._allTables).map(function(d){return f._allTables[d]})},enumerable:!1,configurable:!0}),rn.prototype.transaction=function(){var f=(function(d,y,E){var S=arguments.length;if(S<2)throw new Oe.InvalidArgument("Too few arguments");for(var R=new Array(S-1);--S;)R[S-1]=arguments[S];return E=R.pop(),[d,j(R),E]}).apply(this,arguments);return this._transaction.apply(this,f)},rn.prototype._transaction=function(f,d,y){var E=this,S=ze.trans;S&&S.db===this&&f.indexOf("!")===-1||(S=null);var R,I,L=f.indexOf("?")!==-1;f=f.replace("!","").replace("?","");try{if(I=d.map(function(K){if(K=K instanceof E.Table?K.name:K,typeof K!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return K}),f=="r"||f===jr)R=jr;else{if(f!="rw"&&f!=Or)throw new Oe.InvalidArgument("Invalid transaction mode: "+f);R=Or}if(S){if(S.mode===jr&&R===Or){if(!L)throw new Oe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");S=null}S&&I.forEach(function(K){if(S&&S.storeNames.indexOf(K)===-1){if(!L)throw new Oe.SubTransaction("Table "+K+" not included in parent transaction.");S=null}}),L&&S&&!S.active&&(S=null)}}catch(K){return S?S._promise(null,function(J,B){B(K)}):It(K)}var F=(function K(J,B,te,G,X){return ke.resolve().then(function(){var Z=ze.transless||ze,W=J._createTransaction(B,te,J._dbSchema,G);if(W.explicit=!0,Z={trans:W,transless:Z},G)W.idbtrans=G.idbtrans;else try{W.create(),W.idbtrans._explicit=!0,J._state.PR1398_maxLoop=3}catch(ye){return ye.name===rt.InvalidState&&J.isOpen()&&0<--J._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),J.close({disableAutoOpen:!1}),J.open().then(function(){return K(J,B,te,null,X)})):It(ye)}var se,he=q(X);return he&&nn(),Z=ke.follow(function(){var ye;(se=X.call(W,W))&&(he?(ye=Kn.bind(null,null),se.then(ye,ye)):typeof se.next=="function"&&typeof se.throw=="function"&&(se=Ct(se)))},Z),(se&&typeof se.then=="function"?ke.resolve(se).then(function(ye){return W.active?ye:It(new Oe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Z.then(function(){return se})).then(function(ye){return G&&W._resolve(),W._completion.then(function(){return ye})}).catch(function(ye){return W._reject(ye),It(ye)})})}).bind(null,this,R,I,S,y);return S?S._promise(R,F,"lock"):ze.trans?$n(ze.transless,function(){return E._whenReady(F)}):this._whenReady(F)},rn.prototype.table=function(f){if(!N(this._allTables,f))throw new Oe.InvalidTable("Table ".concat(f," does not exist"));return this._allTables[f]},rn);function rn(f,d){var y=this;this._middlewares={},this.verno=0;var E=rn.dependencies;this._options=d=s({addons:rn.addons,autoOpen:!0,indexedDB:E.indexedDB,IDBKeyRange:E.IDBKeyRange,cache:"cloned"},d),this._deps={indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange},E=d.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var S,R,I,L,F,K={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Qe,dbReadyPromise:null,cancelOpen:Qe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:d.autoOpen};K.dbReadyPromise=new ke(function(B){K.dbReadyResolve=B}),K.openCanceller=new ke(function(B,te){K.cancelOpen=te}),this._state=K,this.name=f,this.on=na(this,"populate","blocked","versionchange","close",{ready:[Mt,Qe]}),this.once=function(B,te){var G=function(){for(var X=[],Z=0;Z<arguments.length;Z++)X[Z]=arguments[Z];y.on(B).unsubscribe(G),te.apply(y,X)};return y.on(B,G)},this.on.ready.subscribe=pe(this.on.ready.subscribe,function(B){return function(te,G){rn.vip(function(){var X,Z=y._state;Z.openComplete?(Z.dbOpenError||ke.resolve().then(te),G&&B(te)):Z.onReadyBeingFired?(Z.onReadyBeingFired.push(te),G&&B(te)):(B(te),X=y,G||B(function W(){X.on.ready.unsubscribe(te),X.on.ready.unsubscribe(W)}))})}}),this.Collection=(S=this,Vn(zo.prototype,function(se,W){this.db=S;var G=as,X=null;if(W)try{G=W()}catch(he){X=he}var Z=se._ctx,W=Z.table,se=W.hook.reading.fire;this._ctx={table:W,index:Z.index,isPrimKey:!Z.index||W.schema.primKey.keyPath&&Z.index===W.schema.primKey.name,range:G,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:X,or:Z.or,valueMapper:se!==Je?se:null}})),this.Table=(R=this,Vn(oi.prototype,function(B,te,G){this.db=R,this._tx=G,this.name=B,this.schema=te,this.hook=R._allTables[B]?R._allTables[B].hook:na(null,{creating:[zt,Qe],reading:[Ft,Je],updating:[Yn,Qe],deleting:[on,Qe]})})),this.Transaction=(I=this,Vn(Ci.prototype,function(B,te,G,X,Z){var W=this;B!=="readonly"&&te.forEach(function(se){se=(se=G[se])===null||se===void 0?void 0:se.yProps,se&&(te=te.concat(se.map(function(he){return he.updatesTable})))}),this.db=I,this.mode=B,this.storeNames=te,this.schema=G,this.chromeTransactionDurability=X,this.idbtrans=null,this.on=na(this,"complete","error","abort"),this.parent=Z||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ke(function(se,he){W._resolve=se,W._reject=he}),this._completion.then(function(){W.active=!1,W.on.complete.fire()},function(se){var he=W.active;return W.active=!1,W.on.error.fire(se),W.parent?W.parent._reject(se):he&&W.idbtrans&&W.idbtrans.abort(),It(se)})})),this.Version=(L=this,Vn(hs.prototype,function(B){this.db=L,this._cfg={version:B,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(F=this,Vn(Fa.prototype,function(B,te,G){if(this.db=F,this._ctx={table:B,index:te===":id"?null:te,or:G},this._cmp=this._ascending=mt,this._descending=function(X,Z){return mt(Z,X)},this._max=function(X,Z){return 0<mt(X,Z)?X:Z},this._min=function(X,Z){return mt(X,Z)<0?X:Z},this._IDBKeyRange=F._deps.IDBKeyRange,!this._IDBKeyRange)throw new Oe.MissingAPI})),this.on("versionchange",function(B){0<B.newVersion?console.warn("Another connection wants to upgrade database '".concat(y.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(y.name,"'. Closing db now to resume the delete request.")),y.close({disableAutoOpen:!1})}),this.on("blocked",function(B){!B.newVersion||B.newVersion<B.oldVersion?console.warn("Dexie.delete('".concat(y.name,"') was blocked")):console.warn("Upgrade '".concat(y.name,"' blocked by other connection holding version ").concat(B.oldVersion/10))}),this._maxKey=Ka(d.IDBKeyRange),this._createTransaction=function(B,te,G,X){return new y.Transaction(B,te,G,y._options.chromeTransactionDurability,X)},this._fireOnBlocked=function(B){y.on("blocked").fire(B),xa.filter(function(te){return te.name===y.name&&te!==y&&!te._state.vcFired}).map(function(te){return te.on("versionchange").fire(B)})},this.use(gs),this.use(qo),this.use(rh),this.use(Ur),this.use(ua);var J=new Proxy(this,{get:function(B,te,G){if(te==="_vip")return!0;if(te==="table")return function(Z){return lo(y.table(Z),J)};var X=Reflect.get(B,te,G);return X instanceof oi?lo(X,J):te==="tables"?X.map(function(Z){return lo(Z,J)}):te==="_createTransaction"?function(){return lo(X.apply(this,arguments),J)}:X}});this.vip=J,E.forEach(function(B){return B(y)})}var vs,Tr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ju=(Fo.prototype.subscribe=function(f,d,y){return this._subscribe(f&&typeof f!="function"?f:{next:f,error:d,complete:y})},Fo.prototype[Tr]=function(){return this},Fo);function Fo(f){this._subscribe=f}try{vs={indexedDB:c.indexedDB||c.mozIndexedDB||c.webkitIndexedDB||c.msIndexedDB,IDBKeyRange:c.IDBKeyRange||c.webkitIDBKeyRange}}catch{vs={indexedDB:null,IDBKeyRange:null}}function Wu(f){var d,y=!1,E=new Ju(function(S){var R=q(f),I,L=!1,F={},K={},J={get closed(){return L},unsubscribe:function(){L||(L=!0,I&&I.abort(),B&&Rn.storagemutated.unsubscribe(G))}};S.start&&S.start(J);var B=!1,te=function(){return Ir(X)},G=function(Z){u(F,Z),x(K,F)&&te()},X=function(){var Z,W,se;!L&&vs.indexedDB&&(F={},Z={},I&&I.abort(),I=new AbortController,se=(function(he){var ye=ar();try{R&&nn();var xe=Ht(f,he);return xe=R?xe.finally(Kn):xe}finally{ye&&Cr()}})(W={subscr:Z,signal:I.signal,requery:te,querier:f,trans:null}),Promise.resolve(se).then(function(he){y=!0,d=he,L||W.signal.aborted||(F={},(function(ye){for(var xe in ye)if(N(ye,xe))return;return 1})(K=Z)||B||(Rn(kr,G),B=!0),Ir(function(){return!L&&S.next&&S.next(he)}))},function(he){y=!1,["DatabaseClosedError","AbortError"].includes(he?.name)||L||Ir(function(){L||S.error&&S.error(he)})}))};return setTimeout(te,0),J});return E.hasValue=function(){return y},E.getValue=function(){return d},E}var Mi=Ca;function ql(f){var d=hi;try{hi=!0,Rn.storagemutated.fire(f),Me(f,!0)}finally{hi=d}}O(Mi,s(s({},On),{delete:function(f){return new Mi(f,{addons:[]}).delete()},exists:function(f){return new Mi(f,{addons:[]}).open().then(function(d){return d.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(f){try{return d=Mi.dependencies,y=d.indexedDB,d=d.IDBKeyRange,(Lr(y)?Promise.resolve(y.databases()).then(function(E){return E.map(function(S){return S.name}).filter(function(S){return S!==ii})}):ds(y,d).toCollection().primaryKeys()).then(f)}catch{return It(new Oe.MissingAPI)}var d,y},defineClass:function(){return function(f){b(this,f)}},ignoreTransaction:function(f){return ze.trans?$n(ze.transless,f):f()},vip:ms,async:function(f){return function(){try{var d=Ct(f.apply(this,arguments));return d&&typeof d.then=="function"?d:ke.resolve(d)}catch(y){return It(y)}}},spawn:function(f,d,y){try{var E=Ct(f.apply(y,d||[]));return E&&typeof E.then=="function"?E:ke.resolve(E)}catch(S){return It(S)}},currentTransaction:{get:function(){return ze.trans||null}},waitFor:function(f,d){return d=ke.resolve(typeof f=="function"?Mi.ignoreTransaction(f):f).timeout(d||6e4),ze.trans?ze.trans.waitFor(d):d},Promise:ke,debug:{get:function(){return wn},set:function(f){Po(f)}},derive:oe,extend:b,props:O,override:pe,Events:na,on:Rn,liveQuery:Wu,extendObservabilitySet:u,getByKeyPath:Ge,setByKeyPath:k,delByKeyPath:function(f,d){typeof d=="string"?k(f,d,void 0):"length"in d&&[].map.call(d,function(y){k(f,y,void 0)})},shallowClone:M,deepClone:V,getObjectDiff:Br,cmp:mt,asap:Ke,minKey:-1/0,addons:[],connections:xa,errnames:rt,dependencies:vs,cache:T,semVer:"4.2.1",version:"4.2.1".split(".").map(function(f){return parseInt(f)}).reduce(function(f,d,y){return f+d/Math.pow(10,2*y)})})),Mi.maxKey=Ka(Mi.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Rn(kr,function(f){hi||(f=new CustomEvent(Er,{detail:f}),hi=!0,dispatchEvent(f),hi=!1)}),addEventListener(Er,function(f){f=f.detail,hi||ql(f)}));var _s,hi=!1,pr=function(){};return typeof BroadcastChannel<"u"&&((pr=function(){(_s=new BroadcastChannel(Er)).onmessage=function(f){return f.data&&ql(f.data)}})(),typeof _s.unref=="function"&&_s.unref(),Rn(kr,function(f){hi||_s.postMessage(f)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(f){if(!Ca.disableBfCache&&f.persisted){wn&&console.debug("Dexie: handling persisted pagehide"),_s?.close();for(var d=0,y=xa;d<y.length;d++)y[d].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(f){!Ca.disableBfCache&&f.persisted&&(wn&&console.debug("Dexie: handling persisted pageshow"),pr(),ql({all:new Nn(-1/0,[[]])}))})),ke.rejectionMapper=function(f,d){return!f||f instanceof je||f instanceof TypeError||f instanceof SyntaxError||!f.name||!hn[f.name]?f:(d=new hn[f.name](d||f.message,f),"stack"in f&&le(d,"stack",{get:function(){return this.inner.stack}}),d)},Po(wn),s(Ca,Object.freeze({__proto__:null,Dexie:Ca,liveQuery:Wu,Entity:no,cmp:mt,PropModification:Mr,replacePrefix:function(f,d){return new Mr({replacePrefix:[f,d]})},add:function(f){return new Mr({add:f})},remove:function(f){return new Mr({remove:f})},default:Ca,RangeSet:Nn,mergeRanges:zr,rangesOverlap:Jn}),{default:Ca}),Ca})})(df)),df.exports}var RN=AN();const Dm=Im(RN),i_=Symbol.for("Dexie"),Cl=globalThis[i_]||(globalThis[i_]=Dm);if(Dm.semVer!==Cl.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Dm.semVer} and ${Cl.semVer}`);const{liveQuery:oC,mergeRanges:lC,rangesOverlap:uC,RangeSet:cC,cmp:fC,Entity:hC,PropModification:dC,replacePrefix:mC,add:pC,remove:gC,DexieYProvider:yC}=Cl;function NN(a,t,r){var s,l;typeof a=="function"?(s=t||[],l=r):(s=[],l=t);var c=To.useRef({hasResult:!1,result:l,error:null}),p=To.useReducer(function(v){return v+1},0);p[0];var _=p[1],b=To.useMemo(function(){var v=typeof a=="function"?a():a;if(!v||typeof v.subscribe!="function")throw a===v?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!c.current.hasResult&&typeof window<"u"&&(typeof v.hasValue!="function"||v.hasValue()))if(typeof v.getValue=="function")c.current.result=v.getValue(),c.current.hasResult=!0;else{var A=v.subscribe(function(N){c.current.result=N,c.current.hasResult=!0});typeof A=="function"?A():A.unsubscribe()}return v},s);if(To.useDebugValue(c.current.result),To.useEffect(function(){var v=b.subscribe(function(A){var N=c.current;(N.error!==null||N.result!==A)&&(N.error=null,N.result=A,N.hasResult=!0,_())},function(A){var N=c.current;N.error!==A&&(N.error=A,_())});return typeof v=="function"?v:v.unsubscribe.bind(v)},s),c.current.error)throw c.current.error;return c.current.result}function Ar(a,t,r){return NN(function(){return Cl.liveQuery(a)},t||[],r)}typeof FinalizationRegistry<"u"&&new FinalizationRegistry(function(a){var t=Cl.DexieYProvider;t&&t.release(a)});const Fe=new Cl("SPFamilyVenturesDB");Fe.version(6).stores({settings:"++id",customers:"++id, name, email",products:"++id, name",sales:"++id, customerId, date",users:"++id, username",vendors:"++id, name, email",vendor_purchases:"++id",payments:"++id, customerId, date"});["customers","products","sales","settings","users","vendors","vendor_purchases","payments"].forEach(a=>{Fe[a].hook("creating",function(t,r,s){this.onsuccess=function(l){s_(a,{...r,id:l})}}),Fe[a].hook("updating",function(t,r,s,l){const c={...s,...t,id:r};s_(a,c)}),Fe[a].hook("deleting",function(t,r,s){jN(a,t)})});Fe.on("populate",()=>{Fe.settings.add({companyName:"SP FAMILY VENTURES EST ENTERPRISE",regNum:"(002905563-H)",desc1:"PEMBORONG AYAM HIDUP / AYAM PROSES",desc2:"AYAM DAGING(BROILER), AYAM KAMPUNG & AYAM TUA (TELOR)",contact:"H/P (012)627-3691",logoLeft:null,logoRight:null}),Fe.users.add({username:"svanathan75",password:"sp1234"})});Fe.on("ready",async()=>{try{await Fe.users.count()===0&&(await Fe.users.add({username:"svanathan75",password:"sp1234"}),console.log("Default user seeded via ready hook"))}catch(a){console.error("Error checking/seeding users:",a)}});function Sp(){return Ar(()=>Fe.settings.toArray())?.[0]||{}}const CN=["customers","products","sales","settings","vendors","vendor_purchases","payments"],DN=async a=>{const t=E1(f1(nh,a));return N1(t,async s=>{const l=s.docChanges();l.length!==0&&(await Fe.transaction("rw",Fe[a],async()=>{for(const c of l){const p=c.doc.data();p.id=parseInt(c.doc.id)||c.doc.id,c.type==="added"||c.type==="modified"?await Fe[a].put(p):c.type==="removed"&&await Fe[a].delete(p.id)}}),console.log(`Synced ${l.length} changes for ${a} from Cloud.`))})},IN=async()=>{const a=[];for(const t of CN){const r=await DN(t);a.push(r)}return()=>a.forEach(t=>t())},s_=async(a,t)=>{try{const r=vp(nh,a,String(t.id));await A1(r,t),console.log(`Pushed ${a}/${t.id} to Cloud.`)}catch(r){console.error("Failed to push to cloud:",r)}},jN=async(a,t)=>{try{await R1(vp(nh,a,String(t))),console.log(`Deleted ${a}/${t} from Cloud.`)}catch(r){console.error("Failed to delete from cloud:",r)}};function ON(){const a=ns();ae.useEffect(()=>{const r=IN();return()=>{r.then(s=>s&&s())}},[]);const t=[{path:"/",icon:Ww,label:"Sales"},{path:"/products",icon:gf,label:"Products"},{path:"/customers",icon:yf,label:"Customers"},{path:"/reports",icon:qm,label:"Reports"},{path:"/settings",icon:gT,label:"Settings"}];return g.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 print:h-auto print:block",children:[g.jsx("main",{className:"flex-1 overflow-y-auto pb-20 print:pb-0 print:h-auto print:overflow-visible",children:g.jsx(E_,{})}),g.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2 flex justify-around items-center z-50 no-print",children:t.map(r=>{const s=r.icon,l=a.pathname===r.path;return g.jsxs(Pf,{to:r.path,className:AT("flex flex-col items-center p-2 rounded-lg transition-colors",l?"text-blue-600":"text-gray-500 hover:text-gray-900"),children:[g.jsx(s,{size:24}),g.jsx("span",{className:"text-xs mt-1 font-medium",children:r.label})]},r.path)})})]})}function MN(a,t={}){const r={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:"Asia/Kuala_Lumpur",hour12:!1,...t};return new Intl.DateTimeFormat("en-MY",r).format(a)}function La(a){const t=new Date(a.toLocaleString("en-US",{timeZone:"Asia/Kuala_Lumpur"})),r=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),l=String(t.getDate()).padStart(2,"0");return`${r}-${s}-${l}`}const VN=[{name:"KANTIN (PARKLAND)",contact:"0176335879",email:"",address:"",id:6},{name:"Kantin Empire Code Parkland",contact:"0165105419",email:"",address:"",id:7},{name:"Kantin Hossain Ali (KJawa)",contact:"0189554212",email:"",address:"",id:8},{name:"Kantin KALAM (Telok Gong)",contact:"0163040557",email:"",address:"",id:9},{name:"KANTIN KEBUN CLC ",contact:"01139307848",email:"",address:"Jln Johan Setia",id:10},{name:"Kantin Wafiq(TelokGong)",contact:"0183703384",email:"",address:"",id:11},{name:"Kantin2 Telok Gong",contact:"0173285626",email:"",address:"",id:12},{name:"KEDAI AYAM ECONSAVE (KANNAN)",contact:"01137654211",email:"",address:"",id:13},{name:"KEDAI AYAM PAMAKO",contact:"0136774960",email:"",address:"",id:14},{name:"KEDAI AYAM PANDIAN",contact:"0163567484",email:"",address:"",id:15},{name:"KEDAI AYAM PRAKASH",contact:"0124560655",email:"",address:"",id:16},{name:"KEDAI AYAM YAZID",contact:"0182166964",email:"",address:"",id:17},{name:"KANTIN MAKAN Abdullah ",contact:"0175783216",email:"",address:"Jln Universiti",id:18},{name:"KEDAI MAKAN IMRAN (GARDENIA)",contact:"001141164909",email:"",address:"",id:19},{name:"KEDAI MAKAN MEENA'S",contact:"0169643450",email:"",address:"",id:20},{name:"KEDAI MASAK Hossain (BT.8 )",contact:"+8801709143499",email:"",address:"",id:21},{name:"Kedai NK WIN ENTERPRISE",contact:"0102531902",email:"",address:"",id:22},{name:"KEDAI RUNCIT 100PLUS",contact:"01111935575",email:"",address:"",id:23},{name:"KEDAI RUNCIT B.PUTERA",contact:"0109657446",email:"",address:"",id:24},{name:"KEDAI RUNCIT DHESIGA",contact:"0162743503",email:"",address:"",id:25},{name:"KEDAI RUNCIT FORID (JLN GAMBUT)",contact:"+8801889111881",email:"",address:"",id:26},{name:"KEDAI RUNCIT MERANTI NIL",contact:"0183910436",email:"",address:"",id:27},{name:"KEDAI RUNCIT SOFIQ BT.8",contact:"01112219170",email:"",address:"",id:28},{name:"KEDAI RUNCIT W.Z LEGACY",contact:"0102652140",email:"",address:"",id:29},{name:"Kedai SJ FRESHMART",contact:"0129022533",email:"",address:"",id:30},{name:"PASAR MINI AROMA SUPERMART",contact:"01133798249",email:"",address:"",id:31},{name:"PASAR MINI SHBBIR",contact:"0149159733",email:"",address:"",id:32},{name:"PASAR MINI SR SMA",contact:"0169368535",email:"",address:"",id:33},{name:"PasarMini Berjaya(Wafiq)",contact:"0183703354",email:"",address:"",id:34},{name:"PasarMini SubangMas(Wafiq)",contact:"0183703354",email:"",address:"",id:35}],kN=[{name:"Ayam Putih (H)",price:8.6,id:8},{name:"Ayam Putih (P)",price:8.9,id:9},{name:"Ayam Gajah (H)",price:25,id:10},{name:"Ayam Tua (H)",price:6.8,id:11},{name:"Ayam Kpg Jantan (H",price:11.3,id:12},{name:"Ayam Kpg Betina (H)",price:10.5,id:13}],PN="/spfamilyventuresbook/assets/logo_company-dgHSd-ed.jpg",LN="/spfamilyventuresbook/assets/logo_poultry-RsWDEZrg.jpg",zN=VN,UN=kN.map(a=>({...a,unit:a.unit||"Kg"})),BN={id:1,companyName:"SP Family Venture EST Enterprise",regNum:"(002905563-H)",desc1:"PEMBORONG AYAM HIDUP / AYAM SEGAR (PROSES)",desc2:"AYAM DAGING (BROILER), AYAM KAMPUNG & AYAM TUA (TELOR)",contact:"H/P (012)627-3691 (Mr.SELVA)",logoLeft:PN,logoRight:LN,invoiceStart:1e4},C1=async()=>{try{const a=await Fe.customers.count(),t=await Fe.products.count();if(await Fe.settings.put(BN),a>0||t>0)return console.log("Database already has data. Skipping seed."),{success:!1,message:"Database already contains data. Settings updated."};await Fe.customers.bulkAdd(zN),await Fe.products.bulkAdd(UN);const r=await Fe.customers.toArray(),s=await Fe.products.toArray(),l=[],c=new Date;for(let p=0;p<15;p++){const _=new Date(c);_.setDate(c.getDate()-Math.floor(Math.random()*7));const b=r[Math.floor(Math.random()*r.length)],v=Math.floor(Math.random()*3)+1,A=[];let N=0;for(let O=0;O<v;O++){const H=s[Math.floor(Math.random()*s.length)],le=Math.floor(Math.random()*10)+1,oe=le*H.price;A.push({productId:H.id,qty:le,unit:H.unit,price:H.price}),N+=oe}l.push({date:_.toISOString().split("T")[0],customerId:b.id,items:A,subtotal:N,prevBalance:0,memo:"",grandTotal:N})}return await Fe.sales.bulkAdd(l),{success:!0,message:"Sample data and logos added successfully!"}}catch(a){return console.error("Error seeding database:",a),{success:!1,message:"Failed to seed data."}}},o_=async()=>{try{return await Fe.delete(),await Fe.open(),{success:!0,message:"Database cleared and reset."}}catch(a){return console.error("Error clearing database:",a),{success:!1,message:"Failed to clear database."}}};function qN(){const a=Ol(),t=Sp(),[r,s]=ae.useState({todaySales:0,totalSales:0,todayVendorBills:0,dailyProfit:0,customerCount:0,productCount:0}),[l,c]=ae.useState([]),[p,_]=ae.useState(!1),b=Ar(()=>Fe.customers.toArray()),v=Ar(()=>Fe.products.toArray()),A=Ar(()=>Fe.sales.toArray());ae.useEffect(()=>{if(A&&b&&v){const H=La(new Date),le=A.filter(ce=>ce.date===H).reduce((ce,re)=>ce+(re.subtotal||0),0),oe=A.reduce((ce,re)=>ce+(re.subtotal||0),0);s({todaySales:le,totalSales:oe,customerCount:b.length,productCount:v.length});const ee=[...A].sort((ce,re)=>new Date(re.date)-new Date(ce.date)).slice(0,5);c(ee)}},[A,b,v]);const N=async()=>{if(confirm("This will populate the database with sample data. Continue?")){_(!0);const H=await C1();alert(H.message),_(!1)}},O=H=>b?.find(le=>le.id===H)?.name||"Unknown";return g.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[g.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white p-8 pb-32",children:g.jsxs("div",{className:"max-w-5xl mx-auto",children:[g.jsxs("div",{className:"flex justify-between items-center mb-8",children:[g.jsxs("div",{className:"flex items-center gap-5",children:[t.logoLeft&&g.jsx("div",{className:"w-20 h-20 bg-white/10 backdrop-blur-sm rounded-2xl p-2 border border-white/20 shadow-xl flex items-center justify-center",children:g.jsx("img",{src:t.logoLeft,alt:"Logo",className:"w-full h-full object-contain drop-shadow-md"})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white drop-shadow-sm",children:t.companyName||"Welcome Back!"}),g.jsx("p",{className:"text-blue-100 mt-1 font-medium opacity-90",children:"Dashboard Overview"})]})]}),g.jsx("div",{className:"text-right hidden md:block",children:g.jsx("p",{className:"text-2xl font-bold",children:MN(new Date)})})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/20",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx("div",{className:"p-2 bg-green-400/20 rounded-lg",children:g.jsx(zm,{size:20,className:"text-green-300"})}),g.jsx("span",{className:"text-blue-100 text-sm font-medium",children:"Today's Sales"})]}),g.jsxs("p",{className:"text-2xl font-bold",children:["RM ",r.todaySales.toFixed(2)]})]}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/20",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx("div",{className:"p-2 bg-blue-400/20 rounded-lg",children:g.jsx(qm,{size:20,className:"text-blue-300"})}),g.jsx("span",{className:"text-blue-100 text-sm font-medium",children:"Total Revenue"})]}),g.jsxs("p",{className:"text-2xl font-bold",children:["RM ",r.totalSales.toFixed(2)]})]}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/20",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx("div",{className:"p-2 bg-purple-400/20 rounded-lg",children:g.jsx(yf,{size:20,className:"text-purple-300"})}),g.jsx("span",{className:"text-blue-100 text-sm font-medium",children:"Customers"})]}),g.jsx("p",{className:"text-2xl font-bold",children:r.customerCount})]}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/20",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx("div",{className:"p-2 bg-orange-400/20 rounded-lg",children:g.jsx(gf,{size:20,className:"text-orange-300"})}),g.jsx("span",{className:"text-blue-100 text-sm font-medium",children:"Products"})]}),g.jsx("p",{className:"text-2xl font-bold",children:r.productCount})]})]})]})}),g.jsxs("div",{className:"max-w-5xl mx-auto px-4 -mt-24",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[g.jsxs("button",{onClick:()=>a("/sales/new"),className:"bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1 flex flex-col items-center text-center group",children:[g.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center mb-4 group-hover:bg-blue-100 transition-colors",children:g.jsx(Hw,{size:32,className:"text-blue-600"})}),g.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"New Sale"}),g.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Create a new invoice for a customer"})]}),g.jsxs("button",{onClick:()=>a("/customers"),className:"bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1 flex flex-col items-center text-center group",children:[g.jsx("div",{className:"w-16 h-16 bg-purple-50 rounded-full flex items-center justify-center mb-4 group-hover:bg-purple-100 transition-colors",children:g.jsx(yf,{size:32,className:"text-purple-600"})}),g.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Manage Customers"}),g.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Add or edit customer details"})]}),g.jsxs("button",{onClick:()=>a("/products"),className:"bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1 flex flex-col items-center text-center group",children:[g.jsx("div",{className:"w-16 h-16 bg-orange-50 rounded-full flex items-center justify-center mb-4 group-hover:bg-orange-100 transition-colors",children:g.jsx(gf,{size:32,className:"text-orange-600"})}),g.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Inventory"}),g.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Manage products and pricing"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[g.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[g.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Recent Sales"}),g.jsxs("button",{onClick:()=>a("/sales"),className:"text-blue-600 text-sm font-medium hover:underline flex items-center gap-1",children:["View All ",g.jsx(Uw,{size:16})]})]}),g.jsx("div",{className:"divide-y divide-gray-50",children:l.length>0?l.map(H=>g.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center text-gray-500",children:g.jsx(qw,{size:18})}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium text-gray-800",children:O(H.customerId)}),g.jsxs("p",{className:"text-xs text-gray-500",children:[La(new Date(H.date)),H.memo&&g.jsxs("span",{className:"ml-2 italic text-gray-400",children:["- ",H.memo]})]})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("p",{className:"font-bold text-gray-800",children:["RM ",(H.grandTotal||0).toFixed(2)]}),g.jsxs("p",{className:"text-xs text-gray-500",children:["Inv #",H.id]})]})]},H.id)):g.jsx("div",{className:"p-8 text-center text-gray-500",children:"No sales found. Start by creating a new sale!"})})]}),g.jsxs("div",{className:"space-y-6",children:[r.customerCount===0&&r.productCount===0&&g.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-blue-50 rounded-xl p-6 border border-blue-100",children:[g.jsx("h3",{className:"font-bold text-indigo-900 mb-2",children:"New here?"}),g.jsx("p",{className:"text-sm text-indigo-700 mb-4",children:"Populate your database with sample data to see how the app looks and feels."}),g.jsxs("button",{onClick:N,disabled:p,className:"w-full py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2",children:[g.jsx(of,{size:18}),p?"Seeding...":"Load Sample Data"]})]}),g.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[g.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Quick Links"}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("button",{onClick:()=>a("/settings"),className:"w-full text-left px-4 py-2 rounded-lg hover:bg-gray-50 text-gray-600 font-medium text-sm transition-colors",children:"Company Settings"}),g.jsx("button",{onClick:()=>a("/sales"),className:"w-full text-left px-4 py-2 rounded-lg hover:bg-gray-50 text-gray-600 font-medium text-sm transition-colors",children:"Sales History"})]})]})]})]})]})]})}const FN="modulepreload",HN=function(a){return"/spfamilyventuresbook/"+a},l_={},u_=function(t,r,s){let l=Promise.resolve();if(r&&r.length>0){let v=function(A){return Promise.all(A.map(N=>Promise.resolve(N).then(O=>({status:"fulfilled",value:O}),O=>({status:"rejected",reason:O}))))};var p=v;document.getElementsByTagName("link");const _=document.querySelector("meta[property=csp-nonce]"),b=_?.nonce||_?.getAttribute("nonce");l=v(r.map(A=>{if(A=HN(A),A in l_)return;l_[A]=!0;const N=A.endsWith(".css"),O=N?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${O}`))return;const H=document.createElement("link");if(H.rel=N?"stylesheet":FN,N||(H.as="script"),H.crossOrigin="",H.href=A,b&&H.setAttribute("nonce",b),document.head.appendChild(H),N)return new Promise((le,oe)=>{H.addEventListener("load",le),H.addEventListener("error",()=>oe(new Error(`Unable to preload CSS for ${A}`)))})}))}function c(_){const b=new Event("vite:preloadError",{cancelable:!0});if(b.payload=_,window.dispatchEvent(b),!b.defaultPrevented)throw _}return l.then(_=>{for(const b of _||[])b.status==="rejected"&&c(b.reason);return t().catch(c)})},KN=async()=>{try{const a=await Fe.customers.toArray(),t=await Fe.products.toArray(),r=await Fe.sales.toArray(),s=await Fe.settings.toArray(),l={version:1,timestamp:new Date().toISOString(),customers:a,products:t,sales:r,settings:s},c=new Blob([JSON.stringify(l,null,2)],{type:"application/json"}),p=URL.createObjectURL(c),_=document.createElement("a");return _.href=p,_.download=`sp_sales_backup_${La(new Date)}.json`,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(p),{success:!0,message:"Backup exported successfully."}}catch(a){return console.error("Export failed:",a),{success:!1,message:"Failed to export backup."}}},GN=async a=>new Promise((t,r)=>{const s=new FileReader;s.onload=async l=>{try{const c=JSON.parse(l.target.result);if(!c.customers||!c.products||!c.sales)throw new Error("Invalid backup file format.");await Fe.transaction("rw",Fe.customers,Fe.products,Fe.sales,Fe.settings,async()=>{c.customers.length&&await Fe.customers.bulkPut(c.customers),c.products.length&&await Fe.products.bulkPut(c.products),c.sales.length&&await Fe.sales.bulkPut(c.sales),c.settings&&c.settings.length&&await Fe.settings.bulkPut(c.settings)}),t({success:!0,message:"Backup imported successfully."})}catch(c){console.error("Import failed:",c),t({success:!1,message:"Failed to import backup. Invalid file."})}},s.onerror=()=>{t({success:!1,message:"Failed to read file."})},s.readAsText(a)}),D1=ae.createContext(null),QN=({children:a})=>{const[t,r]=ae.useState(null),[s,l]=ae.useState(!0);ae.useEffect(()=>{const b=localStorage.getItem("user");b&&r(JSON.parse(b)),l(!1)},[]);const c=async(b,v)=>{try{const A=await Fe.users.where("username").equals(b).first();if(A&&A.password===v){const N={id:A.id,username:A.username};return r(N),localStorage.setItem("user",JSON.stringify(N)),{success:!0}}return{success:!1,message:"Invalid username or password"}}catch(A){return console.error("Login error:",A),{success:!1,message:"Login failed"}}},p=()=>{r(null),localStorage.removeItem("user")},_=async b=>{if(!t)return{success:!1,message:"Not logged in"};try{return await Fe.users.update(t.id,{password:b}),{success:!0,message:"Password updated successfully"}}catch(v){return console.error("Update password error:",v),{success:!1,message:"Failed to update password"}}};return g.jsx(D1.Provider,{value:{user:t,login:c,logout:p,updatePassword:_,loading:s},children:!s&&a})},Ap=()=>ae.useContext(D1);function YN(){const a=Sp(),[t,r]=ae.useState({}),[s,l]=ae.useState(""),{user:c,updatePassword:p,logout:_}=Ap(),[b,v]=ae.useState(""),[A,N]=ae.useState("");ae.useEffect(()=>{a.id&&!t.id&&r(a)},[a,t.id]);const O=oe=>{const{name:ee,value:ce}=oe.target;r(re=>({...re,[ee]:ce}))},H=async(oe,ee)=>{const ce=oe.target.files[0];if(ce){const re=new FileReader;re.onloadend=()=>{r(pe=>({...pe,[ee]:re.result}))},re.readAsDataURL(ce)}},le=async oe=>{oe.preventDefault();try{t.id&&(await Fe.settings.put(t),l("Settings saved successfully!"),setTimeout(()=>l(""),3e3))}catch(ee){console.error("Failed to save settings:",ee),l("Error saving settings.")}};return t.id?g.jsxs("div",{className:"p-4 max-w-lg mx-auto pb-24",children:[g.jsx("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Company Settings"}),g.jsxs("form",{onSubmit:le,className:"space-y-4",children:[g.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 space-y-3",children:[g.jsx("h2",{className:"font-semibold text-gray-700 mb-2",children:"Company Details"}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Company Name"}),g.jsx("input",{type:"text",name:"companyName",value:t.companyName||"",onChange:O,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 outline-none"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Registration Number"}),g.jsx("input",{type:"text",name:"regNum",value:t.regNum||"",onChange:O,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 outline-none"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Description Line 1"}),g.jsx("input",{type:"text",name:"desc1",value:t.desc1||"",onChange:O,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 outline-none"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Description Line 2"}),g.jsx("input",{type:"text",name:"desc2",value:t.desc2||"",onChange:O,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 outline-none"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Contact Info"}),g.jsx("input",{type:"text",name:"contact",value:t.contact||"",onChange:O,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 outline-none"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Invoice Start Number"}),g.jsx("input",{type:"number",name:"invoiceStart",value:t.invoiceStart||"",onChange:O,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g. 10000"})]})]}),g.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 space-y-4",children:[g.jsx("h2",{className:"font-semibold text-gray-700 mb-2",children:"Logos"}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Left Logo (Company)"}),g.jsxs("div",{className:"relative border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:bg-gray-50 transition-colors",children:[t.logoLeft?g.jsx("img",{src:t.logoLeft,alt:"Left Logo",className:"h-20 mx-auto object-contain mb-2"}):g.jsx("div",{className:"h-20 flex items-center justify-center text-gray-400",children:"No Logo"}),g.jsxs("label",{className:"cursor-pointer block",children:[g.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Change"}),g.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:oe=>H(oe,"logoLeft")})]})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Right Logo (Poultry)"}),g.jsxs("div",{className:"relative border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:bg-gray-50 transition-colors",children:[t.logoRight?g.jsx("img",{src:t.logoRight,alt:"Right Logo",className:"h-20 mx-auto object-contain mb-2"}):g.jsx("div",{className:"h-20 flex items-center justify-center text-gray-400",children:"No Logo"}),g.jsxs("label",{className:"cursor-pointer block",children:[g.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Change"}),g.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:oe=>H(oe,"logoRight")})]})]})]})]})]}),g.jsxs("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold shadow-md hover:bg-blue-700 flex items-center justify-center gap-2",children:[g.jsx(D_,{size:20}),"Save Settings"]}),s&&g.jsx("div",{className:`text-center p-2 rounded ${s.includes("Error")?"text-red-600 bg-red-50":"text-green-600 bg-green-50"}`,children:s})]}),g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-8 mt-8",children:[g.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[g.jsx(j_,{size:24,className:"text-blue-600"}),"User Profile"]}),g.jsx("div",{className:"space-y-4",children:g.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm text-gray-500",children:"Logged in as"}),g.jsx("p",{className:"font-bold text-gray-900",children:c?.username})]}),g.jsx("button",{onClick:_,className:"text-sm text-red-600 hover:text-red-800 font-medium",children:"Sign Out"})]}),g.jsxs("div",{className:"border-t pt-4",children:[g.jsxs("h3",{className:"font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[g.jsx(C_,{size:16})," Change Password"]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"password",placeholder:"New Password",value:b,onChange:oe=>v(oe.target.value),className:"flex-1 p-2 border rounded-md text-sm"}),g.jsx("button",{onClick:async()=>{if(!b)return;const oe=await p(b);N(oe.message),oe.success&&v(""),setTimeout(()=>N(""),3e3)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700",children:"Update"})]}),A&&g.jsx("p",{className:`text-xs mt-2 ${A.includes("Failed")?"text-red-600":"text-green-600"}`,children:A})]})]})})]}),g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-8",children:[g.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[g.jsx(of,{size:24,className:"text-blue-600"}),"Data Management"]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-100",children:[g.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Backup & Restore"}),g.jsx("p",{className:"text-sm text-blue-700 mb-4",children:"Save your data to a file or restore from a backup. Use this to move data between devices."}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[g.jsxs("button",{onClick:async()=>{const oe=await KN();alert(oe.message)},className:"flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[g.jsx(Um,{size:18})," Export Data"]}),g.jsxs("label",{className:"flex items-center justify-center gap-2 px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:[g.jsx(Fm,{size:18})," Import Data",g.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:async oe=>{if(oe.target.files?.[0]&&confirm("This will merge the backup data with your current data. Continue?")){const ee=await GN(oe.target.files[0]);alert(ee.message),ee.success&&window.location.reload()}}})]})]})]}),g.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-100",children:[g.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:"Cloud Sync Status"}),g.jsx("p",{className:"text-sm text-green-700 mb-4",children:"Check if your device can connect to the cloud database."}),g.jsxs("button",{onClick:async()=>{try{const{doc:oe,setDoc:ee}=await u_(async()=>{const{doc:re,setDoc:pe}=await Promise.resolve().then(()=>xN);return{doc:re,setDoc:pe}},[]),{db:ce}=await u_(async()=>{const{db:re}=await Promise.resolve().then(()=>TN);return{db:re}},void 0);await ee(oe(ce,"_connection_test","test"),{timestamp:new Date().toISOString(),device:navigator.userAgent}),alert("Connection Successful! Cloud sync is working.")}catch(oe){console.error(oe),alert("Connection Failed: "+oe.message+`

Please check your Firestore Rules in the Firebase Console.`)}},className:"flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[g.jsx(of,{size:18})," Test Connection"]})]})]})]}),g.jsxs("div",{className:"mt-12 border-t pt-8",children:[g.jsx("h2",{className:"text-lg font-bold text-red-600 mb-4",children:"Danger Zone"}),g.jsxs("button",{onClick:async()=>{if(confirm("WARNING: This will delete ALL data (customers, products, sales). This action cannot be undone. Are you sure?")){const oe=await o_();alert(oe.message)}},className:"w-full bg-red-50 text-red-600 border border-red-200 py-3 rounded-lg font-semibold hover:bg-red-100 flex items-center justify-center gap-2 mb-3",children:[g.jsx(xl,{size:20}),"Clear All Data"]}),g.jsxs("button",{onClick:async()=>{if(confirm("WARNING: This will delete ALL data (customers, products, sales) and replace it with sample data. Are you sure?")){await o_();const oe=await C1();alert(oe.message)}},className:"w-full bg-red-50 text-red-600 border border-red-200 py-3 rounded-lg font-semibold hover:bg-red-100 flex items-center justify-center gap-2",children:[g.jsx(of,{size:20}),"Reset & Seed Sample Data"]})]})]}):g.jsx("div",{className:"p-4",children:"Loading settings..."})}function XN(){const a=Ar(()=>Fe.products.toArray()),[t,r]=ae.useState(!1),[s,l]=ae.useState(null),[c,p]=ae.useState(""),_=ae.useRef(null),[b,v]=ae.useState({name:"",price:""}),A=(ce=null)=>{ce?(l(ce),v({name:ce.name,price:ce.price})):(l(null),v({name:"",price:""})),r(!0)},N=()=>{r(!1),l(null)},O=async ce=>{ce.preventDefault();try{s?await Fe.products.update(s.id,{name:b.name,price:parseFloat(b.price)}):await Fe.products.add({name:b.name,price:parseFloat(b.price)}),N()}catch(re){console.error("Failed to save product:",re),alert("Error saving product")}},H=async ce=>{window.confirm("Are you sure you want to delete this product?")&&await Fe.products.delete(ce)},le=()=>{const ce=JSON.stringify(a,null,2),re=new Blob([ce],{type:"application/json"}),pe=URL.createObjectURL(re),De=document.createElement("a");De.href=pe,De.download="products_backup.json",document.body.appendChild(De),De.click(),document.body.removeChild(De)},oe=ce=>{const re=ce.target.files[0];if(!re)return;const pe=new FileReader;pe.onload=async De=>{try{const Ke=JSON.parse(De.target.result);Array.isArray(Ke)?(await Fe.products.bulkPut(Ke),alert("Products imported successfully!")):alert("Invalid file format")}catch(Ke){console.error("Import failed:",Ke),alert("Failed to import products")}},pe.readAsText(re),ce.target.value=null},ee=a?.filter(ce=>ce.name.toLowerCase().includes(c.toLowerCase()))||[];return g.jsxs("div",{className:"p-4 pb-24 max-w-4xl mx-auto",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Products"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("button",{onClick:()=>_.current.click(),className:"flex items-center gap-1 px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:[g.jsx(Fm,{size:16})," Import"]}),g.jsx("input",{type:"file",ref:_,className:"hidden",accept:".json",onChange:oe}),g.jsxs("button",{onClick:le,className:"flex items-center gap-1 px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:[g.jsx(Um,{size:16})," Export"]}),g.jsxs("button",{onClick:()=>A(),className:"flex items-center gap-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow-sm",children:[g.jsx(Lf,{size:18})," Add Product"]})]})]}),g.jsxs("div",{className:"relative mb-4",children:[g.jsx(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),g.jsx("input",{type:"text",placeholder:"Search products...",value:c,onChange:ce=>p(ce.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),g.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left min-w-[600px]",children:[g.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-4 py-3 font-medium text-gray-600",children:"Name"}),g.jsx("th",{className:"px-4 py-3 font-medium text-gray-600",children:"Price (RM)"}),g.jsx("th",{className:"px-4 py-3 font-medium text-gray-600 text-right",children:"Actions"})]})}),g.jsxs("tbody",{className:"divide-y divide-gray-100",children:[ee.map(ce=>g.jsxs("tr",{className:"hover:bg-gray-50",children:[g.jsx("td",{className:"px-4 py-3",children:ce.name}),g.jsxs("td",{className:"px-4 py-3",children:["RM ",ce.price?.toFixed(2)]}),g.jsxs("td",{className:"px-4 py-3 text-right space-x-2",children:[g.jsx("button",{onClick:()=>A(ce),className:"text-blue-600 hover:text-blue-800 p-1",children:g.jsx(I_,{size:18})}),g.jsx("button",{onClick:()=>H(ce.id),className:"text-red-600 hover:text-red-800 p-1",children:g.jsx(xl,{size:18})})]})]},ce.id)),ee.length===0&&g.jsx("tr",{children:g.jsx("td",{colSpan:"3",className:"px-4 py-8 text-center text-gray-500",children:"No products found. Add one to get started."})})]})]})}),t&&g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:g.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:[g.jsx("h2",{className:"text-xl font-bold mb-4",children:s?"Edit Product":"Add Product"}),g.jsxs("form",{onSubmit:O,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name"}),g.jsx("input",{type:"text",required:!0,value:b.name,onChange:ce=>v({...b,name:ce.target.value}),className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 outline-none"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price (RM)"}),g.jsx("input",{type:"number",step:"0.01",required:!0,value:b.price,onChange:ce=>v({...b,price:ce.target.value}),className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 outline-none"})]}),g.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[g.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),g.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save"})]})]})]})})]})}function c_(){const a=Ar(()=>Fe.customers.toArray()),t=Ar(()=>Fe.sales.toArray()),r=Ar(()=>Fe.payments.toArray()),[s,l]=ae.useState(!1),[c,p]=ae.useState(!1),[_,b]=ae.useState(null),[v,A]=ae.useState(""),N=ae.useRef(null),[O,H]=ae.useState({name:"",contact:"",email:"",address:""}),[le,oe]=ae.useState({customerId:"",date:La(new Date),amount:"",memo:""}),ee=(j=null)=>{j?(b(j),H({name:j.name,contact:j.contact,email:j.email||"",address:j.address||""})):(b(null),H({name:"",contact:"",email:"",address:""})),l(!0)},ce=()=>{l(!1),b(null)},re=async j=>{j.preventDefault();try{_?await Fe.customers.update(_.id,O):await Fe.customers.add(O),ce()}catch(z){console.error("Failed to save customer:",z),alert("Error saving customer")}},pe=()=>{oe({customerId:"",date:La(new Date),amount:"",memo:""}),p(!0)},De=async j=>{j.preventDefault();try{const z=parseFloat(le.amount);if(!le.customerId){alert("Please select a customer");return}if(isNaN(z)||z<=0){alert("Please enter a valid amount");return}const Y=a.find(at=>String(at.id)===String(le.customerId)),V=Y?Y.id:le.customerId;await Fe.payments.add({customerId:V,date:le.date,amount:z,memo:le.memo}),p(!1),alert("Payment recorded successfully!")}catch(z){console.error("Failed to save payment:",z),alert(`Error saving payment: ${z.message}`)}},Ke=async j=>{window.confirm("Are you sure you want to delete this customer?")&&await Fe.customers.delete(j)},Ge=()=>{const j=JSON.stringify(a,null,2),z=new Blob([j],{type:"application/json"}),Y=URL.createObjectURL(z),V=document.createElement("a");V.href=Y,V.download="customers_backup.json",document.body.appendChild(V),V.click(),document.body.removeChild(V)},k=j=>{const z=j.target.files[0];if(!z)return;const Y=new FileReader;Y.onload=async V=>{try{const at=JSON.parse(V.target.result);Array.isArray(at)?(await Fe.customers.bulkPut(at),alert("Customers imported successfully!")):alert("Invalid file format")}catch(at){console.error("Import failed:",at),alert("Failed to import customers")}},Y.readAsText(z),j.target.value=null},M=j=>{if(!t||!r)return 0;const z=t.filter(dt=>String(dt.customerId)===String(j)),Y=r.filter(dt=>String(dt.customerId)===String(j)),V=z.reduce((dt,$)=>dt+(parseFloat($.grandTotal)||0),0),at=Y.reduce((dt,$)=>dt+(parseFloat($.amount)||0),0);return V-at},P=a?.filter(j=>j.name.toLowerCase().includes(v.toLowerCase())||j.contact.includes(v))||[];return g.jsxs("div",{className:"p-4 pb-24 max-w-5xl mx-auto",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Customers"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("button",{onClick:()=>N.current.click(),className:"flex items-center gap-1 px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:[g.jsx(Fm,{size:16})," Import"]}),g.jsx("input",{type:"file",ref:N,className:"hidden",accept:".json",onChange:k}),g.jsxs("button",{onClick:Ge,className:"flex items-center gap-1 px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:[g.jsx(Um,{size:16})," Export"]}),g.jsxs("button",{onClick:pe,className:"flex items-center gap-1 px-3 py-2 text-sm bg-green-100 text-green-700 rounded-lg hover:bg-green-200",children:[g.jsx(Kv,{size:16})," Receive Payment"]}),g.jsxs("button",{onClick:()=>ee(),className:"flex items-center gap-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow-sm",children:[g.jsx(Lf,{size:18})," Add Customer"]})]})]}),g.jsxs("div",{className:"relative mb-4",children:[g.jsx(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),g.jsx("input",{type:"text",placeholder:"Search customers...",value:v,onChange:j=>A(j.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map(j=>g.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:j.name}),g.jsxs("div",{className:"flex gap-1",children:[g.jsx("button",{onClick:()=>ee(j),className:"text-blue-600 hover:text-blue-800 p-1",children:g.jsx(I_,{size:16})}),g.jsx("button",{onClick:()=>Ke(j.id),className:"text-red-600 hover:text-red-800 p-1",children:g.jsx(xl,{size:16})})]})]}),g.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(uT,{size:14,className:"text-gray-400"}),g.jsx("span",{children:j.contact})]}),j.email&&g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(nT,{size:14,className:"text-gray-400"}),g.jsx("span",{children:j.email})]}),j.address&&g.jsxs("div",{className:"flex items-start gap-2",children:[g.jsx(aT,{size:14,className:"text-gray-400 mt-1"}),g.jsx("span",{className:"flex-1",children:j.address})]}),g.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 flex justify-between items-center",children:[g.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Outstanding:"}),g.jsxs("span",{className:`font-bold ${M(j.id)>0?"text-red-500":"text-green-600"}`,children:["RM ",M(j.id).toFixed(2)]})]})]})]},j.id))}),P.length===0&&g.jsx("div",{className:"text-center py-12 text-gray-500",children:"No customers found. Add one to get started."}),s&&g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:g.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:[g.jsx("h2",{className:"text-xl font-bold mb-4",children:_?"Edit Customer":"Add Customer"}),g.jsxs("form",{onSubmit:re,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),g.jsx("input",{type:"text",required:!0,value:O.name,onChange:j=>H({...O,name:j.target.value}),className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 outline-none"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact No."}),g.jsx("input",{type:"text",required:!0,value:O.contact,onChange:j=>H({...O,contact:j.target.value}),className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 outline-none"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email (Optional)"}),g.jsx("input",{type:"email",value:O.email,onChange:j=>H({...O,email:j.target.value}),className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 outline-none"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address (Optional)"}),g.jsx("textarea",{value:O.address,onChange:j=>H({...O,address:j.target.value}),className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 outline-none",rows:"3"})]}),g.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[g.jsx("button",{type:"button",onClick:ce,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),g.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save"})]})]})]})}),c&&g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:g.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-4 text-green-700",children:[g.jsx(Kv,{size:24}),g.jsx("h2",{className:"text-xl font-bold",children:"Receive Payment"})]}),g.jsxs("form",{onSubmit:De,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer"}),g.jsxs("select",{required:!0,value:le.customerId,onChange:j=>oe({...le,customerId:j.target.value}),className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 outline-none",children:[g.jsx("option",{value:"",children:"Select Customer"}),a?.map(j=>g.jsxs("option",{value:j.id,children:[j.name," (Outstanding: RM ",M(j.id).toFixed(2),")"]},j.id))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),g.jsx("input",{type:"date",required:!0,value:le.date,onChange:j=>oe({...le,date:j.target.value}),className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 outline-none"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount (RM)"}),g.jsxs("div",{className:"relative",children:[g.jsx(zm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),g.jsx("input",{type:"number",step:"0.01",required:!0,value:le.amount,onChange:j=>oe({...le,amount:j.target.value}),className:"w-full pl-10 p-2 border rounded-md focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"0.00"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Memo (Optional)"}),g.jsx("textarea",{value:le.memo,onChange:j=>oe({...le,memo:j.target.value}),className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 outline-none",rows:"2",placeholder:"Payment method, ref no, etc."})]}),g.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[g.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),g.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Save Payment"})]})]})]})})]})}function $N(){const a=Ar(()=>Fe.sales.reverse().toArray()),t=Ar(()=>Fe.customers.toArray()),[r,s]=ae.useState(""),l=Ol(),c=v=>t?.find(A=>A.id===v)?.name||"Unknown Customer",p=v=>v?.reduce((A,N)=>A+(N.discount||0),0)||0,_=a?.filter(v=>{const A=c(v.customerId).toLowerCase(),N=La(new Date(v.date)),O=v.memo?.toLowerCase()||"";return A.includes(r.toLowerCase())||N.includes(r)||O.includes(r.toLowerCase())})||[],b=async v=>{window.confirm("Are you sure you want to delete this sale record?")&&await Fe.sales.delete(v)};return g.jsxs("div",{className:"p-4 pb-24 max-w-6xl mx-auto",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Sales Dashboard"}),g.jsxs(Pf,{to:"/sales/new",className:"flex items-center gap-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow-sm",children:[g.jsx(Lf,{size:18})," New Sale"]})]}),g.jsxs("div",{className:"relative mb-4",children:[g.jsx(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),g.jsx("input",{type:"text",placeholder:"Search by customer, date, or memo...",value:r,onChange:v=>s(v.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),g.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left min-w-[800px]",children:[g.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-4 py-3 font-medium text-gray-600",children:"Date"}),g.jsx("th",{className:"px-4 py-3 font-medium text-gray-600",children:"Customer"}),g.jsx("th",{className:"px-4 py-3 font-medium text-gray-600",children:"Memo"}),g.jsx("th",{className:"px-4 py-3 font-medium text-gray-600 text-right",children:"Discount"}),g.jsx("th",{className:"px-4 py-3 font-medium text-gray-600 text-right",children:"Grand Total"}),g.jsx("th",{className:"px-4 py-3 font-medium text-gray-600 text-right",children:"Actions"})]})}),g.jsxs("tbody",{className:"divide-y divide-gray-100",children:[_.map(v=>g.jsxs("tr",{className:"hover:bg-gray-50",children:[g.jsx("td",{className:"px-4 py-3 text-sm",children:La(new Date(v.date))}),g.jsx("td",{className:"px-4 py-3 font-medium",children:c(v.customerId)}),g.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 italic",children:v.memo||"-"}),g.jsx("td",{className:"px-4 py-3 text-right text-red-500 text-sm",children:p(v.items)>0?`RM ${p(v.items).toFixed(2)}`:"-"}),g.jsxs("td",{className:"px-4 py-3 text-right font-bold text-green-600",children:["RM ",(v.grandTotal||0).toFixed(2)]}),g.jsxs("td",{className:"px-4 py-3 text-right space-x-2",children:[g.jsx("button",{onClick:()=>l(`/sales/${v.id}`),className:"text-blue-600 hover:text-blue-800 p-1",title:"View Invoice",children:g.jsx(Zw,{size:18})}),g.jsx("button",{onClick:()=>b(v.id),className:"text-red-600 hover:text-red-800 p-1",title:"Delete",children:g.jsx(xl,{size:18})})]})]},v.id)),_.length===0&&g.jsx("tr",{children:g.jsx("td",{colSpan:"6",className:"px-4 py-8 text-center text-gray-500",children:"No sales found. Create a new sale to get started."})})]})]})})]})}var mf={exports:{}},ZN=mf.exports,f_;function JN(){return f_||(f_=1,(function(a,t){(function(r,s){a.exports=s(Mf())})(typeof self<"u"?self:ZN,function(r){return(function(){var s={155:function(re){re.exports=r}},l={};function c(re){var pe=l[re];if(pe!==void 0)return pe.exports;var De=l[re]={exports:{}};return s[re](De,De.exports,c),De.exports}c.d=function(re,pe){for(var De in pe)c.o(pe,De)&&!c.o(re,De)&&Object.defineProperty(re,De,{enumerable:!0,get:pe[De]})},c.o=function(re,pe){return Object.prototype.hasOwnProperty.call(re,pe)},c.r=function(re){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(re,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(re,"__esModule",{value:!0})};var p={};c.r(p),c.d(p,{useReactToPrint:function(){return ce}});var _=c(155);const b="printWindow";function v({level:re="error",messages:pe,suppressErrors:De=!1}){De||(re==="error"?console.error(pe):re==="warning"?console.warn(pe):console.debug(pe))}function A(re,pe){if(pe||!re){const De=document.getElementById(b);De&&document.body.removeChild(De)}}function N(re){return re instanceof Error?re:new Error("Unknown Error")}function O(re,pe){const{documentTitle:De,onAfterPrint:Ke,onPrintError:Ge,preserveAfterPrint:k,print:M,suppressErrors:P}=pe;setTimeout(()=>{var j,z;if(re.contentWindow){let V=function(){Ke?.(),A(k)};var Y=V;if(re.contentWindow.focus(),M)M(re).then(V).catch(at=>{Ge?Ge("print",N(at)):v({messages:["An error was thrown by the specified `print` function"],suppressErrors:P})});else{if(re.contentWindow.print){const at=(z=(j=re.contentDocument)===null||j===void 0?void 0:j.title)!==null&&z!==void 0?z:"",dt=re.ownerDocument.title;De&&(re.ownerDocument.title=De,re.contentDocument&&(re.contentDocument.title=De)),re.contentWindow.print(),De&&(re.ownerDocument.title=dt,re.contentDocument&&(re.contentDocument.title=at))}else v({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:P});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(at=>{var dt,$;return(($=(dt=navigator.userAgent)!==null&&dt!==void 0?dt:navigator.vendor)!==null&&$!==void 0?$:"opera"in window&&window.opera).match(at)})?setTimeout(V,500):V()}}else v({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:P})},500)}function H(re){const pe=[],De=document.createTreeWalker(re,NodeFilter.SHOW_ELEMENT,null);let Ke=De.nextNode();for(;Ke;)pe.push(Ke),Ke=De.nextNode();return pe}function le(re,pe,De){const Ke=H(re),Ge=H(pe);if(Ke.length===Ge.length)for(let k=0;k<Ke.length;k++){const M=Ke[k],P=Ge[k],j=M.shadowRoot;if(j!==null){const z=P.attachShadow({mode:j.mode});z.innerHTML=j.innerHTML,le(j,z,De)}}else v({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",re,pe],suppressErrors:De})}const oe=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function ee(re,pe,De,Ke){var Ge,k,M,P,j;const{contentNode:z,clonedContentNode:Y,clonedImgNodes:V,clonedVideoNodes:at,numResourcesToLoad:dt,originalCanvasNodes:$}=De,{bodyClass:Se,fonts:Ae,ignoreGlobalStyles:it,pageStyle:tt,nonce:q,suppressErrors:_e,copyShadowRoots:je}=Ke;re.onload=null;const Re=(Ge=re.contentDocument)!==null&&Ge!==void 0?Ge:(k=re.contentWindow)===null||k===void 0?void 0:k.document;if(Re){const Be=Re.body.appendChild(Y);je&&le(z,Be,!!_e),Ae&&(!((M=re.contentDocument)===null||M===void 0)&&M.fonts&&(!((P=re.contentWindow)===null||P===void 0)&&P.FontFace)?Ae.forEach(Qe=>{const Je=new FontFace(Qe.family,Qe.source,{weight:Qe.weight,style:Qe.style});re.contentDocument.fonts.add(Je),Je.loaded.then(()=>{pe(Je)}).catch(Ft=>{pe(Je,["Failed loading the font:",Je,"Load error:",N(Ft)])})}):(Ae.forEach(Qe=>{pe(Qe)}),v({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:_e})));const $e=tt??oe,rt=Re.createElement("style");q&&(rt.setAttribute("nonce",q),Re.head.setAttribute("nonce",q)),rt.appendChild(Re.createTextNode($e)),Re.head.appendChild(rt),Se&&Re.body.classList.add(...Se.split(" "));const qt=Re.querySelectorAll("canvas");for(let Qe=0;Qe<$.length;++Qe){const Je=$[Qe],Ft=qt[Qe];if(Ft===void 0){v({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",Je],suppressErrors:_e});continue}const yt=Ft.getContext("2d");yt&&yt.drawImage(Je,0,0)}for(let Qe=0;Qe<V.length;Qe++){const Je=V[Qe],Ft=Je.getAttribute("src");if(Ft){const yt=new Image;yt.onload=()=>{pe(Je)},yt.onerror=(zt,on,Yn,Nt,Mt)=>{pe(Je,["Error loading <img>",Je,"Error",Mt])},yt.src=Ft}else pe(Je,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',Je])}for(let Qe=0;Qe<at.length;Qe++){const Je=at[Qe];Je.preload="auto";const Ft=Je.getAttribute("poster");if(Ft){const yt=new Image;yt.onload=()=>{pe(Je)},yt.onerror=(zt,on,Yn,Nt,Mt)=>{pe(Je,["Error loading video poster",Ft,"for video",Je,"Error:",Mt])},yt.src=Ft}else Je.readyState>=2?pe(Je):Je.src?(Je.onloadeddata=()=>{pe(Je)},Je.onerror=(yt,zt,on,Yn,Nt)=>{pe(Je,["Error loading video",Je,"Error",Nt])},Je.onstalled=()=>{pe(Je,["Loading video stalled, skipping",Je])}):pe(Je,["Error loading video, `src` is empty",Je])}const Oe="select",hn=z.querySelectorAll(Oe),On=Re.querySelectorAll(Oe);for(let Qe=0;Qe<hn.length;Qe++)On[Qe].value=hn[Qe].value;if(!it){const Qe=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let Je=0,Ft=Qe.length;Je<Ft;++Je){const yt=Qe[Je];if(yt.tagName.toLowerCase()==="style"){const zt=Re.createElement(yt.tagName),on=yt.sheet;if(on){let Yn="";try{const Nt=on.cssRules.length;for(let Mt=0;Mt<Nt;++Mt)typeof on.cssRules[Mt].cssText=="string"&&(Yn+=`${on.cssRules[Mt].cssText}\r
`)}catch(Nt){v({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",yt,`Original error: ${N(Nt).message}`],level:"warning"})}zt.setAttribute("id",`react-to-print-${Je}`),q&&zt.setAttribute("nonce",q),zt.appendChild(Re.createTextNode(Yn)),Re.head.appendChild(zt)}}else if(yt.getAttribute("href"))if(yt.hasAttribute("disabled"))v({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",yt],level:"warning"}),pe(yt);else{const zt=Re.createElement(yt.tagName);for(let on=0,Yn=yt.attributes.length;on<Yn;++on){const Nt=yt.attributes[on];Nt&&zt.setAttribute(Nt.nodeName,(j=Nt.nodeValue)!==null&&j!==void 0?j:"")}zt.onload=()=>{pe(zt)},zt.onerror=(on,Yn,Nt,Mt,wn)=>{pe(zt,["Failed to load",zt,"Error:",wn])},q&&zt.setAttribute("nonce",q),Re.head.appendChild(zt)}else v({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",yt],level:"warning"}),pe(yt)}}}dt===0&&O(re,Ke)}function ce({bodyClass:re,contentRef:pe,copyShadowRoots:De,documentTitle:Ke,fonts:Ge,ignoreGlobalStyles:k,nonce:M,onAfterPrint:P,onBeforePrint:j,onPrintError:z,pageStyle:Y,preserveAfterPrint:V,print:at,printIframeProps:dt,suppressErrors:$}){return(0,_.useCallback)(Ae=>{function it(){const tt={bodyClass:re,contentRef:pe,copyShadowRoots:De,documentTitle:Ke,fonts:Ge,ignoreGlobalStyles:k,nonce:M,onAfterPrint:P,onPrintError:z,pageStyle:Y,preserveAfterPrint:V,print:at,suppressErrors:$},q=(function(Re){const Be=document.createElement("iframe");return Be.width=`${document.documentElement.clientWidth}px`,Be.height=`${document.documentElement.clientHeight}px`,Be.style.position="absolute",Be.style.top=`-${document.documentElement.clientHeight+100}px`,Be.style.left=`-${document.documentElement.clientWidth+100}px`,Be.id=b,Be.srcdoc="<!DOCTYPE html>",Re&&(Re.allow&&(Be.allow=Re.allow),Re.referrerPolicy!==void 0&&(Be.referrerPolicy=Re.referrerPolicy),Re.sandbox!==void 0&&(Be.sandbox=Re.sandbox)),Be})(dt),_e=(function(Re,Be){const{contentRef:$e,fonts:rt,ignoreGlobalStyles:qt,suppressErrors:Oe}=Be,hn=(function({contentRef:zt,optionalContent:on,suppressErrors:Yn}){return on&&typeof on=="function"?(zt&&v({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),on()):zt?zt.current:void v({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:Yn})})({contentRef:$e,optionalContent:Re,suppressErrors:Oe});if(!hn)return;const On=hn.cloneNode(!0),Qe=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),Je=On.querySelectorAll("img"),Ft=On.querySelectorAll("video"),yt=rt?rt.length:0;return{contentNode:hn,clonedContentNode:On,clonedImgNodes:Je,clonedVideoNodes:Ft,numResourcesToLoad:(qt?0:Qe.length)+Je.length+Ft.length+yt,originalCanvasNodes:hn.querySelectorAll("canvas")}})(Ae,tt);if(!_e)return void v({messages:["There is nothing to print"],suppressErrors:$});const je=(function(Re,Be,$e){const{suppressErrors:rt}=Re,qt=[],Oe=[];return function(hn,On){qt.includes(hn)?v({level:"debug",messages:["Tried to mark a resource that has already been handled",hn],suppressErrors:rt}):(On?(v({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...On],suppressErrors:rt}),Oe.push(hn)):qt.push(hn),qt.length+Oe.length===Be&&O($e,Re))}})(tt,_e.numResourcesToLoad,q);(function(Re,Be,$e,rt){Re.onload=()=>{ee(Re,Be,$e,rt)},document.body.appendChild(Re)})(q,je,_e,tt)}A(V,!0),j?j().then(()=>{it()}).catch(tt=>{z?.("onBeforePrint",N(tt))}):it()},[re,pe,De,Ke,Ge,k,M,P,j,z,Y,V,at,$])}return p})()})})(mf)),mf.exports}var WN=JN();const eC=({settings:a,customer:t,saleDate:r,id:s,items:l,products:c,prevBalance:p,prevBalanceMemo:_,subtotal:b,paidAmount:v,grandTotal:A})=>{const N=ee=>c?.find(ce=>ce.id===ee)?.name||"Unknown",O=l.reduce((ee,ce)=>ee+(ce.discount||0),0),H=A-(v||0),le=parseInt(a.invoiceStart)||1e4,oe=s?le+(parseInt(s)-1):"NEW";return g.jsxs("div",{className:"bg-white p-8 max-w-4xl mx-auto print:p-0 print:w-full print:max-w-none font-sans",children:[g.jsxs("div",{className:"flex flex-col md:flex-row print:flex-row justify-between items-center md:items-start print:items-start mb-8 border-b-2 border-gray-100 pb-6 gap-4",children:[g.jsx("div",{className:"w-40 h-40 flex-shrink-0",children:a.logoLeft&&g.jsx("img",{src:a.logoLeft,alt:"Logo",className:"w-full h-full object-contain"})}),g.jsxs("div",{className:"text-center flex-1 px-4 order-first md:order-none print:order-none w-full",children:[g.jsx("h1",{className:"text-xl font-extrabold uppercase tracking-wide text-gray-900",children:a.companyName}),g.jsx("p",{className:"text-sm font-bold text-gray-600",children:a.regNum}),g.jsx("p",{className:"text-xs mt-1 text-gray-500 font-medium",children:a.desc1}),g.jsx("p",{className:"text-xs text-gray-500 font-medium",children:a.desc2}),g.jsx("p",{className:"text-sm font-bold mt-2 text-gray-800",children:a.contact})]}),g.jsx("div",{className:"w-40 h-40 flex-shrink-0 hidden md:block print:block",children:a.logoRight&&g.jsx("img",{src:a.logoRight,alt:"Poultry",className:"w-full h-full object-contain"})})]}),g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end mb-8 gap-6",children:[g.jsxs("div",{className:"w-full md:w-auto",children:[g.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase mb-1",children:"Billed To"}),g.jsx("h2",{className:"text-lg font-bold text-gray-900",children:t.name}),g.jsx("p",{className:"text-sm text-gray-600 max-w-[250px]",children:t.address}),g.jsx("p",{className:"text-sm text-gray-600",children:t.contact})]}),g.jsxs("div",{className:"text-left md:text-right w-full md:w-auto",children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-400 uppercase mb-1",children:"Delivery Order / Invoice"}),g.jsxs("p",{className:"text-sm font-bold text-gray-600",children:["#INV-",oe]}),g.jsxs("p",{className:"text-sm font-bold text-gray-600",children:["Date: ",La(new Date(r))]})]})]}),g.jsx("div",{className:"hidden md:block print:!block overflow-x-auto",children:g.jsxs("table",{className:"w-full mb-8 border-collapse min-w-[600px] print:!min-w-full print:!table",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[g.jsx("th",{className:"text-center py-3 px-2 text-sm font-bold text-gray-600 w-12",children:"#"}),g.jsx("th",{className:"text-left py-3 px-2 text-sm font-bold text-gray-600",children:"Item"}),g.jsx("th",{className:"text-center py-3 px-2 text-sm font-bold text-gray-600",children:"Quantity"}),g.jsx("th",{className:"text-right py-3 px-2 text-sm font-bold text-gray-600",children:"Unit Price"}),g.jsx("th",{className:"text-right py-3 px-2 text-sm font-bold text-gray-600",children:"Total"})]})}),g.jsx("tbody",{children:l.map((ee,ce)=>g.jsxs("tr",{className:"border-b border-gray-50",children:[g.jsx("td",{className:"text-center py-3 px-2 text-sm text-gray-600",children:ce+1}),g.jsxs("td",{className:"py-3 px-2",children:[g.jsx("div",{className:"font-bold text-gray-800",children:N(parseInt(ee.productId))}),ee.memo&&g.jsx("div",{className:"text-xs text-gray-500 italic mt-0.5",children:ee.memo}),ee.discount>0&&g.jsxs("div",{className:"text-xs text-red-500 mt-0.5",children:["Disc: -",parseFloat(ee.discount).toFixed(2)]})]}),g.jsxs("td",{className:"text-center py-3 px-2 text-sm text-gray-800 font-medium",children:[ee.qty," ",ee.unit]}),g.jsxs("td",{className:"text-right py-3 px-2 text-sm text-gray-800",children:["RM ",parseFloat(ee.price).toFixed(2)]}),g.jsxs("td",{className:"text-right py-3 px-2 text-sm font-bold text-gray-800",children:["RM ",(ee.qty*ee.price-(ee.discount||0)).toFixed(2)]})]},ce))})]})}),g.jsx("div",{className:"md:hidden print:hidden space-y-4 mb-8",children:l.map((ee,ce)=>g.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-100",children:[g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsxs("div",{children:[g.jsx("div",{className:"font-bold text-gray-900",children:N(parseInt(ee.productId))}),ee.memo&&g.jsx("div",{className:"text-xs text-gray-500 italic",children:ee.memo})]}),g.jsxs("div",{className:"text-xs font-bold text-gray-500 bg-white px-2 py-1 rounded border",children:["#",ce+1]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-3",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-gray-500 text-xs block",children:"Quantity"}),g.jsxs("span",{className:"font-medium",children:[ee.qty," ",ee.unit]})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("span",{className:"text-gray-500 text-xs block",children:"Unit Price"}),g.jsxs("span",{className:"font-medium",children:["RM ",parseFloat(ee.price).toFixed(2)]})]})]}),ee.discount>0&&g.jsxs("div",{className:"flex justify-between text-xs text-red-500 mb-2",children:[g.jsx("span",{children:"Discount"}),g.jsxs("span",{children:["- RM ",parseFloat(ee.discount).toFixed(2)]})]}),g.jsxs("div",{className:"flex justify-between items-center border-t border-gray-200 pt-2",children:[g.jsx("span",{className:"font-bold text-gray-600",children:"Total"}),g.jsxs("span",{className:"font-bold text-gray-900 text-lg",children:["RM ",(ee.qty*ee.price-(ee.discount||0)).toFixed(2)]})]})]},ce))}),g.jsx("div",{className:"flex justify-end mb-12",children:g.jsxs("div",{className:"w-80",children:[g.jsxs("div",{className:"flex justify-between items-center mb-2 px-2",children:[g.jsx("span",{className:"text-sm font-bold text-gray-600",children:"Subtotal"}),g.jsxs("span",{className:"text-sm font-bold text-gray-800",children:["RM ",b.toFixed(2)]})]}),g.jsxs("div",{className:"flex justify-between items-center bg-green-700 text-white px-3 py-1.5 rounded-sm mb-1",children:[g.jsx("span",{className:"text-sm font-medium",children:"Discount"}),g.jsxs("span",{className:"text-sm font-bold",children:["- RM ",O.toFixed(2)]})]}),g.jsxs("div",{className:"flex justify-between items-center bg-green-700 text-white px-3 py-1.5 rounded-sm mb-2",children:[g.jsxs("span",{className:"text-sm font-medium",children:["Previous Balance ",_&&`(${_})`]}),g.jsxs("span",{className:"text-sm font-bold",children:["RM ",parseFloat(p).toFixed(2)]})]}),g.jsxs("div",{className:"flex justify-between items-center mb-2 px-2",children:[g.jsx("span",{className:"text-sm font-bold text-gray-600",children:"Paid"}),g.jsxs("span",{className:"text-sm font-bold text-gray-800",children:["- RM ",parseFloat(v||0).toFixed(2)]})]}),g.jsxs("div",{className:"flex justify-between items-center border-t-2 border-gray-200 pt-2 px-2",children:[g.jsx("span",{className:"text-lg font-extrabold text-gray-900",children:"Balance Due"}),g.jsxs("span",{className:"text-lg font-extrabold text-gray-900",children:["RM ",H.toFixed(2)]})]})]})}),g.jsxs("div",{className:"text-center space-y-1",children:[g.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Thank you for your business!"}),g.jsx("p",{className:"text-xs text-gray-400 italic",children:"This is a computer-generated document. No signature is required."})]})]})};function h_(){const{id:a}=PE(),t=Ol(),r=Sp(),s=Ar(()=>Fe.customers.toArray()),l=Ar(()=>Fe.products.toArray()),[c,p]=ae.useState(La(new Date)),[_,b]=ae.useState(""),[v,A]=ae.useState([]),[N,O]=ae.useState(0),[H,le]=ae.useState(""),[oe,ee]=ae.useState(0),[ce,re]=ae.useState(!1),[pe,De]=ae.useState(!1),[Ke,Ge]=ae.useState(!0),k=ae.useRef(),M=WN.useReactToPrint({contentRef:k,documentTitle:`Invoice-${a||"New"}`});ae.useEffect(()=>{a&&Fe.sales.get(parseInt(a)).then($=>{$&&(p($.date),b($.customerId),A($.items),O($.prevBalance||0),le($.memo||""),ee($.paidAmount||0),re(!0))})},[a]);const P=()=>{A([...v,{productId:"",qty:1,unit:"Kg",price:0,discount:0,memo:""}])},j=($,Se,Ae)=>{const it=[...v];if(it[$][Se]=Ae,Se==="productId"){const tt=l.find(q=>q.id===parseInt(Ae));tt&&(it[$].price=tt.price)}A(it)},z=$=>{A(v.filter((Se,Ae)=>Ae!==$))},Y=()=>v.reduce(($,Se)=>$+(Se.qty*Se.price-(Se.discount||0)),0),V=()=>Y()+parseFloat(N||0),at=async($=!1)=>{if(!_){alert("Please select a customer");return}if(v.length===0){alert("Please add at least one item");return}const Se={date:c,customerId:parseInt(_),items:v.map(Ae=>({...Ae,productId:parseInt(Ae.productId),qty:parseFloat(Ae.qty),price:parseFloat(Ae.price),discount:parseFloat(Ae.discount||0),memo:Ae.memo||""})),subtotal:Y(),prevBalance:parseFloat(N),memo:H,paidAmount:parseFloat(oe),grandTotal:V()};try{let Ae=a?parseInt(a):null;if(Ae)await Fe.sales.update(Ae,Se),alert("Sale updated!");else{if(Ae=await Fe.sales.add(Se),!$){t(`/sales/${Ae}`);return}if(!a){t(`/sales/${Ae}?print=true`);return}}$?(re(!0),De(!0)):re(!0)}catch(Ae){console.error("Error saving sale:",Ae),alert("Failed to save sale")}};ae.useEffect(()=>{new URLSearchParams(window.location.search).get("print")==="true"&&ce&&(window.history.replaceState({},"",window.location.pathname),De(!0))},[ce]),ae.useEffect(()=>{if(pe&&ce){const $=setTimeout(()=>{M(),De(!1)},500);return()=>clearTimeout($)}},[pe,ce]);const dt=()=>s?.find($=>$.id===parseInt(_))||{};return g.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24 print:bg-white print:pb-0",children:[Ke&&g.jsxs("div",{className:"sticky top-0 bg-white shadow-sm p-4 flex justify-between items-center z-10 no-print",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:()=>t("/"),className:"p-2 hover:bg-gray-100 rounded-full",children:g.jsx(Lw,{size:20})}),g.jsx("h1",{className:"text-xl font-bold",children:a?"Invoice View":"New Sale"})]}),g.jsx("div",{className:"flex gap-2",children:ce?g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>Ge(!1),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg",title:"Screenshot Mode",children:g.jsx(sT,{size:20})}),g.jsx("button",{onClick:()=>re(!1),className:"px-4 py-2 text-blue-600 font-medium hover:bg-blue-50 rounded-lg",children:"Edit"}),g.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900",children:[g.jsx(hT,{size:18})," Save as PDF"]})]}):g.jsxs(g.Fragment,{children:[g.jsxs("button",{onClick:()=>re(!0),className:"flex items-center gap-2 px-4 py-2 text-gray-600 font-medium hover:bg-gray-100 rounded-lg",children:[g.jsx(Xw,{size:18})," Preview"]}),g.jsxs("button",{onClick:()=>at(!1),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[g.jsx(D_,{size:18})," Save"]})]})})]}),!Ke&&g.jsx("button",{onClick:()=>Ge(!0),className:"fixed top-4 right-4 z-50 p-2 bg-gray-800 text-white rounded-full shadow-lg opacity-50 hover:opacity-100 transition-opacity no-print",title:"Exit Screenshot Mode",children:g.jsx(ST,{size:20})}),ce?g.jsx("div",{ref:k,children:g.jsx(eC,{settings:r,customer:dt(),saleDate:c,id:a,items:v,products:l,prevBalance:N,prevBalanceMemo:H,paidAmount:oe,subtotal:Y(),grandTotal:V()})}):g.jsxs("div",{className:"max-w-5xl mx-auto p-4 space-y-6",children:[g.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),g.jsx("input",{type:"date",value:c,onChange:$=>p($.target.value),className:"w-full p-2 border rounded-md"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer"}),g.jsxs("select",{value:_,onChange:$=>b($.target.value),className:"w-full p-2 border rounded-md",children:[g.jsx("option",{value:"",children:"Select Customer"}),s?.map($=>g.jsx("option",{value:$.id,children:$.name},$.id))]})]})]})}),g.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[g.jsx("h2",{className:"font-semibold mb-4",children:"Items"}),g.jsxs("div",{children:[g.jsxs("div",{className:"hidden md:flex gap-2 border-b pb-2 mb-2 text-sm font-medium text-gray-600",children:[g.jsx("div",{className:"flex-1 min-w-[200px]",children:"Product"}),g.jsx("div",{className:"w-48",children:"Memo"}),g.jsx("div",{className:"w-20",children:"Qty"}),g.jsx("div",{className:"w-24",children:"Unit"}),g.jsx("div",{className:"w-24",children:"Price"}),g.jsx("div",{className:"w-24",children:"Discount"}),g.jsx("div",{className:"w-24 text-right",children:"Total"}),g.jsx("div",{className:"w-10"})]}),g.jsx("div",{className:"space-y-4 md:space-y-2",children:v.map(($,Se)=>g.jsxs("div",{className:"flex flex-col md:flex-row gap-3 md:gap-2 items-start border md:border-none p-4 md:p-0 rounded-lg md:rounded-none bg-gray-50 md:bg-white relative",children:[g.jsx("button",{onClick:()=>z(Se),className:"absolute top-2 right-2 p-2 text-red-500 hover:bg-red-100 rounded-full md:hidden",children:g.jsx(xl,{size:18})}),g.jsxs("div",{className:"w-full md:flex-1 md:min-w-[200px]",children:[g.jsx("label",{className:"md:hidden text-xs font-bold text-gray-500 mb-1 block",children:"Product"}),g.jsxs("select",{value:$.productId,onChange:Ae=>j(Se,"productId",Ae.target.value),className:"w-full p-2 border rounded-md text-sm bg-white",children:[g.jsx("option",{value:"",children:"Select Product"}),l?.map(Ae=>g.jsx("option",{value:Ae.id,children:Ae.name},Ae.id))]})]}),g.jsxs("div",{className:"w-full md:w-48",children:[g.jsx("label",{className:"md:hidden text-xs font-bold text-gray-500 mb-1 block",children:"Memo"}),g.jsx("input",{type:"text",placeholder:"Memo",value:$.memo||"",onChange:Ae=>j(Se,"memo",Ae.target.value),className:"w-full p-2 border rounded-md text-sm"})]}),g.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[g.jsxs("div",{className:"w-1/2 md:w-20",children:[g.jsx("label",{className:"md:hidden text-xs font-bold text-gray-500 mb-1 block",children:"Qty"}),g.jsx("input",{type:"number",value:$.qty,onChange:Ae=>j(Se,"qty",Ae.target.value),className:"w-full p-2 border rounded-md text-sm"})]}),g.jsxs("div",{className:"w-1/2 md:w-24",children:[g.jsx("label",{className:"md:hidden text-xs font-bold text-gray-500 mb-1 block",children:"Unit"}),g.jsxs("select",{value:$.unit,onChange:Ae=>j(Se,"unit",Ae.target.value),className:"w-full p-2 border rounded-md text-sm bg-white",children:[g.jsx("option",{value:"Kg",children:"Kg"}),g.jsx("option",{value:"Pcs",children:"Pcs"})]})]})]}),g.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[g.jsxs("div",{className:"w-1/2 md:w-24",children:[g.jsx("label",{className:"md:hidden text-xs font-bold text-gray-500 mb-1 block",children:"Price"}),g.jsx("input",{type:"number",step:"0.01",value:$.price,onChange:Ae=>j(Se,"price",Ae.target.value),className:"w-full p-2 border rounded-md text-sm"})]}),g.jsxs("div",{className:"w-1/2 md:w-24",children:[g.jsx("label",{className:"md:hidden text-xs font-bold text-gray-500 mb-1 block",children:"Discount"}),g.jsx("input",{type:"number",step:"0.01",value:$.discount,onChange:Ae=>j(Se,"discount",Ae.target.value),className:"w-full p-2 border rounded-md text-sm text-red-600",placeholder:"0.00"})]})]}),g.jsxs("div",{className:"w-full md:w-24 md:text-right flex justify-between md:block items-center mt-2 md:mt-0 pt-2 md:pt-2 border-t md:border-none",children:[g.jsx("span",{className:"md:hidden text-sm font-bold text-gray-600",children:"Total:"}),g.jsx("span",{className:"font-medium text-sm",children:($.qty*$.price-($.discount||0)).toFixed(2)})]}),g.jsx("div",{className:"hidden md:flex w-10 justify-center",children:g.jsx("button",{onClick:()=>z(Se),className:"p-2 text-red-500 hover:bg-red-50 rounded-full",children:g.jsx(xl,{size:18})})})]},Se))})]}),g.jsxs("button",{onClick:P,className:"mt-4 flex items-center gap-2 text-blue-600 font-medium hover:bg-blue-50 px-3 py-2 rounded-lg",children:[g.jsx(Lf,{size:18})," Add Item"]})]}),g.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm space-y-4",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"font-medium",children:"Subtotal"}),g.jsx("span",{className:"text-xl font-bold",children:Y().toFixed(2)})]}),g.jsxs("div",{className:"border-t pt-4",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Previous Balance"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",placeholder:"Memo (e.g. Bal b/f)",value:H,onChange:$=>le($.target.value),className:"flex-1 p-2 border rounded-md"}),g.jsx("input",{type:"number",step:"0.01",placeholder:"Amount",value:N,onChange:$=>O($.target.value),className:"w-32 p-2 border rounded-md text-right"})]})]}),g.jsxs("div",{className:"border-t pt-4",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount Paid"}),g.jsx("div",{className:"flex justify-end",children:g.jsx("input",{type:"number",step:"0.01",placeholder:"0.00",value:oe,onChange:$=>ee($.target.value),className:"w-32 p-2 border rounded-md text-right font-bold text-green-700"})})]}),g.jsxs("div",{className:"flex justify-between items-center border-t pt-4 text-lg",children:[g.jsx("span",{className:"font-bold",children:"Grand Total"}),g.jsxs("span",{className:"font-bold text-blue-600",children:["RM ",V().toFixed(2)]})]})]})]})]})}function tC(){const{user:a}=Ap();return a?g.jsx(E_,{}):g.jsx(ZE,{to:"/login",replace:!0})}function nC(){const[a,t]=ae.useState(""),[r,s]=ae.useState(""),[l,c]=ae.useState(""),{login:p}=Ap(),_=Ol(),b=async v=>{v.preventDefault(),c("");const A=await p(a,r);A.success?_("/"):c(A.message)};return g.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Welcome Back"}),g.jsx("p",{className:"text-gray-500 mt-2",children:"Please sign in to continue"})]}),g.jsxs("form",{onSubmit:b,className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(j_,{size:20,className:"text-gray-400"})}),g.jsx("input",{type:"text",value:a,onChange:v=>t(v.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your username",required:!0})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(C_,{size:20,className:"text-gray-400"})}),g.jsx("input",{type:"password",value:r,onChange:v=>s(v.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your password",required:!0})]})]}),l&&g.jsx("div",{className:"text-red-500 text-sm text-center bg-red-50 p-2 rounded",children:l}),g.jsx("button",{type:"submit",className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Sign In"})]})]})})}function rC(){const[a,t]=ae.useState({start:La(new Date(new Date().getFullYear(),new Date().getMonth(),1)),end:La(new Date)}),[r,s]=ae.useState("sales"),l=Ar(async()=>(await Fe.sales.where("date").between(a.start,a.end,!0,!0).toArray()).sort((v,A)=>new Date(A.date)-new Date(v.date)),[a]),c=Ar(()=>Fe.products.toArray()),p=Ar(()=>Fe.customers.toArray()),_=ae.useMemo(()=>{if(!l||!c||!p)return null;const b={revenue:0,paid:0,balance:0,count:l.length},v={},A={};return l.forEach(N=>{b.revenue+=N.subtotal||0,b.paid+=N.paidAmount||0,b.balance+=(N.grandTotal||0)-(N.paidAmount||0),N.items.forEach(O=>{v[O.productId]||(v[O.productId]={id:O.productId,name:c.find(H=>H.id===O.productId)?.name||"Unknown",qty:0,revenue:0,unit:O.unit}),v[O.productId].qty+=parseFloat(O.qty)||0,v[O.productId].revenue+=O.qty*O.price-(O.discount||0)}),A[N.customerId]||(A[N.customerId]={id:N.customerId,name:p.find(O=>O.id===N.customerId)?.name||"Unknown",count:0,total:0}),A[N.customerId].count+=1,A[N.customerId].total+=N.subtotal||0}),{summary:b,products:Object.values(v).sort((N,O)=>O.revenue-N.revenue),customers:Object.values(A).sort((N,O)=>O.total-N.total)}},[l,c,p]);return _?g.jsxs("div",{className:"p-4 max-w-6xl mx-auto pb-24",children:[g.jsxs("h1",{className:"text-2xl font-bold mb-6 text-gray-800 flex items-center gap-2",children:[g.jsx(qm,{className:"text-blue-600"})," Reports & Analytics"]}),g.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-6 flex flex-col md:flex-row gap-4 items-end md:items-center justify-between",children:[g.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Start Date"}),g.jsx("input",{type:"date",value:a.start,onChange:b=>t(v=>({...v,start:b.target.value})),className:"p-2 border rounded-md text-sm w-full"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"End Date"}),g.jsx("input",{type:"date",value:a.end,onChange:b=>t(v=>({...v,end:b.target.value})),className:"p-2 border rounded-md text-sm w-full"})]})]}),g.jsxs("div",{className:"flex gap-4 w-full md:w-auto overflow-x-auto pb-2 md:pb-0",children:[g.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-100 min-w-[120px]",children:[g.jsx("p",{className:"text-xs text-green-600 font-bold uppercase",children:"Revenue"}),g.jsxs("p",{className:"text-lg font-bold text-green-900",children:["RM ",_.summary.revenue.toFixed(2)]})]}),g.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-100 min-w-[120px]",children:[g.jsx("p",{className:"text-xs text-blue-600 font-bold uppercase",children:"Paid"}),g.jsxs("p",{className:"text-lg font-bold text-blue-900",children:["RM ",_.summary.paid.toFixed(2)]})]}),g.jsxs("div",{className:"bg-red-50 p-3 rounded-lg border border-red-100 min-w-[120px]",children:[g.jsx("p",{className:"text-xs text-red-600 font-bold uppercase",children:"Balance"}),g.jsxs("p",{className:"text-lg font-bold text-red-900",children:["RM ",_.summary.balance.toFixed(2)]})]})]})]}),g.jsxs("div",{className:"flex gap-2 mb-6 border-b",children:[g.jsxs("button",{onClick:()=>s("sales"),className:`px-4 py-2 font-medium text-sm flex items-center gap-2 ${r==="sales"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[g.jsx(zm,{size:16})," Sales"]}),g.jsxs("button",{onClick:()=>s("products"),className:`px-4 py-2 font-medium text-sm flex items-center gap-2 ${r==="products"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[g.jsx(gf,{size:16})," Products"]}),g.jsxs("button",{onClick:()=>s("customers"),className:`px-4 py-2 font-medium text-sm flex items-center gap-2 ${r==="customers"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[g.jsx(yf,{size:16})," Customers"]})]}),g.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[r==="sales"&&g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-sm text-left",children:[g.jsx("thead",{className:"bg-gray-50 text-gray-600 font-bold border-b",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-3",children:"Date"}),g.jsx("th",{className:"p-3",children:"Customer"}),g.jsx("th",{className:"p-3 text-right",children:"Total"}),g.jsx("th",{className:"p-3 text-right",children:"Paid"}),g.jsx("th",{className:"p-3 text-right",children:"Balance"})]})}),g.jsxs("tbody",{className:"divide-y",children:[l.map(b=>g.jsxs("tr",{className:"hover:bg-gray-50",children:[g.jsx("td",{className:"p-3",children:La(new Date(b.date))}),g.jsx("td",{className:"p-3 font-medium",children:p?.find(v=>v.id===b.customerId)?.name||"Unknown"}),g.jsxs("td",{className:"p-3 text-right font-bold",children:["RM ",(b.grandTotal||0).toFixed(2)]}),g.jsxs("td",{className:"p-3 text-right text-green-600",children:["RM ",(b.paidAmount||0).toFixed(2)]}),g.jsxs("td",{className:"p-3 text-right text-red-600",children:["RM ",((b.grandTotal||0)-(b.paidAmount||0)).toFixed(2)]})]},b.id)),l.length===0&&g.jsx("tr",{children:g.jsx("td",{colSpan:"5",className:"p-8 text-center text-gray-500",children:"No sales found in this period."})})]})]})}),r==="products"&&g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-sm text-left",children:[g.jsx("thead",{className:"bg-gray-50 text-gray-600 font-bold border-b",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-3",children:"Product Name"}),g.jsx("th",{className:"p-3 text-center",children:"Units Sold"}),g.jsx("th",{className:"p-3 text-right",children:"Total Revenue"})]})}),g.jsxs("tbody",{className:"divide-y",children:[_.products.map(b=>g.jsxs("tr",{className:"hover:bg-gray-50",children:[g.jsx("td",{className:"p-3 font-medium",children:b.name}),g.jsxs("td",{className:"p-3 text-center",children:[b.qty.toFixed(2)," ",b.unit]}),g.jsxs("td",{className:"p-3 text-right font-bold",children:["RM ",b.revenue.toFixed(2)]})]},b.id)),_.products.length===0&&g.jsx("tr",{children:g.jsx("td",{colSpan:"3",className:"p-8 text-center text-gray-500",children:"No product data available."})})]})]})}),r==="customers"&&g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-sm text-left",children:[g.jsx("thead",{className:"bg-gray-50 text-gray-600 font-bold border-b",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-3",children:"Customer Name"}),g.jsx("th",{className:"p-3 text-center",children:"Orders"}),g.jsx("th",{className:"p-3 text-right",children:"Total Spent"})]})}),g.jsxs("tbody",{className:"divide-y",children:[_.customers.map(b=>g.jsxs("tr",{className:"hover:bg-gray-50",children:[g.jsx("td",{className:"p-3 font-medium",children:b.name}),g.jsx("td",{className:"p-3 text-center",children:b.count}),g.jsxs("td",{className:"p-3 text-right font-bold",children:["RM ",b.total.toFixed(2)]})]},b.id)),_.customers.length===0&&g.jsx("tr",{children:g.jsx("td",{colSpan:"3",className:"p-8 text-center text-gray-500",children:"No customer data available."})})]})]})})]})]}):g.jsx("div",{className:"p-8 text-center",children:"Loading reports..."})}function aC(){return g.jsx(QN,{children:g.jsx(Ew,{basename:"/spfamilyventuresbook",children:g.jsxs(WE,{children:[g.jsx(ga,{path:"/login",element:g.jsx(nC,{})}),g.jsx(ga,{element:g.jsx(tC,{}),children:g.jsxs(ga,{path:"/",element:g.jsx(ON,{}),children:[g.jsx(ga,{index:!0,element:g.jsx(qN,{})}),g.jsx(ga,{path:"sales",element:g.jsx($N,{})}),g.jsx(ga,{path:"sales/new",element:g.jsx(h_,{})}),g.jsx(ga,{path:"sales/:id",element:g.jsx(h_,{})}),g.jsx(ga,{path:"products",element:g.jsx(XN,{})}),g.jsx(ga,{path:"customers",element:g.jsx(c_,{})}),g.jsx(ga,{path:"customers",element:g.jsx(c_,{})}),g.jsx(ga,{path:"reports",element:g.jsx(rC,{})}),g.jsx(ga,{path:"settings",element:g.jsx(YN,{})})]})})]})})})}class iC extends To.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){this.setState({error:t,errorInfo:r}),console.error("Uncaught error:",t,r)}render(){return this.state.hasError?g.jsxs("div",{className:"p-8 bg-red-50 text-red-900 min-h-screen",children:[g.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Something went wrong."}),g.jsxs("details",{className:"whitespace-pre-wrap",children:[this.state.error&&this.state.error.toString(),g.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}aE.createRoot(document.getElementById("root")).render(g.jsx(To.StrictMode,{children:g.jsx(iC,{children:g.jsx(aC,{})})}));
