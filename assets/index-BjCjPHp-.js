(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();var Kx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Im(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Fd={exports:{}},Eu={};var Rv;function Gx(){if(Rv)return Eu;Rv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(s,l,c){var p=null;if(c!==void 0&&(p=""+c),l.key!==void 0&&(p=""+l.key),"key"in l){c={};for(var b in l)b!=="key"&&(c[b]=l[b])}else c=l;return l=c.ref,{$$typeof:a,type:s,key:p,ref:l!==void 0?l:null,props:c}}return Eu.Fragment=t,Eu.jsx=r,Eu.jsxs=r,Eu}var Nv;function Qx(){return Nv||(Nv=1,Fd.exports=Gx()),Fd.exports}var y=Qx(),Hd={exports:{}},ct={};var Cv;function Yx(){if(Cv)return ct;Cv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),O=Symbol.iterator;function Q(q){return q===null||typeof q!="object"?null:(q=O&&q[O]||q["@@iterator"],typeof q=="function"?q:null)}var me={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ue=Object.assign,te={};function Y(q,_e,je){this.props=q,this.context=_e,this.refs=te,this.updater=je||me}Y.prototype.isReactComponent={},Y.prototype.setState=function(q,_e){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,_e,"setState")},Y.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function re(){}re.prototype=Y.prototype;function pe(q,_e,je){this.props=q,this.context=_e,this.refs=te,this.updater=je||me}var Ne=pe.prototype=new re;Ne.constructor=pe,ue(Ne,Y.prototype),Ne.isPureReactComponent=!0;var qe=Array.isArray;function Ye(){}var M={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function V(q,_e,je){var Re=je.ref;return{$$typeof:a,type:q,key:_e,ref:Re!==void 0?Re:null,props:je}}function B(q,_e){return V(q.type,_e,q.props)}function z(q){return typeof q=="object"&&q!==null&&q.$$typeof===a}function Z(q){var _e={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(je){return _e[je]})}var k=/\/+/g;function yt(q,_e){return typeof q=="object"&&q!==null&&q.key!=null?Z(""+q.key):_e.toString(36)}function Rt(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(Ye,Ye):(q.status="pending",q.then(function(_e){q.status==="pending"&&(q.status="fulfilled",q.value=_e)},function(_e){q.status==="pending"&&(q.status="rejected",q.reason=_e)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function J(q,_e,je,Re,Be){var $e=typeof q;($e==="undefined"||$e==="boolean")&&(q=null);var rt=!1;if(q===null)rt=!0;else switch($e){case"bigint":case"string":case"number":rt=!0;break;case"object":switch(q.$$typeof){case a:case t:rt=!0;break;case A:return rt=q._init,J(rt(q._payload),_e,je,Re,Be)}}if(rt)return Be=Be(q),rt=Re===""?"."+yt(q,0):Re,qe(Be)?(je="",rt!=null&&(je=rt.replace(k,"$&/")+"/"),J(Be,_e,je,"",function(hn){return hn})):Be!=null&&(z(Be)&&(Be=B(Be,je+(Be.key==null||q&&q.key===Be.key?"":(""+Be.key).replace(k,"$&/")+"/")+rt)),_e.push(Be)),1;rt=0;var qt=Re===""?".":Re+":";if(qe(q))for(var Oe=0;Oe<q.length;Oe++)Re=q[Oe],$e=qt+yt(Re,Oe),rt+=J(Re,_e,je,$e,Be);else if(Oe=Q(q),typeof Oe=="function")for(q=Oe.call(q),Oe=0;!(Re=q.next()).done;)Re=Re.value,$e=qt+yt(Re,Oe++),rt+=J(Re,_e,je,$e,Be);else if($e==="object"){if(typeof q.then=="function")return J(Rt(q),_e,je,Re,Be);throw _e=String(q),Error("Objects are not valid as a React child (found: "+(_e==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":_e)+"). If you meant to render a collection of children, use an array instead.")}return rt}function Se(q,_e,je){if(q==null)return q;var Re=[],Be=0;return J(q,Re,"","",function($e){return _e.call(je,$e,Be++)}),Re}function Ae(q){if(q._status===-1){var _e=q._result;_e=_e(),_e.then(function(je){(q._status===0||q._status===-1)&&(q._status=1,q._result=je)},function(je){(q._status===0||q._status===-1)&&(q._status=2,q._result=je)}),q._status===-1&&(q._status=0,q._result=_e)}if(q._status===1)return q._result.default;throw q._result}var at=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var _e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(_e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},tt={map:Se,forEach:function(q,_e,je){Se(q,function(){_e.apply(this,arguments)},je)},count:function(q){var _e=0;return Se(q,function(){_e++}),_e},toArray:function(q){return Se(q,function(_e){return _e})||[]},only:function(q){if(!z(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return ct.Activity=N,ct.Children=tt,ct.Component=Y,ct.Fragment=r,ct.Profiler=l,ct.PureComponent=pe,ct.StrictMode=s,ct.Suspense=_,ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,ct.__COMPILER_RUNTIME={__proto__:null,c:function(q){return M.H.useMemoCache(q)}},ct.cache=function(q){return function(){return q.apply(null,arguments)}},ct.cacheSignal=function(){return null},ct.cloneElement=function(q,_e,je){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var Re=ue({},q.props),Be=q.key;if(_e!=null)for($e in _e.key!==void 0&&(Be=""+_e.key),_e)!j.call(_e,$e)||$e==="key"||$e==="__self"||$e==="__source"||$e==="ref"&&_e.ref===void 0||(Re[$e]=_e[$e]);var $e=arguments.length-2;if($e===1)Re.children=je;else if(1<$e){for(var rt=Array($e),qt=0;qt<$e;qt++)rt[qt]=arguments[qt+2];Re.children=rt}return V(q.type,Be,Re)},ct.createContext=function(q){return q={$$typeof:p,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:c,_context:q},q},ct.createElement=function(q,_e,je){var Re,Be={},$e=null;if(_e!=null)for(Re in _e.key!==void 0&&($e=""+_e.key),_e)j.call(_e,Re)&&Re!=="key"&&Re!=="__self"&&Re!=="__source"&&(Be[Re]=_e[Re]);var rt=arguments.length-2;if(rt===1)Be.children=je;else if(1<rt){for(var qt=Array(rt),Oe=0;Oe<rt;Oe++)qt[Oe]=arguments[Oe+2];Be.children=qt}if(q&&q.defaultProps)for(Re in rt=q.defaultProps,rt)Be[Re]===void 0&&(Be[Re]=rt[Re]);return V(q,$e,Be)},ct.createRef=function(){return{current:null}},ct.forwardRef=function(q){return{$$typeof:b,render:q}},ct.isValidElement=z,ct.lazy=function(q){return{$$typeof:A,_payload:{_status:-1,_result:q},_init:Ae}},ct.memo=function(q,_e){return{$$typeof:v,type:q,compare:_e===void 0?null:_e}},ct.startTransition=function(q){var _e=M.T,je={};M.T=je;try{var Re=q(),Be=M.S;Be!==null&&Be(je,Re),typeof Re=="object"&&Re!==null&&typeof Re.then=="function"&&Re.then(Ye,at)}catch($e){at($e)}finally{_e!==null&&je.types!==null&&(_e.types=je.types),M.T=_e}},ct.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},ct.use=function(q){return M.H.use(q)},ct.useActionState=function(q,_e,je){return M.H.useActionState(q,_e,je)},ct.useCallback=function(q,_e){return M.H.useCallback(q,_e)},ct.useContext=function(q){return M.H.useContext(q)},ct.useDebugValue=function(){},ct.useDeferredValue=function(q,_e){return M.H.useDeferredValue(q,_e)},ct.useEffect=function(q,_e){return M.H.useEffect(q,_e)},ct.useEffectEvent=function(q){return M.H.useEffectEvent(q)},ct.useId=function(){return M.H.useId()},ct.useImperativeHandle=function(q,_e,je){return M.H.useImperativeHandle(q,_e,je)},ct.useInsertionEffect=function(q,_e){return M.H.useInsertionEffect(q,_e)},ct.useLayoutEffect=function(q,_e){return M.H.useLayoutEffect(q,_e)},ct.useMemo=function(q,_e){return M.H.useMemo(q,_e)},ct.useOptimistic=function(q,_e){return M.H.useOptimistic(q,_e)},ct.useReducer=function(q,_e,je){return M.H.useReducer(q,_e,je)},ct.useRef=function(q){return M.H.useRef(q)},ct.useState=function(q){return M.H.useState(q)},ct.useSyncExternalStore=function(q,_e,je){return M.H.useSyncExternalStore(q,_e,je)},ct.useTransition=function(){return M.H.useTransition()},ct.version="19.2.0",ct}var Dv;function Mf(){return Dv||(Dv=1,Hd.exports=Yx()),Hd.exports}var se=Mf();const To=Im(se);var Kd={exports:{}},wu={},Gd={exports:{}},Qd={};var Iv;function Xx(){return Iv||(Iv=1,(function(a){function t(J,Se){var Ae=J.length;J.push(Se);e:for(;0<Ae;){var at=Ae-1>>>1,tt=J[at];if(0<l(tt,Se))J[at]=Se,J[Ae]=tt,Ae=at;else break e}}function r(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var Se=J[0],Ae=J.pop();if(Ae!==Se){J[0]=Ae;e:for(var at=0,tt=J.length,q=tt>>>1;at<q;){var _e=2*(at+1)-1,je=J[_e],Re=_e+1,Be=J[Re];if(0>l(je,Ae))Re<tt&&0>l(Be,je)?(J[at]=Be,J[Re]=Ae,at=Re):(J[at]=je,J[_e]=Ae,at=_e);else if(Re<tt&&0>l(Be,Ae))J[at]=Be,J[Re]=Ae,at=Re;else break e}}return Se}function l(J,Se){var Ae=J.sortIndex-Se.sortIndex;return Ae!==0?Ae:J.id-Se.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var p=Date,b=p.now();a.unstable_now=function(){return p.now()-b}}var _=[],v=[],A=1,N=null,O=3,Q=!1,me=!1,ue=!1,te=!1,Y=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,pe=typeof setImmediate<"u"?setImmediate:null;function Ne(J){for(var Se=r(v);Se!==null;){if(Se.callback===null)s(v);else if(Se.startTime<=J)s(v),Se.sortIndex=Se.expirationTime,t(_,Se);else break;Se=r(v)}}function qe(J){if(ue=!1,Ne(J),!me)if(r(_)!==null)me=!0,Ye||(Ye=!0,Z());else{var Se=r(v);Se!==null&&Rt(qe,Se.startTime-J)}}var Ye=!1,M=-1,j=5,V=-1;function B(){return te?!0:!(a.unstable_now()-V<j)}function z(){if(te=!1,Ye){var J=a.unstable_now();V=J;var Se=!0;try{e:{me=!1,ue&&(ue=!1,re(M),M=-1),Q=!0;var Ae=O;try{t:{for(Ne(J),N=r(_);N!==null&&!(N.expirationTime>J&&B());){var at=N.callback;if(typeof at=="function"){N.callback=null,O=N.priorityLevel;var tt=at(N.expirationTime<=J);if(J=a.unstable_now(),typeof tt=="function"){N.callback=tt,Ne(J),Se=!0;break t}N===r(_)&&s(_),Ne(J)}else s(_);N=r(_)}if(N!==null)Se=!0;else{var q=r(v);q!==null&&Rt(qe,q.startTime-J),Se=!1}}break e}finally{N=null,O=Ae,Q=!1}Se=void 0}}finally{Se?Z():Ye=!1}}}var Z;if(typeof pe=="function")Z=function(){pe(z)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,yt=k.port2;k.port1.onmessage=z,Z=function(){yt.postMessage(null)}}else Z=function(){Y(z,0)};function Rt(J,Se){M=Y(function(){J(a.unstable_now())},Se)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(J){J.callback=null},a.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<J?Math.floor(1e3/J):5},a.unstable_getCurrentPriorityLevel=function(){return O},a.unstable_next=function(J){switch(O){case 1:case 2:case 3:var Se=3;break;default:Se=O}var Ae=O;O=Se;try{return J()}finally{O=Ae}},a.unstable_requestPaint=function(){te=!0},a.unstable_runWithPriority=function(J,Se){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var Ae=O;O=J;try{return Se()}finally{O=Ae}},a.unstable_scheduleCallback=function(J,Se,Ae){var at=a.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?at+Ae:at):Ae=at,J){case 1:var tt=-1;break;case 2:tt=250;break;case 5:tt=1073741823;break;case 4:tt=1e4;break;default:tt=5e3}return tt=Ae+tt,J={id:A++,callback:Se,priorityLevel:J,startTime:Ae,expirationTime:tt,sortIndex:-1},Ae>at?(J.sortIndex=Ae,t(v,J),r(_)===null&&J===r(v)&&(ue?(re(M),M=-1):ue=!0,Rt(qe,Ae-at))):(J.sortIndex=tt,t(_,J),me||Q||(me=!0,Ye||(Ye=!0,Z()))),J},a.unstable_shouldYield=B,a.unstable_wrapCallback=function(J){var Se=O;return function(){var Ae=O;O=Se;try{return J.apply(this,arguments)}finally{O=Ae}}}})(Qd)),Qd}var jv;function $x(){return jv||(jv=1,Gd.exports=Xx()),Gd.exports}var Yd={exports:{}},gr={};var Ov;function Zx(){if(Ov)return gr;Ov=1;var a=Mf();function t(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,v,A){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:N==null?null:""+N,children:_,containerInfo:v,implementation:A}}var p=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return gr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,gr.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(_,v,null,A)},gr.flushSync=function(_){var v=p.T,A=s.p;try{if(p.T=null,s.p=2,_)return _()}finally{p.T=v,s.p=A,s.d.f()}},gr.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},gr.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},gr.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,N=b(A,v.crossOrigin),O=typeof v.integrity=="string"?v.integrity:void 0,Q=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:N,integrity:O,fetchPriority:Q}):A==="script"&&s.d.X(_,{crossOrigin:N,integrity:O,fetchPriority:Q,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},gr.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=b(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},gr.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,N=b(A,v.crossOrigin);s.d.L(_,A,{crossOrigin:N,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},gr.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=b(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},gr.requestFormReset=function(_){s.d.r(_)},gr.unstable_batchedUpdates=function(_,v){return _(v)},gr.useFormState=function(_,v,A){return p.H.useFormState(_,v,A)},gr.useFormStatus=function(){return p.H.useHostTransitionStatus()},gr.version="19.2.0",gr}var Mv;function Jx(){if(Mv)return Yd.exports;Mv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Yd.exports=Zx(),Yd.exports}var Vv;function Wx(){if(Vv)return wu;Vv=1;var a=$x(),t=Mf(),r=Jx();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function b(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(s(188))}function v(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var i=e,o=n;;){var h=i.return;if(h===null)break;var m=h.alternate;if(m===null){if(o=h.return,o!==null){i=o;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===i)return _(h),e;if(m===o)return _(h),n;m=m.sibling}throw Error(s(188))}if(i.return!==o.return)i=h,o=m;else{for(var w=!1,C=h.child;C;){if(C===i){w=!0,i=h,o=m;break}if(C===o){w=!0,o=h,i=m;break}C=C.sibling}if(!w){for(C=m.child;C;){if(C===i){w=!0,i=m,o=h;break}if(C===o){w=!0,o=m,i=h;break}C=C.sibling}if(!w)throw Error(s(189))}}if(i.alternate!==o)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var N=Object.assign,O=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),me=Symbol.for("react.portal"),ue=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),re=Symbol.for("react.consumer"),pe=Symbol.for("react.context"),Ne=Symbol.for("react.forward_ref"),qe=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function Z(e){return e===null||typeof e!="object"?null:(e=z&&e[z]||e["@@iterator"],typeof e=="function"?e:null)}var k=Symbol.for("react.client.reference");function yt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===k?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ue:return"Fragment";case Y:return"Profiler";case te:return"StrictMode";case qe:return"Suspense";case Ye:return"SuspenseList";case V:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case me:return"Portal";case pe:return e.displayName||"Context";case re:return(e._context.displayName||"Context")+".Consumer";case Ne:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return n=e.displayName||null,n!==null?n:yt(e.type)||"Memo";case j:n=e._payload,e=e._init;try{return yt(e(n))}catch{}}return null}var Rt=Array.isArray,J=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae={pending:!1,data:null,method:null,action:null},at=[],tt=-1;function q(e){return{current:e}}function _e(e){0>tt||(e.current=at[tt],at[tt]=null,tt--)}function je(e,n){tt++,at[tt]=e.current,e.current=n}var Re=q(null),Be=q(null),$e=q(null),rt=q(null);function qt(e,n){switch(je($e,n),je(Be,e),je(Re,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?$y(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=$y(n),e=Zy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}_e(Re),je(Re,e)}function Oe(){_e(Re),_e(Be),_e($e)}function hn(e){e.memoizedState!==null&&je(rt,e);var n=Re.current,i=Zy(n,e.type);n!==i&&(je(Be,e),je(Re,i))}function On(e){Be.current===e&&(_e(Re),_e(Be)),rt.current===e&&(_e(rt),vu._currentValue=Ae)}var Ke,Je;function Ft(e){if(Ke===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Ke=n&&n[1]||"",Je=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ke+e+Je}var pt=!1;function Ut(e,n){if(!e||pt)return"";pt=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(ge){var he=ge}Reflect.construct(e,[],Ee)}else{try{Ee.call()}catch(ge){he=ge}e.call(Ee.prototype)}}else{try{throw Error()}catch(ge){he=ge}(Ee=e())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(ge){if(ge&&he&&typeof ge.stack=="string")return[ge.stack,he.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),w=m[0],C=m[1];if(w&&C){var L=w.split(`
`),ce=C.split(`
`);for(h=o=0;o<L.length&&!L[o].includes("DetermineComponentFrameRoot");)o++;for(;h<ce.length&&!ce[h].includes("DetermineComponentFrameRoot");)h++;if(o===L.length||h===ce.length)for(o=L.length-1,h=ce.length-1;1<=o&&0<=h&&L[o]!==ce[h];)h--;for(;1<=o&&0<=h;o--,h--)if(L[o]!==ce[h]){if(o!==1||h!==1)do if(o--,h--,0>h||L[o]!==ce[h]){var ve=`
`+L[o].replace(" at new "," at ");return e.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",e.displayName)),ve}while(1<=o&&0<=h);break}}}finally{pt=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Ft(i):""}function on(e,n){switch(e.tag){case 26:case 27:case 5:return Ft(e.type);case 16:return Ft("Lazy");case 13:return e.child!==n&&n!==null?Ft("Suspense Fallback"):Ft("Suspense");case 19:return Ft("SuspenseList");case 0:case 15:return Ut(e.type,!1);case 11:return Ut(e.type.render,!1);case 1:return Ut(e.type,!0);case 31:return Ft("Activity");default:return""}}function Yn(e){try{var n="",i=null;do n+=on(e,i),i=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Nt=Object.prototype.hasOwnProperty,Mt=a.unstable_scheduleCallback,wn=a.unstable_cancelCallback,Po=a.unstable_shouldYield,ni=a.unstable_requestPaint,Xn=a.unstable_now,Yr=a.unstable_getCurrentPriorityLevel,Xr=a.unstable_ImmediatePriority,$r=a.unstable_UserBlockingPriority,ya=a.unstable_NormalPriority,Ei=a.unstable_LowPriority,rs=a.unstable_IdlePriority,wi=a.log,va=a.unstable_setDisableYieldValue,fr=null,Tn=null;function Sn(e){if(typeof wi=="function"&&va(e),Tn&&typeof Tn.setStrictMode=="function")try{Tn.setStrictMode(fr,e)}catch{}}var Ue=Math.clz32?Math.clz32:Ti,ri=Math.log,Ar=Math.LN2;function Ti(e){return e>>>=0,e===0?32:31-(ri(e)/Ar|0)|0}var ke=256,za=262144,dn=4194304;function Rr(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Zr(e,n,i){var o=e.pendingLanes;if(o===0)return 0;var h=0,m=e.suspendedLanes,w=e.pingedLanes;e=e.warmLanes;var C=o&134217727;return C!==0?(o=C&~m,o!==0?h=Rr(o):(w&=C,w!==0?h=Rr(w):i||(i=C&~e,i!==0&&(h=Rr(i))))):(C=o&~m,C!==0?h=Rr(C):w!==0?h=Rr(w):i||(i=o&~e,i!==0&&(h=Rr(i)))),h===0?0:n!==0&&n!==h&&(n&m)===0&&(m=h&-h,i=n&-n,m>=i||m===32&&(i&4194048)!==0)?n:h}function br(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ul(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lo(){var e=dn;return dn<<=1,(dn&62914560)===0&&(dn=4194304),e}function ar(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Nr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function eo(e,n,i,o,h,m){var w=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var C=e.entanglements,L=e.expirationTimes,ce=e.hiddenUpdates;for(i=w&~i;0<i;){var ve=31-Ue(i),Ee=1<<ve;C[ve]=0,L[ve]=-1;var he=ce[ve];if(he!==null)for(ce[ve]=null,ve=0;ve<he.length;ve++){var ge=he[ve];ge!==null&&(ge.lane&=-536870913)}i&=~Ee}o!==0&&_a(e,o,0),m!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=m&~(w&~n))}function _a(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ue(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|i&261930}function zt(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var o=31-Ue(i),h=1<<o;h&n|e[o]&n&&(e[o]|=n),i&=~h}}function ln(e,n){var i=n&-n;return i=(i&42)!==0?1:Si(i),(i&(e.suspendedLanes|n))!==0?0:i}function Si(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Cr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ai(){var e=Se.p;return e!==0?e:(e=window.event,e===void 0?32:bv(e.type))}function hr(e,n){var i=Se.p;try{return Se.p=e,n()}finally{Se.p=i}}var Jr=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Jr,nn="__reactProps$"+Jr,Kn="__reactContainer$"+Jr,Ba="__reactEvents$"+Jr,zl="__reactListeners$"+Jr,Wr="__reactHandles$"+Jr,to="__reactResources$"+Jr,$n="__reactMarker$"+Jr;function Ri(e){delete e[Ht],delete e[nn],delete e[Ba],delete e[zl],delete e[Wr]}function Dr(e){var n=e[Ht];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Kn]||i[Ht]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=av(e);e!==null;){if(i=e[Ht])return i;e=av(e)}return n}e=i,i=e.parentNode}return null}function It(e){if(e=e[Ht]||e[Kn]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function An(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Mn(e){var n=e[to];return n||(n=e[to]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function mn(e){e[$n]=!0}var ba=new Set,ai={};function Ir(e,n){jr(e,n),jr(e+"Capture",n)}function jr(e,n){for(ai[e]=n,e=0;e<n.length;e++)ba.add(n[e])}var ea=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),as={},ii={};function no(e){return Nt.call(ii,e)?!0:Nt.call(as,e)?!1:ea.test(e)?ii[e]=!0:(as[e]=!0,!1)}function ht(e,n,i){if(no(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function dr(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function pn(e,n,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+o)}}function gn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Or(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function is(e,n,i){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(w){i=""+w,m.call(this,w)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(w){i=""+w},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Vt(e){if(!e._valueTracker){var n=Or(e)?"checked":"value";e._valueTracker=is(e,n,""+e[n])}}function si(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),o="";return e&&(o=Or(e)?e.checked?"true":"false":e.value),e=o,e!==i?(n.setValue(e),!0):!1}function bt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ta=/[\n"\\]/g;function Vn(e){return e.replace(ta,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function na(e,n,i,o,h,m,w,C){e.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.type=w:e.removeAttribute("type"),n!=null?w==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+gn(n)):e.value!==""+gn(n)&&(e.value=""+gn(n)):w!=="submit"&&w!=="reset"||e.removeAttribute("value"),n!=null?Ni(e,w,gn(n)):i!=null?Ni(e,w,gn(i)):o!=null&&e.removeAttribute("value"),h==null&&m!=null&&(e.defaultChecked=!!m),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+gn(C):e.removeAttribute("name")}function ss(e,n,i,o,h,m,w,C){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||i!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){Vt(e);return}i=i!=null?""+gn(i):"",n=n!=null?""+gn(n):i,C||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=C?e.checked:!!o,e.defaultChecked=!!o,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.name=w),Vt(e)}function Ni(e,n,i){n==="number"&&bt(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function ra(e,n,i,o){if(e=e.options,n){n={};for(var h=0;h<i.length;h++)n["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=n.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&o&&(e[i].defaultSelected=!0)}else{for(i=""+gn(i),n=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ro(e,n,i){if(n!=null&&(n=""+gn(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+gn(i):""}function aa(e,n,i,o){if(n==null){if(o!=null){if(i!=null)throw Error(s(92));if(Rt(o)){if(1<o.length)throw Error(s(93));o=o[0]}i=o}i==null&&(i=""),n=i}i=gn(n),e.defaultValue=i,o=e.textContent,o===i&&o!==""&&o!==null&&(e.value=o),Vt(e)}function ir(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Uo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _t(e,n,i){var o=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,i):typeof i!="number"||i===0||Uo.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function os(e,n,i){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&i[h]!==o&&_t(e,h,o)}else for(var m in n)n.hasOwnProperty(m)&&_t(e,m,n[m])}function ls(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ia(e){return bn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function mr(){}var Mr=null;function xr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qa=null,Kt=null;function Zn(e){var n=It(e);if(n&&(e=n.stateNode)){var i=e[nn]||null;e:switch(e=n.stateNode,n.type){case"input":if(na(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Vn(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var o=i[n];if(o!==e&&o.form===e.form){var h=o[nn]||null;if(!h)throw Error(s(90));na(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<i.length;n++)o=i[n],o.form===e.form&&si(o)}break e;case"textarea":ro(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&ra(e,!!i.multiple,n,!1)}}}var xa=!1;function Vr(e,n,i){if(xa)return e(n,i);xa=!0;try{var o=e(n);return o}finally{if(xa=!1,(qa!==null||Kt!==null)&&(Dc(),qa&&(n=qa,e=Kt,Kt=qa=null,Zn(n),e)))for(n=0;n<e.length;n++)Zn(e[n])}}function Er(e,n){var i=e.stateNode;if(i===null)return null;var o=i[nn]||null;if(o===null)return null;i=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,n,typeof i));return i}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ci=!1;if(Rn)try{var vt={};Object.defineProperty(vt,"passive",{get:function(){Ci=!0}}),window.addEventListener("test",vt,vt),window.removeEventListener("test",vt,vt)}catch{Ci=!1}var kr=null,us=null,Fa=null;function Ha(){if(Fa)return Fa;var e,n=us,i=n.length,o,h="value"in kr?kr.value:kr.textContent,m=h.length;for(e=0;e<i&&n[e]===h[e];e++);var w=i-e;for(o=1;o<=w&&n[i-o]===h[m-o];o++);return Fa=h.slice(e,1<o?1-o:void 0)}function Ka(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ea(){return!0}function sa(){return!1}function yn(e){function n(i,o,h,m,w){this._reactName=i,this._targetInst=h,this.type=o,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(i=e[C],this[C]=i?i(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ea:sa,this.isPropagationStopped=sa,this}return N(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ea)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ea)},persist:function(){},isPersistent:Ea}),n}var Ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=yn(Ga),oa=N({},Ga,{view:0,detail:0}),oi=yn(oa),Ta,cs,Sa,fs=N({},oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Sa&&(Sa&&e.type==="mousemove"?(Ta=e.screenX-Sa.screenX,cs=e.screenY-Sa.screenY):cs=Ta=0,Sa=e),Ta)},movementY:function(e){return"movementY"in e?e.movementY:cs}}),Di=yn(fs),Qa=N({},fs,{dataTransfer:0}),ao=yn(Qa),Ii=N({},oa,{relatedTarget:0}),Aa=yn(Ii),li=N({},Ga,{animationName:0,elapsedTime:0,pseudoElement:0}),io=yn(li),hs=N({},Ga,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ya=yn(hs),ds=N({},Ga,{data:0}),Pr=yn(ds),ms={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ps={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ui(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Nn[e])?!!n[e]:!1}function Lr(){return ui}var Jn=N({},oa,{key:function(e){if(e.key){var n=ms[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ka(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ps[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lr,charCode:function(e){return e.type==="keypress"?Ka(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ka(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ji=yn(Jn),so=N({},fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ra=yn(so),u=N({},oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lr}),x=yn(u),T=N({},Ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),D=yn(T),ie=N({},fs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),de=yn(ie),Me=N({},Ga,{newState:0,oldState:0}),lt=yn(Me),vn=[9,13,27,32],Ct=Rn&&"CompositionEvent"in window,Gt=null;Rn&&"documentMode"in document&&(Gt=document.documentMode);var Ur=Rn&&"TextEvent"in window&&!Gt,zr=Rn&&(!Ct||Gt&&8<Gt&&11>=Gt),wr=" ",la=!1;function ci(e,n){switch(e){case"keyup":return vn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gs(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Oi=!1;function $u(e,n){switch(e){case"compositionend":return gs(n);case"keypress":return n.which!==32?null:(la=!0,wr);case"textInput":return e=n.data,e===wr&&la?null:e;default:return null}}function rh(e,n){if(Oi)return e==="compositionend"||!Ct&&ci(e,n)?(e=Ha(),Fa=us=kr=null,Oi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return zr&&n.locale!=="ko"?null:n.data;default:return null}}var Zu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bo(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Zu[e.type]:n==="textarea"}function Bl(e,n,i,o){qa?Kt?Kt.push(o):Kt=[o]:qa=o,n=Pc(n,"onChange"),0<n.length&&(i=new wa("onChange","change",null,i,o),e.push({event:i,listeners:n}))}var ys=null,oo=null;function ah(e){Hy(e,0)}function qo(e){var n=An(e);if(si(n))return e}function lo(e,n){if(e==="change")return n}var Na=!1;if(Rn){var rn;if(Rn){var vs="oninput"in document;if(!vs){var Tr=document.createElement("div");Tr.setAttribute("oninput","return;"),vs=typeof Tr.oninput=="function"}rn=vs}else rn=!1;Na=rn&&(!document.documentMode||9<document.documentMode)}function Ju(){ys&&(ys.detachEvent("onpropertychange",Fo),oo=ys=null)}function Fo(e){if(e.propertyName==="value"&&qo(oo)){var n=[];Bl(n,oo,e,xr(e)),Vr(ah,n)}}function Wu(e,n,i){e==="focusin"?(Ju(),ys=n,oo=i,ys.attachEvent("onpropertychange",Fo)):e==="focusout"&&Ju()}function Mi(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qo(oo)}function ql(e,n){if(e==="click")return qo(n)}function _s(e,n){if(e==="input"||e==="change")return qo(n)}function fi(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pr=typeof Object.is=="function"?Object.is:fi;function f(e,n){if(pr(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),o=Object.keys(n);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var h=i[o];if(!Nt.call(n,h)||!pr(e[h],n[h]))return!1}return!0}function d(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function g(e,n){var i=d(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=n&&o>=n)return{node:i,offset:n-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=d(i)}}function E(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?E(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function S(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=bt(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=bt(e.document)}return n}function R(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var I=Rn&&"documentMode"in document&&11>=document.documentMode,P=null,F=null,H=null,W=!1;function U(e,n,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;W||P==null||P!==bt(o)||(o=P,"selectionStart"in o&&R(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),H&&f(H,o)||(H=o,o=Pc(F,"onSelect"),0<o.length&&(n=new wa("onSelect","select",null,n,i),e.push({event:n,listeners:o}),n.target=P)))}function ne(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var K={animationend:ne("Animation","AnimationEnd"),animationiteration:ne("Animation","AnimationIteration"),animationstart:ne("Animation","AnimationStart"),transitionrun:ne("Transition","TransitionRun"),transitionstart:ne("Transition","TransitionStart"),transitioncancel:ne("Transition","TransitionCancel"),transitionend:ne("Transition","TransitionEnd")},X={},$={};Rn&&($=document.createElement("div").style,"AnimationEvent"in window||(delete K.animationend.animation,delete K.animationiteration.animation,delete K.animationstart.animation),"TransitionEvent"in window||delete K.transitionend.transition);function ee(e){if(X[e])return X[e];if(!K[e])return e;var n=K[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in $)return X[e]=n[i];return e}var oe=ee("animationend"),fe=ee("animationiteration"),ye=ee("animationstart"),xe=ee("transitionrun"),Ie=ee("transitionstart"),Le=ee("transitioncancel"),Ce=ee("transitionend"),Ve=new Map,Pe="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pe.push("scrollEnd");function De(e,n){Ve.set(e,n),Ir(n,[e])}var ze=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},We=[],ot=0,dt=0;function Wn(){for(var e=ot,n=dt=ot=0;n<e;){var i=We[n];We[n++]=null;var o=We[n];We[n++]=null;var h=We[n];We[n++]=null;var m=We[n];if(We[n++]=null,o!==null&&h!==null){var w=o.pending;w===null?h.next=h:(h.next=w.next,w.next=h),o.pending=h}m!==0&&uo(i,h,m)}}function st(e,n,i,o){We[ot++]=e,We[ot++]=n,We[ot++]=i,We[ot++]=o,dt|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function kn(e,n,i,o){return st(e,n,i,o),Pn(e)}function un(e,n){return st(e,null,null,n),Pn(e)}function uo(e,n,i){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i);for(var h=!1,m=e.return;m!==null;)m.childLanes|=i,o=m.alternate,o!==null&&(o.childLanes|=i),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(h=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,h&&n!==null&&(h=31-Ue(i),e=m.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=i|536870912),m):null}function Pn(e){if(50<fu)throw fu=0,dd=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Br={};function Fl(e,n,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ua(e,n,i,o){return new Fl(e,n,i,o)}function ih(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vi(e,n){var i=e.alternate;return i===null?(i=ua(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Ap(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ec(e,n,i,o,h,m){var w=0;if(o=e,typeof e=="function")ih(e)&&(w=1);else if(typeof e=="string")w=Ox(e,i,Re.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case V:return e=ua(31,i,n,h),e.elementType=V,e.lanes=m,e;case ue:return co(i.children,h,m,n);case te:w=8,h|=24;break;case Y:return e=ua(12,i,n,h|2),e.elementType=Y,e.lanes=m,e;case qe:return e=ua(13,i,n,h),e.elementType=qe,e.lanes=m,e;case Ye:return e=ua(19,i,n,h),e.elementType=Ye,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pe:w=10;break e;case re:w=9;break e;case Ne:w=11;break e;case M:w=14;break e;case j:w=16,o=null;break e}w=29,i=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=ua(w,i,n,h),n.elementType=e,n.type=o,n.lanes=m,n}function co(e,n,i,o){return e=ua(7,e,o,n),e.lanes=i,e}function sh(e,n,i){return e=ua(6,e,null,n),e.lanes=i,e}function Rp(e){var n=ua(18,null,null,0);return n.stateNode=e,n}function oh(e,n,i){return n=ua(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Np=new WeakMap;function Ca(e,n){if(typeof e=="object"&&e!==null){var i=Np.get(e);return i!==void 0?i:(n={value:e,source:n,stack:Yn(n)},Np.set(e,n),n)}return{value:e,source:n,stack:Yn(n)}}var Ho=[],Ko=0,tc=null,Hl=0,Da=[],Ia=0,bs=null,hi=1,di="";function ki(e,n){Ho[Ko++]=Hl,Ho[Ko++]=tc,tc=e,Hl=n}function Cp(e,n,i){Da[Ia++]=hi,Da[Ia++]=di,Da[Ia++]=bs,bs=e;var o=hi;e=di;var h=32-Ue(o)-1;o&=~(1<<h),i+=1;var m=32-Ue(n)+h;if(30<m){var w=h-h%5;m=(o&(1<<w)-1).toString(32),o>>=w,h-=w,hi=1<<32-Ue(n)+h|i<<h|o,di=m+e}else hi=1<<m|i<<h|o,di=e}function lh(e){e.return!==null&&(ki(e,1),Cp(e,1,0))}function uh(e){for(;e===tc;)tc=Ho[--Ko],Ho[Ko]=null,Hl=Ho[--Ko],Ho[Ko]=null;for(;e===bs;)bs=Da[--Ia],Da[Ia]=null,di=Da[--Ia],Da[Ia]=null,hi=Da[--Ia],Da[Ia]=null}function Dp(e,n){Da[Ia++]=hi,Da[Ia++]=di,Da[Ia++]=bs,hi=n.id,di=n.overflow,bs=e}var sr=null,an=null,Dt=!1,xs=null,ja=!1,ch=Error(s(519));function Es(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kl(Ca(n,e)),ch}function Ip(e){var n=e.stateNode,i=e.type,o=e.memoizedProps;switch(n[Ht]=e,n[nn]=o,i){case"dialog":Et("cancel",n),Et("close",n);break;case"iframe":case"object":case"embed":Et("load",n);break;case"video":case"audio":for(i=0;i<du.length;i++)Et(du[i],n);break;case"source":Et("error",n);break;case"img":case"image":case"link":Et("error",n),Et("load",n);break;case"details":Et("toggle",n);break;case"input":Et("invalid",n),ss(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Et("invalid",n);break;case"textarea":Et("invalid",n),aa(n,o.value,o.defaultValue,o.children)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||o.suppressHydrationWarning===!0||Yy(n.textContent,i)?(o.popover!=null&&(Et("beforetoggle",n),Et("toggle",n)),o.onScroll!=null&&Et("scroll",n),o.onScrollEnd!=null&&Et("scrollend",n),o.onClick!=null&&(n.onclick=mr),n=!0):n=!1,n||Es(e,!0)}function jp(e){for(sr=e.return;sr;)switch(sr.tag){case 5:case 31:case 13:ja=!1;return;case 27:case 3:ja=!0;return;default:sr=sr.return}}function Go(e){if(e!==sr)return!1;if(!Dt)return jp(e),Dt=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Nd(e.type,e.memoizedProps)),i=!i),i&&an&&Es(e),jp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));an=rv(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));an=rv(e)}else n===27?(n=an,ks(e.type)?(e=Od,Od=null,an=e):an=n):an=sr?Ma(e.stateNode.nextSibling):null;return!0}function fo(){an=sr=null,Dt=!1}function fh(){var e=xs;return e!==null&&(Kr===null?Kr=e:Kr.push.apply(Kr,e),xs=null),e}function Kl(e){xs===null?xs=[e]:xs.push(e)}var hh=q(null),ho=null,Pi=null;function ws(e,n,i){je(hh,n._currentValue),n._currentValue=i}function Li(e){e._currentValue=hh.current,_e(hh)}function dh(e,n,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===i)break;e=e.return}}function mh(e,n,i,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var m=h.dependencies;if(m!==null){var w=h.child;m=m.firstContext;e:for(;m!==null;){var C=m;m=h;for(var L=0;L<n.length;L++)if(C.context===n[L]){m.lanes|=i,C=m.alternate,C!==null&&(C.lanes|=i),dh(m.return,i,e),o||(w=null);break e}m=C.next}}else if(h.tag===18){if(w=h.return,w===null)throw Error(s(341));w.lanes|=i,m=w.alternate,m!==null&&(m.lanes|=i),dh(w,i,e),w=null}else w=h.child;if(w!==null)w.return=h;else for(w=h;w!==null;){if(w===e){w=null;break}if(h=w.sibling,h!==null){h.return=w.return,w=h;break}w=w.return}h=w}}function Qo(e,n,i,o){e=null;for(var h=n,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var w=h.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var C=h.type;pr(h.pendingProps.value,w.value)||(e!==null?e.push(C):e=[C])}}else if(h===rt.current){if(w=h.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(vu):e=[vu])}h=h.return}e!==null&&mh(n,e,i,o),n.flags|=262144}function nc(e){for(e=e.firstContext;e!==null;){if(!pr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function mo(e){ho=e,Pi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function or(e){return Op(ho,e)}function rc(e,n){return ho===null&&mo(e),Op(e,n)}function Op(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},Pi===null){if(e===null)throw Error(s(308));Pi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Pi=Pi.next=n;return i}var C1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},D1=a.unstable_scheduleCallback,I1=a.unstable_NormalPriority,Ln={$$typeof:pe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ph(){return{controller:new C1,data:new Map,refCount:0}}function Gl(e){e.refCount--,e.refCount===0&&D1(I1,function(){e.controller.abort()})}var Ql=null,gh=0,Yo=0,Xo=null;function j1(e,n){if(Ql===null){var i=Ql=[];gh=0,Yo=_d(),Xo={status:"pending",value:void 0,then:function(o){i.push(o)}}}return gh++,n.then(Mp,Mp),n}function Mp(){if(--gh===0&&Ql!==null){Xo!==null&&(Xo.status="fulfilled");var e=Ql;Ql=null,Yo=0,Xo=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function O1(e,n){var i=[],o={status:"pending",value:null,reason:null,then:function(h){i.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<i.length;h++)(0,i[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<i.length;h++)(0,i[h])(void 0)}),o}var Vp=J.S;J.S=function(e,n){vy=Xn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&j1(e,n),Vp!==null&&Vp(e,n)};var po=q(null);function yh(){var e=po.current;return e!==null?e:Wt.pooledCache}function ac(e,n){n===null?je(po,po.current):je(po,n.pool)}function kp(){var e=yh();return e===null?null:{parent:Ln._currentValue,pool:e}}var $o=Error(s(460)),vh=Error(s(474)),ic=Error(s(542)),sc={then:function(){}};function Pp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Lp(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(mr,mr),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zp(e),e;default:if(typeof n.status=="string")n.then(mr,mr);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zp(e),e}throw yo=n,$o}}function go(e){try{var n=e._init;return n(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(yo=i,$o):i}}var yo=null;function Up(){if(yo===null)throw Error(s(459));var e=yo;return yo=null,e}function zp(e){if(e===$o||e===ic)throw Error(s(483))}var Zo=null,Yl=0;function oc(e){var n=Yl;return Yl+=1,Zo===null&&(Zo=[]),Lp(Zo,e,n)}function Xl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function lc(e,n){throw n.$$typeof===O?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Bp(e){function n(ae,G){if(e){var le=ae.deletions;le===null?(ae.deletions=[G],ae.flags|=16):le.push(G)}}function i(ae,G){if(!e)return null;for(;G!==null;)n(ae,G),G=G.sibling;return null}function o(ae){for(var G=new Map;ae!==null;)ae.key!==null?G.set(ae.key,ae):G.set(ae.index,ae),ae=ae.sibling;return G}function h(ae,G){return ae=Vi(ae,G),ae.index=0,ae.sibling=null,ae}function m(ae,G,le){return ae.index=le,e?(le=ae.alternate,le!==null?(le=le.index,le<G?(ae.flags|=67108866,G):le):(ae.flags|=67108866,G)):(ae.flags|=1048576,G)}function w(ae){return e&&ae.alternate===null&&(ae.flags|=67108866),ae}function C(ae,G,le,be){return G===null||G.tag!==6?(G=sh(le,ae.mode,be),G.return=ae,G):(G=h(G,le),G.return=ae,G)}function L(ae,G,le,be){var et=le.type;return et===ue?ve(ae,G,le.props.children,be,le.key):G!==null&&(G.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===j&&go(et)===G.type)?(G=h(G,le.props),Xl(G,le),G.return=ae,G):(G=ec(le.type,le.key,le.props,null,ae.mode,be),Xl(G,le),G.return=ae,G)}function ce(ae,G,le,be){return G===null||G.tag!==4||G.stateNode.containerInfo!==le.containerInfo||G.stateNode.implementation!==le.implementation?(G=oh(le,ae.mode,be),G.return=ae,G):(G=h(G,le.children||[]),G.return=ae,G)}function ve(ae,G,le,be,et){return G===null||G.tag!==7?(G=co(le,ae.mode,be,et),G.return=ae,G):(G=h(G,le),G.return=ae,G)}function Ee(ae,G,le){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=sh(""+G,ae.mode,le),G.return=ae,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Q:return le=ec(G.type,G.key,G.props,null,ae.mode,le),Xl(le,G),le.return=ae,le;case me:return G=oh(G,ae.mode,le),G.return=ae,G;case j:return G=go(G),Ee(ae,G,le)}if(Rt(G)||Z(G))return G=co(G,ae.mode,le,null),G.return=ae,G;if(typeof G.then=="function")return Ee(ae,oc(G),le);if(G.$$typeof===pe)return Ee(ae,rc(ae,G),le);lc(ae,G)}return null}function he(ae,G,le,be){var et=G!==null?G.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return et!==null?null:C(ae,G,""+le,be);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case Q:return le.key===et?L(ae,G,le,be):null;case me:return le.key===et?ce(ae,G,le,be):null;case j:return le=go(le),he(ae,G,le,be)}if(Rt(le)||Z(le))return et!==null?null:ve(ae,G,le,be,null);if(typeof le.then=="function")return he(ae,G,oc(le),be);if(le.$$typeof===pe)return he(ae,G,rc(ae,le),be);lc(ae,le)}return null}function ge(ae,G,le,be,et){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return ae=ae.get(le)||null,C(G,ae,""+be,et);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case Q:return ae=ae.get(be.key===null?le:be.key)||null,L(G,ae,be,et);case me:return ae=ae.get(be.key===null?le:be.key)||null,ce(G,ae,be,et);case j:return be=go(be),ge(ae,G,le,be,et)}if(Rt(be)||Z(be))return ae=ae.get(le)||null,ve(G,ae,be,et,null);if(typeof be.then=="function")return ge(ae,G,le,oc(be),et);if(be.$$typeof===pe)return ge(ae,G,le,rc(G,be),et);lc(G,be)}return null}function Ge(ae,G,le,be){for(var et=null,kt=null,Xe=G,gt=G=0,Tt=null;Xe!==null&&gt<le.length;gt++){Xe.index>gt?(Tt=Xe,Xe=null):Tt=Xe.sibling;var Pt=he(ae,Xe,le[gt],be);if(Pt===null){Xe===null&&(Xe=Tt);break}e&&Xe&&Pt.alternate===null&&n(ae,Xe),G=m(Pt,G,gt),kt===null?et=Pt:kt.sibling=Pt,kt=Pt,Xe=Tt}if(gt===le.length)return i(ae,Xe),Dt&&ki(ae,gt),et;if(Xe===null){for(;gt<le.length;gt++)Xe=Ee(ae,le[gt],be),Xe!==null&&(G=m(Xe,G,gt),kt===null?et=Xe:kt.sibling=Xe,kt=Xe);return Dt&&ki(ae,gt),et}for(Xe=o(Xe);gt<le.length;gt++)Tt=ge(Xe,ae,gt,le[gt],be),Tt!==null&&(e&&Tt.alternate!==null&&Xe.delete(Tt.key===null?gt:Tt.key),G=m(Tt,G,gt),kt===null?et=Tt:kt.sibling=Tt,kt=Tt);return e&&Xe.forEach(function(Bs){return n(ae,Bs)}),Dt&&ki(ae,gt),et}function nt(ae,G,le,be){if(le==null)throw Error(s(151));for(var et=null,kt=null,Xe=G,gt=G=0,Tt=null,Pt=le.next();Xe!==null&&!Pt.done;gt++,Pt=le.next()){Xe.index>gt?(Tt=Xe,Xe=null):Tt=Xe.sibling;var Bs=he(ae,Xe,Pt.value,be);if(Bs===null){Xe===null&&(Xe=Tt);break}e&&Xe&&Bs.alternate===null&&n(ae,Xe),G=m(Bs,G,gt),kt===null?et=Bs:kt.sibling=Bs,kt=Bs,Xe=Tt}if(Pt.done)return i(ae,Xe),Dt&&ki(ae,gt),et;if(Xe===null){for(;!Pt.done;gt++,Pt=le.next())Pt=Ee(ae,Pt.value,be),Pt!==null&&(G=m(Pt,G,gt),kt===null?et=Pt:kt.sibling=Pt,kt=Pt);return Dt&&ki(ae,gt),et}for(Xe=o(Xe);!Pt.done;gt++,Pt=le.next())Pt=ge(Xe,ae,gt,Pt.value,be),Pt!==null&&(e&&Pt.alternate!==null&&Xe.delete(Pt.key===null?gt:Pt.key),G=m(Pt,G,gt),kt===null?et=Pt:kt.sibling=Pt,kt=Pt);return e&&Xe.forEach(function(Hx){return n(ae,Hx)}),Dt&&ki(ae,gt),et}function Zt(ae,G,le,be){if(typeof le=="object"&&le!==null&&le.type===ue&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case Q:e:{for(var et=le.key;G!==null;){if(G.key===et){if(et=le.type,et===ue){if(G.tag===7){i(ae,G.sibling),be=h(G,le.props.children),be.return=ae,ae=be;break e}}else if(G.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===j&&go(et)===G.type){i(ae,G.sibling),be=h(G,le.props),Xl(be,le),be.return=ae,ae=be;break e}i(ae,G);break}else n(ae,G);G=G.sibling}le.type===ue?(be=co(le.props.children,ae.mode,be,le.key),be.return=ae,ae=be):(be=ec(le.type,le.key,le.props,null,ae.mode,be),Xl(be,le),be.return=ae,ae=be)}return w(ae);case me:e:{for(et=le.key;G!==null;){if(G.key===et)if(G.tag===4&&G.stateNode.containerInfo===le.containerInfo&&G.stateNode.implementation===le.implementation){i(ae,G.sibling),be=h(G,le.children||[]),be.return=ae,ae=be;break e}else{i(ae,G);break}else n(ae,G);G=G.sibling}be=oh(le,ae.mode,be),be.return=ae,ae=be}return w(ae);case j:return le=go(le),Zt(ae,G,le,be)}if(Rt(le))return Ge(ae,G,le,be);if(Z(le)){if(et=Z(le),typeof et!="function")throw Error(s(150));return le=et.call(le),nt(ae,G,le,be)}if(typeof le.then=="function")return Zt(ae,G,oc(le),be);if(le.$$typeof===pe)return Zt(ae,G,rc(ae,le),be);lc(ae,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,G!==null&&G.tag===6?(i(ae,G.sibling),be=h(G,le),be.return=ae,ae=be):(i(ae,G),be=sh(le,ae.mode,be),be.return=ae,ae=be),w(ae)):i(ae,G)}return function(ae,G,le,be){try{Yl=0;var et=Zt(ae,G,le,be);return Zo=null,et}catch(Xe){if(Xe===$o||Xe===ic)throw Xe;var kt=ua(29,Xe,null,ae.mode);return kt.lanes=be,kt.return=ae,kt}finally{}}}var vo=Bp(!0),qp=Bp(!1),Ts=!1;function _h(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ss(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function As(e,n,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Lt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Pn(e),uo(e,null,i),n}return st(e,o,n,i),Pn(e)}function $l(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,zt(e,i)}}function xh(e,n){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var h=null,m=null;if(i=i.firstBaseUpdate,i!==null){do{var w={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};m===null?h=m=w:m=m.next=w,i=i.next}while(i!==null);m===null?h=m=n:m=m.next=n}else h=m=n;i={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Eh=!1;function Zl(){if(Eh){var e=Xo;if(e!==null)throw e}}function Jl(e,n,i,o){Eh=!1;var h=e.updateQueue;Ts=!1;var m=h.firstBaseUpdate,w=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var L=C,ce=L.next;L.next=null,w===null?m=ce:w.next=ce,w=L;var ve=e.alternate;ve!==null&&(ve=ve.updateQueue,C=ve.lastBaseUpdate,C!==w&&(C===null?ve.firstBaseUpdate=ce:C.next=ce,ve.lastBaseUpdate=L))}if(m!==null){var Ee=h.baseState;w=0,ve=ce=L=null,C=m;do{var he=C.lane&-536870913,ge=he!==C.lane;if(ge?(wt&he)===he:(o&he)===he){he!==0&&he===Yo&&(Eh=!0),ve!==null&&(ve=ve.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Ge=e,nt=C;he=n;var Zt=i;switch(nt.tag){case 1:if(Ge=nt.payload,typeof Ge=="function"){Ee=Ge.call(Zt,Ee,he);break e}Ee=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=nt.payload,he=typeof Ge=="function"?Ge.call(Zt,Ee,he):Ge,he==null)break e;Ee=N({},Ee,he);break e;case 2:Ts=!0}}he=C.callback,he!==null&&(e.flags|=64,ge&&(e.flags|=8192),ge=h.callbacks,ge===null?h.callbacks=[he]:ge.push(he))}else ge={lane:he,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ve===null?(ce=ve=ge,L=Ee):ve=ve.next=ge,w|=he;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;ge=C,C=ge.next,ge.next=null,h.lastBaseUpdate=ge,h.shared.pending=null}}while(!0);ve===null&&(L=Ee),h.baseState=L,h.firstBaseUpdate=ce,h.lastBaseUpdate=ve,m===null&&(h.shared.lanes=0),Is|=w,e.lanes=w,e.memoizedState=Ee}}function Fp(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Hp(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Fp(i[e],n)}var Jo=q(null),uc=q(0);function Kp(e,n){e=Qi,je(uc,e),je(Jo,n),Qi=e|n.baseLanes}function wh(){je(uc,Qi),je(Jo,Jo.current)}function Th(){Qi=uc.current,_e(Jo),_e(uc)}var ca=q(null),Oa=null;function Rs(e){var n=e.alternate;je(Cn,Cn.current&1),je(ca,e),Oa===null&&(n===null||Jo.current!==null||n.memoizedState!==null)&&(Oa=e)}function Sh(e){je(Cn,Cn.current),je(ca,e),Oa===null&&(Oa=e)}function Gp(e){e.tag===22?(je(Cn,Cn.current),je(ca,e),Oa===null&&(Oa=e)):Ns()}function Ns(){je(Cn,Cn.current),je(ca,ca.current)}function fa(e){_e(ca),Oa===e&&(Oa=null),_e(Cn)}var Cn=q(0);function cc(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Id(i)||jd(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ui=0,mt=null,Xt=null,Un=null,fc=!1,Wo=!1,_o=!1,hc=0,Wl=0,el=null,M1=0;function xn(){throw Error(s(321))}function Ah(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!pr(e[i],n[i]))return!1;return!0}function Rh(e,n,i,o,h,m){return Ui=m,mt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,J.H=e===null||e.memoizedState===null?Cg:qh,_o=!1,m=i(o,h),_o=!1,Wo&&(m=Yp(n,i,o,h)),Qp(e),m}function Qp(e){J.H=nu;var n=Xt!==null&&Xt.next!==null;if(Ui=0,Un=Xt=mt=null,fc=!1,Wl=0,el=null,n)throw Error(s(300));e===null||zn||(e=e.dependencies,e!==null&&nc(e)&&(zn=!0))}function Yp(e,n,i,o){mt=e;var h=0;do{if(Wo&&(el=null),Wl=0,Wo=!1,25<=h)throw Error(s(301));if(h+=1,Un=Xt=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}J.H=Dg,m=n(i,o)}while(Wo);return m}function V1(){var e=J.H,n=e.useState()[0];return n=typeof n.then=="function"?eu(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(mt.flags|=1024),n}function Nh(){var e=hc!==0;return hc=0,e}function Ch(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function Dh(e){if(fc){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}fc=!1}Ui=0,Un=Xt=mt=null,Wo=!1,Wl=hc=0,el=null}function Sr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?mt.memoizedState=Un=e:Un=Un.next=e,Un}function Dn(){if(Xt===null){var e=mt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=Un===null?mt.memoizedState:Un.next;if(n!==null)Un=n,Xt=e;else{if(e===null)throw mt.alternate===null?Error(s(467)):Error(s(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Un===null?mt.memoizedState=Un=e:Un=Un.next=e}return Un}function dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eu(e){var n=Wl;return Wl+=1,el===null&&(el=[]),e=Lp(el,e,n),n=mt,(Un===null?n.memoizedState:Un.next)===null&&(n=n.alternate,J.H=n===null||n.memoizedState===null?Cg:qh),e}function mc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return eu(e);if(e.$$typeof===pe)return or(e)}throw Error(s(438,String(e)))}function Ih(e){var n=null,i=mt.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var o=mt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=dc(),mt.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),o=0;o<e;o++)i[o]=B;return n.index++,i}function zi(e,n){return typeof n=="function"?n(e):n}function pc(e){var n=Dn();return jh(n,Xt,e)}function jh(e,n,i){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var h=e.baseQueue,m=o.pending;if(m!==null){if(h!==null){var w=h.next;h.next=m.next,m.next=w}n.baseQueue=h=m,o.pending=null}if(m=e.baseState,h===null)e.memoizedState=m;else{n=h.next;var C=w=null,L=null,ce=n,ve=!1;do{var Ee=ce.lane&-536870913;if(Ee!==ce.lane?(wt&Ee)===Ee:(Ui&Ee)===Ee){var he=ce.revertLane;if(he===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),Ee===Yo&&(ve=!0);else if((Ui&he)===he){ce=ce.next,he===Yo&&(ve=!0);continue}else Ee={lane:0,revertLane:ce.revertLane,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},L===null?(C=L=Ee,w=m):L=L.next=Ee,mt.lanes|=he,Is|=he;Ee=ce.action,_o&&i(m,Ee),m=ce.hasEagerState?ce.eagerState:i(m,Ee)}else he={lane:Ee,revertLane:ce.revertLane,gesture:ce.gesture,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},L===null?(C=L=he,w=m):L=L.next=he,mt.lanes|=Ee,Is|=Ee;ce=ce.next}while(ce!==null&&ce!==n);if(L===null?w=m:L.next=C,!pr(m,e.memoizedState)&&(zn=!0,ve&&(i=Xo,i!==null)))throw i;e.memoizedState=m,e.baseState=w,e.baseQueue=L,o.lastRenderedState=m}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Oh(e){var n=Dn(),i=n.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var o=i.dispatch,h=i.pending,m=n.memoizedState;if(h!==null){i.pending=null;var w=h=h.next;do m=e(m,w.action),w=w.next;while(w!==h);pr(m,n.memoizedState)||(zn=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),i.lastRenderedState=m}return[m,o]}function Xp(e,n,i){var o=mt,h=Dn(),m=Dt;if(m){if(i===void 0)throw Error(s(407));i=i()}else i=n();var w=!pr((Xt||h).memoizedState,i);if(w&&(h.memoizedState=i,zn=!0),h=h.queue,kh(Jp.bind(null,o,h,e),[e]),h.getSnapshot!==n||w||Un!==null&&Un.memoizedState.tag&1){if(o.flags|=2048,tl(9,{destroy:void 0},Zp.bind(null,o,h,i,n),null),Wt===null)throw Error(s(349));m||(Ui&127)!==0||$p(o,n,i)}return i}function $p(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=mt.updateQueue,n===null?(n=dc(),mt.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Zp(e,n,i,o){n.value=i,n.getSnapshot=o,Wp(n)&&eg(e)}function Jp(e,n,i){return i(function(){Wp(n)&&eg(e)})}function Wp(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!pr(e,i)}catch{return!0}}function eg(e){var n=un(e,2);n!==null&&Gr(n,e,2)}function Mh(e){var n=Sr();if(typeof e=="function"){var i=e;if(e=i(),_o){Sn(!0);try{i()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},n}function tg(e,n,i,o){return e.baseState=i,jh(e,Xt,typeof o=="function"?o:zi)}function k1(e,n,i,o,h){if(vc(e))throw Error(s(485));if(e=n.action,e!==null){var m={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){m.listeners.push(w)}};J.T!==null?i(!0):m.isTransition=!1,o(m),i=n.pending,i===null?(m.next=n.pending=m,ng(n,m)):(m.next=i.next,n.pending=i.next=m)}}function ng(e,n){var i=n.action,o=n.payload,h=e.state;if(n.isTransition){var m=J.T,w={};J.T=w;try{var C=i(h,o),L=J.S;L!==null&&L(w,C),rg(e,n,C)}catch(ce){Vh(e,n,ce)}finally{m!==null&&w.types!==null&&(m.types=w.types),J.T=m}}else try{m=i(h,o),rg(e,n,m)}catch(ce){Vh(e,n,ce)}}function rg(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){ag(e,n,o)},function(o){return Vh(e,n,o)}):ag(e,n,i)}function ag(e,n,i){n.status="fulfilled",n.value=i,ig(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,ng(e,i)))}function Vh(e,n,i){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=i,ig(n),n=n.next;while(n!==o)}e.action=null}function ig(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function sg(e,n){return n}function og(e,n){if(Dt){var i=Wt.formState;if(i!==null){e:{var o=mt;if(Dt){if(an){t:{for(var h=an,m=ja;h.nodeType!==8;){if(!m){h=null;break t}if(h=Ma(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){an=Ma(h.nextSibling),o=h.data==="F!";break e}}Es(o)}o=!1}o&&(n=i[0])}}return i=Sr(),i.memoizedState=i.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sg,lastRenderedState:n},i.queue=o,i=Ag.bind(null,mt,o),o.dispatch=i,o=Mh(!1),m=Bh.bind(null,mt,!1,o.queue),o=Sr(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,i=k1.bind(null,mt,h,m,i),h.dispatch=i,o.memoizedState=e,[n,i,!1]}function lg(e){var n=Dn();return ug(n,Xt,e)}function ug(e,n,i){if(n=jh(e,n,sg)[0],e=pc(zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=eu(n)}catch(w){throw w===$o?ic:w}else o=n;n=Dn();var h=n.queue,m=h.dispatch;return i!==n.memoizedState&&(mt.flags|=2048,tl(9,{destroy:void 0},P1.bind(null,h,i),null)),[o,m,e]}function P1(e,n){e.action=n}function cg(e){var n=Dn(),i=Xt;if(i!==null)return ug(n,i,e);Dn(),n=n.memoizedState,i=Dn();var o=i.queue.dispatch;return i.memoizedState=e,[n,o,!1]}function tl(e,n,i,o){return e={tag:e,create:i,deps:o,inst:n,next:null},n=mt.updateQueue,n===null&&(n=dc(),mt.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,n.lastEffect=e),e}function fg(){return Dn().memoizedState}function gc(e,n,i,o){var h=Sr();mt.flags|=e,h.memoizedState=tl(1|n,{destroy:void 0},i,o===void 0?null:o)}function yc(e,n,i,o){var h=Dn();o=o===void 0?null:o;var m=h.memoizedState.inst;Xt!==null&&o!==null&&Ah(o,Xt.memoizedState.deps)?h.memoizedState=tl(n,m,i,o):(mt.flags|=e,h.memoizedState=tl(1|n,m,i,o))}function hg(e,n){gc(8390656,8,e,n)}function kh(e,n){yc(2048,8,e,n)}function L1(e){mt.flags|=4;var n=mt.updateQueue;if(n===null)n=dc(),mt.updateQueue=n,n.events=[e];else{var i=n.events;i===null?n.events=[e]:i.push(e)}}function dg(e){var n=Dn().memoizedState;return L1({ref:n,nextImpl:e}),function(){if((Lt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function mg(e,n){return yc(4,2,e,n)}function pg(e,n){return yc(4,4,e,n)}function gg(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function yg(e,n,i){i=i!=null?i.concat([e]):null,yc(4,4,gg.bind(null,n,e),i)}function Ph(){}function vg(e,n){var i=Dn();n=n===void 0?null:n;var o=i.memoizedState;return n!==null&&Ah(n,o[1])?o[0]:(i.memoizedState=[e,n],e)}function _g(e,n){var i=Dn();n=n===void 0?null:n;var o=i.memoizedState;if(n!==null&&Ah(n,o[1]))return o[0];if(o=e(),_o){Sn(!0);try{e()}finally{Sn(!1)}}return i.memoizedState=[o,n],o}function Lh(e,n,i){return i===void 0||(Ui&1073741824)!==0&&(wt&261930)===0?e.memoizedState=n:(e.memoizedState=i,e=by(),mt.lanes|=e,Is|=e,i)}function bg(e,n,i,o){return pr(i,n)?i:Jo.current!==null?(e=Lh(e,i,o),pr(e,n)||(zn=!0),e):(Ui&42)===0||(Ui&1073741824)!==0&&(wt&261930)===0?(zn=!0,e.memoizedState=i):(e=by(),mt.lanes|=e,Is|=e,n)}function xg(e,n,i,o,h){var m=Se.p;Se.p=m!==0&&8>m?m:8;var w=J.T,C={};J.T=C,Bh(e,!1,n,i);try{var L=h(),ce=J.S;if(ce!==null&&ce(C,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ve=O1(L,o);tu(e,n,ve,ma(e))}else tu(e,n,o,ma(e))}catch(Ee){tu(e,n,{then:function(){},status:"rejected",reason:Ee},ma())}finally{Se.p=m,w!==null&&C.types!==null&&(w.types=C.types),J.T=w}}function U1(){}function Uh(e,n,i,o){if(e.tag!==5)throw Error(s(476));var h=Eg(e).queue;xg(e,h,n,Ae,i===null?U1:function(){return wg(e),i(o)})}function Eg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Ae,baseState:Ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:Ae},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function wg(e){var n=Eg(e);n.next===null&&(n=e.alternate.memoizedState),tu(e,n.next.queue,{},ma())}function zh(){return or(vu)}function Tg(){return Dn().memoizedState}function Sg(){return Dn().memoizedState}function z1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=ma();e=Ss(i);var o=As(n,e,i);o!==null&&(Gr(o,n,i),$l(o,n,i)),n={cache:ph()},e.payload=n;return}n=n.return}}function B1(e,n,i){var o=ma();i={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},vc(e)?Rg(n,i):(i=kn(e,n,i,o),i!==null&&(Gr(i,e,o),Ng(i,n,o)))}function Ag(e,n,i){var o=ma();tu(e,n,i,o)}function tu(e,n,i,o){var h={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(vc(e))Rg(n,h);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var w=n.lastRenderedState,C=m(w,i);if(h.hasEagerState=!0,h.eagerState=C,pr(C,w))return st(e,n,h,0),Wt===null&&Wn(),!1}catch{}finally{}if(i=kn(e,n,h,o),i!==null)return Gr(i,e,o),Ng(i,n,o),!0}return!1}function Bh(e,n,i,o){if(o={lane:2,revertLane:_d(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},vc(e)){if(n)throw Error(s(479))}else n=kn(e,i,o,2),n!==null&&Gr(n,e,2)}function vc(e){var n=e.alternate;return e===mt||n!==null&&n===mt}function Rg(e,n){Wo=fc=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Ng(e,n,i){if((i&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,zt(e,i)}}var nu={readContext:or,use:mc,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useLayoutEffect:xn,useInsertionEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useSyncExternalStore:xn,useId:xn,useHostTransitionStatus:xn,useFormState:xn,useActionState:xn,useOptimistic:xn,useMemoCache:xn,useCacheRefresh:xn};nu.useEffectEvent=xn;var Cg={readContext:or,use:mc,useCallback:function(e,n){return Sr().memoizedState=[e,n===void 0?null:n],e},useContext:or,useEffect:hg,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,gc(4194308,4,gg.bind(null,n,e),i)},useLayoutEffect:function(e,n){return gc(4194308,4,e,n)},useInsertionEffect:function(e,n){gc(4,2,e,n)},useMemo:function(e,n){var i=Sr();n=n===void 0?null:n;var o=e();if(_o){Sn(!0);try{e()}finally{Sn(!1)}}return i.memoizedState=[o,n],o},useReducer:function(e,n,i){var o=Sr();if(i!==void 0){var h=i(n);if(_o){Sn(!0);try{i(n)}finally{Sn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=B1.bind(null,mt,e),[o.memoizedState,e]},useRef:function(e){var n=Sr();return e={current:e},n.memoizedState=e},useState:function(e){e=Mh(e);var n=e.queue,i=Ag.bind(null,mt,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:Ph,useDeferredValue:function(e,n){var i=Sr();return Lh(i,e,n)},useTransition:function(){var e=Mh(!1);return e=xg.bind(null,mt,e.queue,!0,!1),Sr().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var o=mt,h=Sr();if(Dt){if(i===void 0)throw Error(s(407));i=i()}else{if(i=n(),Wt===null)throw Error(s(349));(wt&127)!==0||$p(o,n,i)}h.memoizedState=i;var m={value:i,getSnapshot:n};return h.queue=m,hg(Jp.bind(null,o,m,e),[e]),o.flags|=2048,tl(9,{destroy:void 0},Zp.bind(null,o,m,i,n),null),i},useId:function(){var e=Sr(),n=Wt.identifierPrefix;if(Dt){var i=di,o=hi;i=(o&~(1<<32-Ue(o)-1)).toString(32)+i,n="_"+n+"R_"+i,i=hc++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=M1++,n="_"+n+"r_"+i.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:zh,useFormState:og,useActionState:og,useOptimistic:function(e){var n=Sr();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=Bh.bind(null,mt,!0,i),i.dispatch=n,[e,n]},useMemoCache:Ih,useCacheRefresh:function(){return Sr().memoizedState=z1.bind(null,mt)},useEffectEvent:function(e){var n=Sr(),i={impl:e};return n.memoizedState=i,function(){if((Lt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},qh={readContext:or,use:mc,useCallback:vg,useContext:or,useEffect:kh,useImperativeHandle:yg,useInsertionEffect:mg,useLayoutEffect:pg,useMemo:_g,useReducer:pc,useRef:fg,useState:function(){return pc(zi)},useDebugValue:Ph,useDeferredValue:function(e,n){var i=Dn();return bg(i,Xt.memoizedState,e,n)},useTransition:function(){var e=pc(zi)[0],n=Dn().memoizedState;return[typeof e=="boolean"?e:eu(e),n]},useSyncExternalStore:Xp,useId:Tg,useHostTransitionStatus:zh,useFormState:lg,useActionState:lg,useOptimistic:function(e,n){var i=Dn();return tg(i,Xt,e,n)},useMemoCache:Ih,useCacheRefresh:Sg};qh.useEffectEvent=dg;var Dg={readContext:or,use:mc,useCallback:vg,useContext:or,useEffect:kh,useImperativeHandle:yg,useInsertionEffect:mg,useLayoutEffect:pg,useMemo:_g,useReducer:Oh,useRef:fg,useState:function(){return Oh(zi)},useDebugValue:Ph,useDeferredValue:function(e,n){var i=Dn();return Xt===null?Lh(i,e,n):bg(i,Xt.memoizedState,e,n)},useTransition:function(){var e=Oh(zi)[0],n=Dn().memoizedState;return[typeof e=="boolean"?e:eu(e),n]},useSyncExternalStore:Xp,useId:Tg,useHostTransitionStatus:zh,useFormState:cg,useActionState:cg,useOptimistic:function(e,n){var i=Dn();return Xt!==null?tg(i,Xt,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Ih,useCacheRefresh:Sg};Dg.useEffectEvent=dg;function Fh(e,n,i,o){n=e.memoizedState,i=i(o,n),i=i==null?n:N({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Hh={enqueueSetState:function(e,n,i){e=e._reactInternals;var o=ma(),h=Ss(o);h.payload=n,i!=null&&(h.callback=i),n=As(e,h,o),n!==null&&(Gr(n,e,o),$l(n,e,o))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var o=ma(),h=Ss(o);h.tag=1,h.payload=n,i!=null&&(h.callback=i),n=As(e,h,o),n!==null&&(Gr(n,e,o),$l(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=ma(),o=Ss(i);o.tag=2,n!=null&&(o.callback=n),n=As(e,o,i),n!==null&&(Gr(n,e,i),$l(n,e,i))}};function Ig(e,n,i,o,h,m,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,m,w):n.prototype&&n.prototype.isPureReactComponent?!f(i,o)||!f(h,m):!0}function jg(e,n,i,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,o),n.state!==e&&Hh.enqueueReplaceState(n,n.state,null)}function bo(e,n){var i=n;if("ref"in n){i={};for(var o in n)o!=="ref"&&(i[o]=n[o])}if(e=e.defaultProps){i===n&&(i=N({},i));for(var h in e)i[h]===void 0&&(i[h]=e[h])}return i}function Og(e){ze(e)}function Mg(e){console.error(e)}function Vg(e){ze(e)}function _c(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function kg(e,n,i){try{var o=e.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Kh(e,n,i){return i=Ss(i),i.tag=3,i.payload={element:null},i.callback=function(){_c(e,n)},i}function Pg(e){return e=Ss(e),e.tag=3,e}function Lg(e,n,i,o){var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;e.payload=function(){return h(m)},e.callback=function(){kg(n,i,o)}}var w=i.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(e.callback=function(){kg(n,i,o),typeof h!="function"&&(js===null?js=new Set([this]):js.add(this));var C=o.stack;this.componentDidCatch(o.value,{componentStack:C!==null?C:""})})}function q1(e,n,i,o,h){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=i.alternate,n!==null&&Qo(n,i,h,!0),i=ca.current,i!==null){switch(i.tag){case 31:case 13:return Oa===null?Ic():i.alternate===null&&En===0&&(En=3),i.flags&=-257,i.flags|=65536,i.lanes=h,o===sc?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([o]):n.add(o),gd(e,o,h)),!1;case 22:return i.flags|=65536,o===sc?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([o]):i.add(o)),gd(e,o,h)),!1}throw Error(s(435,i.tag))}return gd(e,o,h),Ic(),!1}if(Dt)return n=ca.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==ch&&(e=Error(s(422),{cause:o}),Kl(Ca(e,i)))):(o!==ch&&(n=Error(s(423),{cause:o}),Kl(Ca(n,i))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Ca(o,i),h=Kh(e.stateNode,o,h),xh(e,h),En!==4&&(En=2)),!1;var m=Error(s(520),{cause:o});if(m=Ca(m,i),cu===null?cu=[m]:cu.push(m),En!==4&&(En=2),n===null)return!0;o=Ca(o,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=h&-h,i.lanes|=e,e=Kh(i.stateNode,o,e),xh(i,e),!1;case 1:if(n=i.type,m=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(js===null||!js.has(m))))return i.flags|=65536,h&=-h,i.lanes|=h,h=Pg(h),Lg(h,e,i,o),xh(i,h),!1}i=i.return}while(i!==null);return!1}var Gh=Error(s(461)),zn=!1;function lr(e,n,i,o){n.child=e===null?qp(n,null,i,o):vo(n,e.child,i,o)}function Ug(e,n,i,o,h){i=i.render;var m=n.ref;if("ref"in o){var w={};for(var C in o)C!=="ref"&&(w[C]=o[C])}else w=o;return mo(n),o=Rh(e,n,i,w,m,h),C=Nh(),e!==null&&!zn?(Ch(e,n,h),Bi(e,n,h)):(Dt&&C&&lh(n),n.flags|=1,lr(e,n,o,h),n.child)}function zg(e,n,i,o,h){if(e===null){var m=i.type;return typeof m=="function"&&!ih(m)&&m.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=m,Bg(e,n,m,o,h)):(e=ec(i.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!ed(e,h)){var w=m.memoizedProps;if(i=i.compare,i=i!==null?i:f,i(w,o)&&e.ref===n.ref)return Bi(e,n,h)}return n.flags|=1,e=Vi(m,o),e.ref=n.ref,e.return=n,n.child=e}function Bg(e,n,i,o,h){if(e!==null){var m=e.memoizedProps;if(f(m,o)&&e.ref===n.ref)if(zn=!1,n.pendingProps=o=m,ed(e,h))(e.flags&131072)!==0&&(zn=!0);else return n.lanes=e.lanes,Bi(e,n,h)}return Qh(e,n,i,o,h)}function qg(e,n,i,o){var h=o.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|i:i,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~m}else o=0,n.child=null;return Fg(e,n,m,i,o)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ac(n,m!==null?m.cachePool:null),m!==null?Kp(n,m):wh(),Gp(n);else return o=n.lanes=536870912,Fg(e,n,m!==null?m.baseLanes|i:i,i,o)}else m!==null?(ac(n,m.cachePool),Kp(n,m),Ns(),n.memoizedState=null):(e!==null&&ac(n,null),wh(),Ns());return lr(e,n,h,i),n.child}function ru(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Fg(e,n,i,o,h){var m=yh();return m=m===null?null:{parent:Ln._currentValue,pool:m},n.memoizedState={baseLanes:i,cachePool:m},e!==null&&ac(n,null),wh(),Gp(n),e!==null&&Qo(e,n,o,!0),n.childLanes=h,null}function bc(e,n){return n=Ec({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Hg(e,n,i){return vo(n,e.child,null,i),e=bc(n,n.pendingProps),e.flags|=2,fa(n),n.memoizedState=null,e}function F1(e,n,i){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Dt){if(o.mode==="hidden")return e=bc(n,o),n.lanes=536870912,ru(null,e);if(Sh(n),(e=an)?(e=nv(e,ja),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:bs!==null?{id:hi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},i=Rp(e),i.return=n,n.child=i,sr=n,an=null)):e=null,e===null)throw Es(n);return n.lanes=536870912,null}return bc(n,o)}var m=e.memoizedState;if(m!==null){var w=m.dehydrated;if(Sh(n),h)if(n.flags&256)n.flags&=-257,n=Hg(e,n,i);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(zn||Qo(e,n,i,!1),h=(i&e.childLanes)!==0,zn||h){if(o=Wt,o!==null&&(w=ln(o,i),w!==0&&w!==m.retryLane))throw m.retryLane=w,un(e,w),Gr(o,e,w),Gh;Ic(),n=Hg(e,n,i)}else e=m.treeContext,an=Ma(w.nextSibling),sr=n,Dt=!0,xs=null,ja=!1,e!==null&&Dp(n,e),n=bc(n,o),n.flags|=4096;return n}return e=Vi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function xc(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function Qh(e,n,i,o,h){return mo(n),i=Rh(e,n,i,o,void 0,h),o=Nh(),e!==null&&!zn?(Ch(e,n,h),Bi(e,n,h)):(Dt&&o&&lh(n),n.flags|=1,lr(e,n,i,h),n.child)}function Kg(e,n,i,o,h,m){return mo(n),n.updateQueue=null,i=Yp(n,o,i,h),Qp(e),o=Nh(),e!==null&&!zn?(Ch(e,n,m),Bi(e,n,m)):(Dt&&o&&lh(n),n.flags|=1,lr(e,n,i,m),n.child)}function Gg(e,n,i,o,h){if(mo(n),n.stateNode===null){var m=Br,w=i.contextType;typeof w=="object"&&w!==null&&(m=or(w)),m=new i(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Hh,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},_h(n),w=i.contextType,m.context=typeof w=="object"&&w!==null?or(w):Br,m.state=n.memoizedState,w=i.getDerivedStateFromProps,typeof w=="function"&&(Fh(n,i,w,o),m.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(w=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),w!==m.state&&Hh.enqueueReplaceState(m,m.state,null),Jl(n,o,m,h),Zl(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){m=n.stateNode;var C=n.memoizedProps,L=bo(i,C);m.props=L;var ce=m.context,ve=i.contextType;w=Br,typeof ve=="object"&&ve!==null&&(w=or(ve));var Ee=i.getDerivedStateFromProps;ve=typeof Ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",C=n.pendingProps!==C,ve||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(C||ce!==w)&&jg(n,m,o,w),Ts=!1;var he=n.memoizedState;m.state=he,Jl(n,o,m,h),Zl(),ce=n.memoizedState,C||he!==ce||Ts?(typeof Ee=="function"&&(Fh(n,i,Ee,o),ce=n.memoizedState),(L=Ts||Ig(n,i,L,o,he,ce,w))?(ve||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=ce),m.props=o,m.state=ce,m.context=w,o=L):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,bh(e,n),w=n.memoizedProps,ve=bo(i,w),m.props=ve,Ee=n.pendingProps,he=m.context,ce=i.contextType,L=Br,typeof ce=="object"&&ce!==null&&(L=or(ce)),C=i.getDerivedStateFromProps,(ce=typeof C=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==Ee||he!==L)&&jg(n,m,o,L),Ts=!1,he=n.memoizedState,m.state=he,Jl(n,o,m,h),Zl();var ge=n.memoizedState;w!==Ee||he!==ge||Ts||e!==null&&e.dependencies!==null&&nc(e.dependencies)?(typeof C=="function"&&(Fh(n,i,C,o),ge=n.memoizedState),(ve=Ts||Ig(n,i,ve,o,he,ge,L)||e!==null&&e.dependencies!==null&&nc(e.dependencies))?(ce||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,ge,L),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,ge,L)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===e.memoizedProps&&he===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&he===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=ge),m.props=o,m.state=ge,m.context=L,o=ve):(typeof m.componentDidUpdate!="function"||w===e.memoizedProps&&he===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&he===e.memoizedState||(n.flags|=1024),o=!1)}return m=o,xc(e,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&o?(n.child=vo(n,e.child,null,h),n.child=vo(n,null,i,h)):lr(e,n,i,h),n.memoizedState=m.state,e=n.child):e=Bi(e,n,h),e}function Qg(e,n,i,o){return fo(),n.flags|=256,lr(e,n,i,o),n.child}var Yh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xh(e){return{baseLanes:e,cachePool:kp()}}function $h(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=da),e}function Yg(e,n,i){var o=n.pendingProps,h=!1,m=(n.flags&128)!==0,w;if((w=m)||(w=e!==null&&e.memoizedState===null?!1:(Cn.current&2)!==0),w&&(h=!0,n.flags&=-129),w=(n.flags&32)!==0,n.flags&=-33,e===null){if(Dt){if(h?Rs(n):Ns(),(e=an)?(e=nv(e,ja),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:bs!==null?{id:hi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},i=Rp(e),i.return=n,n.child=i,sr=n,an=null)):e=null,e===null)throw Es(n);return jd(e)?n.lanes=32:n.lanes=536870912,null}var C=o.children;return o=o.fallback,h?(Ns(),h=n.mode,C=Ec({mode:"hidden",children:C},h),o=co(o,h,i,null),C.return=n,o.return=n,C.sibling=o,n.child=C,o=n.child,o.memoizedState=Xh(i),o.childLanes=$h(e,w,i),n.memoizedState=Yh,ru(null,o)):(Rs(n),Zh(n,C))}var L=e.memoizedState;if(L!==null&&(C=L.dehydrated,C!==null)){if(m)n.flags&256?(Rs(n),n.flags&=-257,n=Jh(e,n,i)):n.memoizedState!==null?(Ns(),n.child=e.child,n.flags|=128,n=null):(Ns(),C=o.fallback,h=n.mode,o=Ec({mode:"visible",children:o.children},h),C=co(C,h,i,null),C.flags|=2,o.return=n,C.return=n,o.sibling=C,n.child=o,vo(n,e.child,null,i),o=n.child,o.memoizedState=Xh(i),o.childLanes=$h(e,w,i),n.memoizedState=Yh,n=ru(null,o));else if(Rs(n),jd(C)){if(w=C.nextSibling&&C.nextSibling.dataset,w)var ce=w.dgst;w=ce,o=Error(s(419)),o.stack="",o.digest=w,Kl({value:o,source:null,stack:null}),n=Jh(e,n,i)}else if(zn||Qo(e,n,i,!1),w=(i&e.childLanes)!==0,zn||w){if(w=Wt,w!==null&&(o=ln(w,i),o!==0&&o!==L.retryLane))throw L.retryLane=o,un(e,o),Gr(w,e,o),Gh;Id(C)||Ic(),n=Jh(e,n,i)}else Id(C)?(n.flags|=192,n.child=e.child,n=null):(e=L.treeContext,an=Ma(C.nextSibling),sr=n,Dt=!0,xs=null,ja=!1,e!==null&&Dp(n,e),n=Zh(n,o.children),n.flags|=4096);return n}return h?(Ns(),C=o.fallback,h=n.mode,L=e.child,ce=L.sibling,o=Vi(L,{mode:"hidden",children:o.children}),o.subtreeFlags=L.subtreeFlags&65011712,ce!==null?C=Vi(ce,C):(C=co(C,h,i,null),C.flags|=2),C.return=n,o.return=n,o.sibling=C,n.child=o,ru(null,o),o=n.child,C=e.child.memoizedState,C===null?C=Xh(i):(h=C.cachePool,h!==null?(L=Ln._currentValue,h=h.parent!==L?{parent:L,pool:L}:h):h=kp(),C={baseLanes:C.baseLanes|i,cachePool:h}),o.memoizedState=C,o.childLanes=$h(e,w,i),n.memoizedState=Yh,ru(e.child,o)):(Rs(n),i=e.child,e=i.sibling,i=Vi(i,{mode:"visible",children:o.children}),i.return=n,i.sibling=null,e!==null&&(w=n.deletions,w===null?(n.deletions=[e],n.flags|=16):w.push(e)),n.child=i,n.memoizedState=null,i)}function Zh(e,n){return n=Ec({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ec(e,n){return e=ua(22,e,null,n),e.lanes=0,e}function Jh(e,n,i){return vo(n,e.child,null,i),e=Zh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Xg(e,n,i){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),dh(e.return,n,i)}function Wh(e,n,i,o,h,m){var w=e.memoizedState;w===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:h,treeForkCount:m}:(w.isBackwards=n,w.rendering=null,w.renderingStartTime=0,w.last=o,w.tail=i,w.tailMode=h,w.treeForkCount=m)}function $g(e,n,i){var o=n.pendingProps,h=o.revealOrder,m=o.tail;o=o.children;var w=Cn.current,C=(w&2)!==0;if(C?(w=w&1|2,n.flags|=128):w&=1,je(Cn,w),lr(e,n,o,i),o=Dt?Hl:0,!C&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xg(e,i,n);else if(e.tag===19)Xg(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(i=n.child,h=null;i!==null;)e=i.alternate,e!==null&&cc(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=n.child,n.child=null):(h=i.sibling,i.sibling=null),Wh(n,!1,h,i,m,o);break;case"backwards":case"unstable_legacy-backwards":for(i=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&cc(e)===null){n.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}Wh(n,!0,i,null,m,o);break;case"together":Wh(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Bi(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Is|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(Qo(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,i=Vi(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Vi(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function ed(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&nc(e)))}function H1(e,n,i){switch(n.tag){case 3:qt(n,n.stateNode.containerInfo),ws(n,Ln,e.memoizedState.cache),fo();break;case 27:case 5:hn(n);break;case 4:qt(n,n.stateNode.containerInfo);break;case 10:ws(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Sh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Rs(n),n.flags|=128,null):(i&n.child.childLanes)!==0?Yg(e,n,i):(Rs(n),e=Bi(e,n,i),e!==null?e.sibling:null);Rs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(i&n.childLanes)!==0,o||(Qo(e,n,i,!1),o=(i&n.childLanes)!==0),h){if(o)return $g(e,n,i);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),je(Cn,Cn.current),o)break;return null;case 22:return n.lanes=0,qg(e,n,i,n.pendingProps);case 24:ws(n,Ln,e.memoizedState.cache)}return Bi(e,n,i)}function Zg(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)zn=!0;else{if(!ed(e,i)&&(n.flags&128)===0)return zn=!1,H1(e,n,i);zn=(e.flags&131072)!==0}else zn=!1,Dt&&(n.flags&1048576)!==0&&Cp(n,Hl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(e=go(n.elementType),n.type=e,typeof e=="function")ih(e)?(o=bo(e,o),n.tag=1,n=Gg(null,n,e,o,i)):(n.tag=0,n=Qh(null,n,e,o,i));else{if(e!=null){var h=e.$$typeof;if(h===Ne){n.tag=11,n=Ug(null,n,e,o,i);break e}else if(h===M){n.tag=14,n=zg(null,n,e,o,i);break e}}throw n=yt(e)||e,Error(s(306,n,""))}}return n;case 0:return Qh(e,n,n.type,n.pendingProps,i);case 1:return o=n.type,h=bo(o,n.pendingProps),Gg(e,n,o,h,i);case 3:e:{if(qt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var m=n.memoizedState;h=m.element,bh(e,n),Jl(n,o,null,i);var w=n.memoizedState;if(o=w.cache,ws(n,Ln,o),o!==m.cache&&mh(n,[Ln],i,!0),Zl(),o=w.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:w.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Qg(e,n,o,i);break e}else if(o!==h){h=Ca(Error(s(424)),n),Kl(h),n=Qg(e,n,o,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(an=Ma(e.firstChild),sr=n,Dt=!0,xs=null,ja=!0,i=qp(n,null,o,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(fo(),o===h){n=Bi(e,n,i);break e}lr(e,n,o,i)}n=n.child}return n;case 26:return xc(e,n),e===null?(i=lv(n.type,null,n.pendingProps,null))?n.memoizedState=i:Dt||(i=n.type,e=n.pendingProps,o=Lc($e.current).createElement(i),o[Ht]=n,o[nn]=e,ur(o,i,e),mn(o),n.stateNode=o):n.memoizedState=lv(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return hn(n),e===null&&Dt&&(o=n.stateNode=iv(n.type,n.pendingProps,$e.current),sr=n,ja=!0,h=an,ks(n.type)?(Od=h,an=Ma(o.firstChild)):an=h),lr(e,n,n.pendingProps.children,i),xc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Dt&&((h=o=an)&&(o=bx(o,n.type,n.pendingProps,ja),o!==null?(n.stateNode=o,sr=n,an=Ma(o.firstChild),ja=!1,h=!0):h=!1),h||Es(n)),hn(n),h=n.type,m=n.pendingProps,w=e!==null?e.memoizedProps:null,o=m.children,Nd(h,m)?o=null:w!==null&&Nd(h,w)&&(n.flags|=32),n.memoizedState!==null&&(h=Rh(e,n,V1,null,null,i),vu._currentValue=h),xc(e,n),lr(e,n,o,i),n.child;case 6:return e===null&&Dt&&((e=i=an)&&(i=xx(i,n.pendingProps,ja),i!==null?(n.stateNode=i,sr=n,an=null,e=!0):e=!1),e||Es(n)),null;case 13:return Yg(e,n,i);case 4:return qt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=vo(n,null,o,i):lr(e,n,o,i),n.child;case 11:return Ug(e,n,n.type,n.pendingProps,i);case 7:return lr(e,n,n.pendingProps,i),n.child;case 8:return lr(e,n,n.pendingProps.children,i),n.child;case 12:return lr(e,n,n.pendingProps.children,i),n.child;case 10:return o=n.pendingProps,ws(n,n.type,o.value),lr(e,n,o.children,i),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,mo(n),h=or(h),o=o(h),n.flags|=1,lr(e,n,o,i),n.child;case 14:return zg(e,n,n.type,n.pendingProps,i);case 15:return Bg(e,n,n.type,n.pendingProps,i);case 19:return $g(e,n,i);case 31:return F1(e,n,i);case 22:return qg(e,n,i,n.pendingProps);case 24:return mo(n),o=or(Ln),e===null?(h=yh(),h===null&&(h=Wt,m=ph(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=i),h=m),n.memoizedState={parent:o,cache:h},_h(n),ws(n,Ln,h)):((e.lanes&i)!==0&&(bh(e,n),Jl(n,null,null,i),Zl()),h=e.memoizedState,m=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ws(n,Ln,o)):(o=m.cache,ws(n,Ln,o),o!==h.cache&&mh(n,[Ln],i,!0))),lr(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function qi(e){e.flags|=4}function td(e,n,i,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ty())e.flags|=8192;else throw yo=sc,vh}else e.flags&=-16777217}function Jg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!dv(n))if(Ty())e.flags|=8192;else throw yo=sc,vh}function wc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Lo():536870912,e.lanes|=n,il|=n)}function au(e,n){if(!Dt)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function sn(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(n)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=i,n}function K1(e,n,i){var o=n.pendingProps;switch(uh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(n),null;case 1:return sn(n),null;case 3:return i=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Li(Ln),Oe(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Go(n)?qi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,fh())),sn(n),null;case 26:var h=n.type,m=n.memoizedState;return e===null?(qi(n),m!==null?(sn(n),Jg(n,m)):(sn(n),td(n,h,null,o,i))):m?m!==e.memoizedState?(qi(n),sn(n),Jg(n,m)):(sn(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&qi(n),sn(n),td(n,h,e,o,i)),null;case 27:if(On(n),i=$e.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return sn(n),null}e=Re.current,Go(n)?Ip(n):(e=iv(h,o,i),n.stateNode=e,qi(n))}return sn(n),null;case 5:if(On(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return sn(n),null}if(m=Re.current,Go(n))Ip(n);else{var w=Lc($e.current);switch(m){case 1:m=w.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=w.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=w.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=w.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=w.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?w.createElement("select",{is:o.is}):w.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?w.createElement(h,{is:o.is}):w.createElement(h)}}m[Ht]=n,m[nn]=o;e:for(w=n.child;w!==null;){if(w.tag===5||w.tag===6)m.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===n)break e;for(;w.sibling===null;){if(w.return===null||w.return===n)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}n.stateNode=m;e:switch(ur(m,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&qi(n)}}return sn(n),td(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,i),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=$e.current,Go(n)){if(e=n.stateNode,i=n.memoizedProps,o=null,h=sr,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ht]=n,e=!!(e.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||Yy(e.nodeValue,i)),e||Es(n,!0)}else e=Lc(e).createTextNode(o),e[Ht]=n,n.stateNode=e}return sn(n),null;case 31:if(i=n.memoizedState,e===null||e.memoizedState!==null){if(o=Go(n),i!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ht]=n}else fo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;sn(n),e=!1}else i=fh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return n.flags&256?(fa(n),n):(fa(n),null);if((n.flags&128)!==0)throw Error(s(558))}return sn(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Go(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ht]=n}else fo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;sn(n),h=!1}else h=fh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(fa(n),n):(fa(n),null)}return fa(n),(n.flags&128)!==0?(n.lanes=i,n):(i=o!==null,e=e!==null&&e.memoizedState!==null,i&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048)),i!==e&&i&&(n.child.flags|=8192),wc(n,n.updateQueue),sn(n),null);case 4:return Oe(),e===null&&wd(n.stateNode.containerInfo),sn(n),null;case 10:return Li(n.type),sn(n),null;case 19:if(_e(Cn),o=n.memoizedState,o===null)return sn(n),null;if(h=(n.flags&128)!==0,m=o.rendering,m===null)if(h)au(o,!1);else{if(En!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=cc(e),m!==null){for(n.flags|=128,au(o,!1),e=m.updateQueue,n.updateQueue=e,wc(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)Ap(i,e),i=i.sibling;return je(Cn,Cn.current&1|2),Dt&&ki(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Xn()>Nc&&(n.flags|=128,h=!0,au(o,!1),n.lanes=4194304)}else{if(!h)if(e=cc(m),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,wc(n,e),au(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!Dt)return sn(n),null}else 2*Xn()-o.renderingStartTime>Nc&&i!==536870912&&(n.flags|=128,h=!0,au(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(e=o.last,e!==null?e.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Xn(),e.sibling=null,i=Cn.current,je(Cn,h?i&1|2:i&1),Dt&&ki(n,o.treeForkCount),e):(sn(n),null);case 22:case 23:return fa(n),Th(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(i&536870912)!==0&&(n.flags&128)===0&&(sn(n),n.subtreeFlags&6&&(n.flags|=8192)):sn(n),i=n.updateQueue,i!==null&&wc(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==i&&(n.flags|=2048),e!==null&&_e(po),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),Li(Ln),sn(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function G1(e,n){switch(uh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Li(Ln),Oe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return On(n),null;case 31:if(n.memoizedState!==null){if(fa(n),n.alternate===null)throw Error(s(340));fo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(fa(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));fo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return _e(Cn),null;case 4:return Oe(),null;case 10:return Li(n.type),null;case 22:case 23:return fa(n),Th(),e!==null&&_e(po),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Li(Ln),null;case 25:return null;default:return null}}function Wg(e,n){switch(uh(n),n.tag){case 3:Li(Ln),Oe();break;case 26:case 27:case 5:On(n);break;case 4:Oe();break;case 31:n.memoizedState!==null&&fa(n);break;case 13:fa(n);break;case 19:_e(Cn);break;case 10:Li(n.type);break;case 22:case 23:fa(n),Th(),e!==null&&_e(po);break;case 24:Li(Ln)}}function iu(e,n){try{var i=n.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var h=o.next;i=h;do{if((i.tag&e)===e){o=void 0;var m=i.create,w=i.inst;o=m(),w.destroy=o}i=i.next}while(i!==h)}}catch(C){Yt(n,n.return,C)}}function Cs(e,n,i){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&e)===e){var w=o.inst,C=w.destroy;if(C!==void 0){w.destroy=void 0,h=n;var L=i,ce=C;try{ce()}catch(ve){Yt(h,L,ve)}}}o=o.next}while(o!==m)}}catch(ve){Yt(n,n.return,ve)}}function ey(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{Hp(n,i)}catch(o){Yt(e,e.return,o)}}}function ty(e,n,i){i.props=bo(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(o){Yt(e,n,o)}}function su(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof i=="function"?e.refCleanup=i(o):i.current=o}}catch(h){Yt(e,n,h)}}function mi(e,n){var i=e.ref,o=e.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(h){Yt(e,n,h)}else i.current=null}function ny(e){var n=e.type,i=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(h){Yt(e,e.return,h)}}function nd(e,n,i){try{var o=e.stateNode;mx(o,e.type,i,n),o[nn]=n}catch(h){Yt(e,e.return,h)}}function ry(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ks(e.type)||e.tag===4}function rd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ry(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ks(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ad(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=mr));else if(o!==4&&(o===27&&ks(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(ad(e,n,i),e=e.sibling;e!==null;)ad(e,n,i),e=e.sibling}function Tc(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(o!==4&&(o===27&&ks(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Tc(e,n,i),e=e.sibling;e!==null;)Tc(e,n,i),e=e.sibling}function ay(e){var n=e.stateNode,i=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ur(n,o,i),n[Ht]=e,n[nn]=i}catch(m){Yt(e,e.return,m)}}var Fi=!1,Bn=!1,id=!1,iy=typeof WeakSet=="function"?WeakSet:Set,er=null;function Q1(e,n){if(e=e.containerInfo,Ad=Kc,e=S(e),R(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var h=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{i.nodeType,m.nodeType}catch{i=null;break e}var w=0,C=-1,L=-1,ce=0,ve=0,Ee=e,he=null;t:for(;;){for(var ge;Ee!==i||h!==0&&Ee.nodeType!==3||(C=w+h),Ee!==m||o!==0&&Ee.nodeType!==3||(L=w+o),Ee.nodeType===3&&(w+=Ee.nodeValue.length),(ge=Ee.firstChild)!==null;)he=Ee,Ee=ge;for(;;){if(Ee===e)break t;if(he===i&&++ce===h&&(C=w),he===m&&++ve===o&&(L=w),(ge=Ee.nextSibling)!==null)break;Ee=he,he=Ee.parentNode}Ee=ge}i=C===-1||L===-1?null:{start:C,end:L}}else i=null}i=i||{start:0,end:0}}else i=null;for(Rd={focusedElem:e,selectionRange:i},Kc=!1,er=n;er!==null;)if(n=er,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,er=e;else for(;er!==null;){switch(n=er,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)h=e[i],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,i=n,h=m.memoizedProps,m=m.memoizedState,o=i.stateNode;try{var Ge=bo(i.type,h);e=o.getSnapshotBeforeUpdate(Ge,m),o.__reactInternalSnapshotBeforeUpdate=e}catch(nt){Yt(i,i.return,nt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)Dd(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Dd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,er=e;break}er=n.return}}function sy(e,n,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:Ki(e,i),o&4&&iu(5,i);break;case 1:if(Ki(e,i),o&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(w){Yt(i,i.return,w)}else{var h=bo(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(w){Yt(i,i.return,w)}}o&64&&ey(i),o&512&&su(i,i.return);break;case 3:if(Ki(e,i),o&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{Hp(e,n)}catch(w){Yt(i,i.return,w)}}break;case 27:n===null&&o&4&&ay(i);case 26:case 5:Ki(e,i),n===null&&o&4&&ny(i),o&512&&su(i,i.return);break;case 12:Ki(e,i);break;case 31:Ki(e,i),o&4&&uy(e,i);break;case 13:Ki(e,i),o&4&&cy(e,i),o&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=nx.bind(null,i),Ex(e,i))));break;case 22:if(o=i.memoizedState!==null||Fi,!o){n=n!==null&&n.memoizedState!==null||Bn,h=Fi;var m=Bn;Fi=o,(Bn=n)&&!m?Gi(e,i,(i.subtreeFlags&8772)!==0):Ki(e,i),Fi=h,Bn=m}break;case 30:break;default:Ki(e,i)}}function oy(e){var n=e.alternate;n!==null&&(e.alternate=null,oy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ri(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var cn=null,qr=!1;function Hi(e,n,i){for(i=i.child;i!==null;)ly(e,n,i),i=i.sibling}function ly(e,n,i){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(fr,i)}catch{}switch(i.tag){case 26:Bn||mi(i,n),Hi(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Bn||mi(i,n);var o=cn,h=qr;ks(i.type)&&(cn=i.stateNode,qr=!1),Hi(e,n,i),pu(i.stateNode),cn=o,qr=h;break;case 5:Bn||mi(i,n);case 6:if(o=cn,h=qr,cn=null,Hi(e,n,i),cn=o,qr=h,cn!==null)if(qr)try{(cn.nodeType===9?cn.body:cn.nodeName==="HTML"?cn.ownerDocument.body:cn).removeChild(i.stateNode)}catch(m){Yt(i,n,m)}else try{cn.removeChild(i.stateNode)}catch(m){Yt(i,n,m)}break;case 18:cn!==null&&(qr?(e=cn,ev(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),dl(e)):ev(cn,i.stateNode));break;case 4:o=cn,h=qr,cn=i.stateNode.containerInfo,qr=!0,Hi(e,n,i),cn=o,qr=h;break;case 0:case 11:case 14:case 15:Cs(2,i,n),Bn||Cs(4,i,n),Hi(e,n,i);break;case 1:Bn||(mi(i,n),o=i.stateNode,typeof o.componentWillUnmount=="function"&&ty(i,n,o)),Hi(e,n,i);break;case 21:Hi(e,n,i);break;case 22:Bn=(o=Bn)||i.memoizedState!==null,Hi(e,n,i),Bn=o;break;default:Hi(e,n,i)}}function uy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{dl(e)}catch(i){Yt(n,n.return,i)}}}function cy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{dl(e)}catch(i){Yt(n,n.return,i)}}function Y1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new iy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new iy),n;default:throw Error(s(435,e.tag))}}function Sc(e,n){var i=Y1(e);n.forEach(function(o){if(!i.has(o)){i.add(o);var h=rx.bind(null,e,o);o.then(h,h)}})}function Fr(e,n){var i=n.deletions;if(i!==null)for(var o=0;o<i.length;o++){var h=i[o],m=e,w=n,C=w;e:for(;C!==null;){switch(C.tag){case 27:if(ks(C.type)){cn=C.stateNode,qr=!1;break e}break;case 5:cn=C.stateNode,qr=!1;break e;case 3:case 4:cn=C.stateNode.containerInfo,qr=!0;break e}C=C.return}if(cn===null)throw Error(s(160));ly(m,w,h),cn=null,qr=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)fy(n,e),n=n.sibling}var Xa=null;function fy(e,n){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Fr(n,e),Hr(e),o&4&&(Cs(3,e,e.return),iu(3,e),Cs(5,e,e.return));break;case 1:Fr(n,e),Hr(e),o&512&&(Bn||i===null||mi(i,i.return)),o&64&&Fi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var h=Xa;if(Fr(n,e),Hr(e),o&512&&(Bn||i===null||mi(i,i.return)),o&4){var m=i!==null?i.memoizedState:null;if(o=e.memoizedState,i===null)if(o===null)if(e.stateNode===null){e:{o=e.type,i=e.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":m=h.getElementsByTagName("title")[0],(!m||m[$n]||m[Ht]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(o),h.head.insertBefore(m,h.querySelector("head > title"))),ur(m,o,i),m[Ht]=e,mn(m),o=m;break e;case"link":var w=fv("link","href",h).get(o+(i.href||""));if(w){for(var C=0;C<w.length;C++)if(m=w[C],m.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&m.getAttribute("rel")===(i.rel==null?null:i.rel)&&m.getAttribute("title")===(i.title==null?null:i.title)&&m.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){w.splice(C,1);break t}}m=h.createElement(o),ur(m,o,i),h.head.appendChild(m);break;case"meta":if(w=fv("meta","content",h).get(o+(i.content||""))){for(C=0;C<w.length;C++)if(m=w[C],m.getAttribute("content")===(i.content==null?null:""+i.content)&&m.getAttribute("name")===(i.name==null?null:i.name)&&m.getAttribute("property")===(i.property==null?null:i.property)&&m.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&m.getAttribute("charset")===(i.charSet==null?null:i.charSet)){w.splice(C,1);break t}}m=h.createElement(o),ur(m,o,i),h.head.appendChild(m);break;default:throw Error(s(468,o))}m[Ht]=e,mn(m),o=m}e.stateNode=o}else hv(h,e.type,e.stateNode);else e.stateNode=cv(h,o,e.memoizedProps);else m!==o?(m===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):m.count--,o===null?hv(h,e.type,e.stateNode):cv(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&nd(e,e.memoizedProps,i.memoizedProps)}break;case 27:Fr(n,e),Hr(e),o&512&&(Bn||i===null||mi(i,i.return)),i!==null&&o&4&&nd(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Fr(n,e),Hr(e),o&512&&(Bn||i===null||mi(i,i.return)),e.flags&32){h=e.stateNode;try{ir(h,"")}catch(Ge){Yt(e,e.return,Ge)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,nd(e,h,i!==null?i.memoizedProps:h)),o&1024&&(id=!0);break;case 6:if(Fr(n,e),Hr(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,i=e.stateNode;try{i.nodeValue=o}catch(Ge){Yt(e,e.return,Ge)}}break;case 3:if(Bc=null,h=Xa,Xa=Uc(n.containerInfo),Fr(n,e),Xa=h,Hr(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{dl(n.containerInfo)}catch(Ge){Yt(e,e.return,Ge)}id&&(id=!1,hy(e));break;case 4:o=Xa,Xa=Uc(e.stateNode.containerInfo),Fr(n,e),Hr(e),Xa=o;break;case 12:Fr(n,e),Hr(e);break;case 31:Fr(n,e),Hr(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Sc(e,o)));break;case 13:Fr(n,e),Hr(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Rc=Xn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Sc(e,o)));break;case 22:h=e.memoizedState!==null;var L=i!==null&&i.memoizedState!==null,ce=Fi,ve=Bn;if(Fi=ce||h,Bn=ve||L,Fr(n,e),Bn=ve,Fi=ce,Hr(e),o&8192)e:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(i===null||L||Fi||Bn||xo(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){L=i=n;try{if(m=L.stateNode,h)w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{C=L.stateNode;var Ee=L.memoizedProps.style,he=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;C.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(Ge){Yt(L,L.return,Ge)}}}else if(n.tag===6){if(i===null){L=n;try{L.stateNode.nodeValue=h?"":L.memoizedProps}catch(Ge){Yt(L,L.return,Ge)}}}else if(n.tag===18){if(i===null){L=n;try{var ge=L.stateNode;h?tv(ge,!0):tv(L.stateNode,!1)}catch(Ge){Yt(L,L.return,Ge)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,Sc(e,i))));break;case 19:Fr(n,e),Hr(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Sc(e,o)));break;case 30:break;case 21:break;default:Fr(n,e),Hr(e)}}function Hr(e){var n=e.flags;if(n&2){try{for(var i,o=e.return;o!==null;){if(ry(o)){i=o;break}o=o.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var h=i.stateNode,m=rd(e);Tc(e,m,h);break;case 5:var w=i.stateNode;i.flags&32&&(ir(w,""),i.flags&=-33);var C=rd(e);Tc(e,C,w);break;case 3:case 4:var L=i.stateNode.containerInfo,ce=rd(e);ad(e,ce,L);break;default:throw Error(s(161))}}catch(ve){Yt(e,e.return,ve)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function hy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;hy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ki(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)sy(e,n.alternate,n),n=n.sibling}function xo(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Cs(4,n,n.return),xo(n);break;case 1:mi(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&ty(n,n.return,i),xo(n);break;case 27:pu(n.stateNode);case 26:case 5:mi(n,n.return),xo(n);break;case 22:n.memoizedState===null&&xo(n);break;case 30:xo(n);break;default:xo(n)}e=e.sibling}}function Gi(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,m=n,w=m.flags;switch(m.tag){case 0:case 11:case 15:Gi(h,m,i),iu(4,m);break;case 1:if(Gi(h,m,i),o=m,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(ce){Yt(o,o.return,ce)}if(o=m,h=o.updateQueue,h!==null){var C=o.stateNode;try{var L=h.shared.hiddenCallbacks;if(L!==null)for(h.shared.hiddenCallbacks=null,h=0;h<L.length;h++)Fp(L[h],C)}catch(ce){Yt(o,o.return,ce)}}i&&w&64&&ey(m),su(m,m.return);break;case 27:ay(m);case 26:case 5:Gi(h,m,i),i&&o===null&&w&4&&ny(m),su(m,m.return);break;case 12:Gi(h,m,i);break;case 31:Gi(h,m,i),i&&w&4&&uy(h,m);break;case 13:Gi(h,m,i),i&&w&4&&cy(h,m);break;case 22:m.memoizedState===null&&Gi(h,m,i),su(m,m.return);break;case 30:break;default:Gi(h,m,i)}n=n.sibling}}function sd(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Gl(i))}function od(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Gl(e))}function $a(e,n,i,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)dy(e,n,i,o),n=n.sibling}function dy(e,n,i,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$a(e,n,i,o),h&2048&&iu(9,n);break;case 1:$a(e,n,i,o);break;case 3:$a(e,n,i,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Gl(e)));break;case 12:if(h&2048){$a(e,n,i,o),e=n.stateNode;try{var m=n.memoizedProps,w=m.id,C=m.onPostCommit;typeof C=="function"&&C(w,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(L){Yt(n,n.return,L)}}else $a(e,n,i,o);break;case 31:$a(e,n,i,o);break;case 13:$a(e,n,i,o);break;case 23:break;case 22:m=n.stateNode,w=n.alternate,n.memoizedState!==null?m._visibility&2?$a(e,n,i,o):ou(e,n):m._visibility&2?$a(e,n,i,o):(m._visibility|=2,nl(e,n,i,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&sd(w,n);break;case 24:$a(e,n,i,o),h&2048&&od(n.alternate,n);break;default:$a(e,n,i,o)}}function nl(e,n,i,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,w=n,C=i,L=o,ce=w.flags;switch(w.tag){case 0:case 11:case 15:nl(m,w,C,L,h),iu(8,w);break;case 23:break;case 22:var ve=w.stateNode;w.memoizedState!==null?ve._visibility&2?nl(m,w,C,L,h):ou(m,w):(ve._visibility|=2,nl(m,w,C,L,h)),h&&ce&2048&&sd(w.alternate,w);break;case 24:nl(m,w,C,L,h),h&&ce&2048&&od(w.alternate,w);break;default:nl(m,w,C,L,h)}n=n.sibling}}function ou(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,o=n,h=o.flags;switch(o.tag){case 22:ou(i,o),h&2048&&sd(o.alternate,o);break;case 24:ou(i,o),h&2048&&od(o.alternate,o);break;default:ou(i,o)}n=n.sibling}}var lu=8192;function rl(e,n,i){if(e.subtreeFlags&lu)for(e=e.child;e!==null;)my(e,n,i),e=e.sibling}function my(e,n,i){switch(e.tag){case 26:rl(e,n,i),e.flags&lu&&e.memoizedState!==null&&Mx(i,Xa,e.memoizedState,e.memoizedProps);break;case 5:rl(e,n,i);break;case 3:case 4:var o=Xa;Xa=Uc(e.stateNode.containerInfo),rl(e,n,i),Xa=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=lu,lu=16777216,rl(e,n,i),lu=o):rl(e,n,i));break;default:rl(e,n,i)}}function py(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function uu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];er=o,yy(o,e)}py(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gy(e),e=e.sibling}function gy(e){switch(e.tag){case 0:case 11:case 15:uu(e),e.flags&2048&&Cs(9,e,e.return);break;case 3:uu(e);break;case 12:uu(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ac(e)):uu(e);break;default:uu(e)}}function Ac(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];er=o,yy(o,e)}py(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Cs(8,n,n.return),Ac(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,Ac(n));break;default:Ac(n)}e=e.sibling}}function yy(e,n){for(;er!==null;){var i=er;switch(i.tag){case 0:case 11:case 15:Cs(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Gl(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,er=o;else e:for(i=e;er!==null;){o=er;var h=o.sibling,m=o.return;if(oy(o),o===i){er=null;break e}if(h!==null){h.return=m,er=h;break e}er=m}}}var X1={getCacheForType:function(e){var n=or(Ln),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i},cacheSignal:function(){return or(Ln).controller.signal}},$1=typeof WeakMap=="function"?WeakMap:Map,Lt=0,Wt=null,xt=null,wt=0,Qt=0,ha=null,Ds=!1,al=!1,ld=!1,Qi=0,En=0,Is=0,Eo=0,ud=0,da=0,il=0,cu=null,Kr=null,cd=!1,Rc=0,vy=0,Nc=1/0,Cc=null,js=null,Gn=0,Os=null,sl=null,Yi=0,fd=0,hd=null,_y=null,fu=0,dd=null;function ma(){return(Lt&2)!==0&&wt!==0?wt&-wt:J.T!==null?_d():Ai()}function by(){if(da===0)if((wt&536870912)===0||Dt){var e=za;za<<=1,(za&3932160)===0&&(za=262144),da=e}else da=536870912;return e=ca.current,e!==null&&(e.flags|=32),da}function Gr(e,n,i){(e===Wt&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(ol(e,0),Ms(e,wt,da,!1)),Nr(e,i),((Lt&2)===0||e!==Wt)&&(e===Wt&&((Lt&2)===0&&(Eo|=i),En===4&&Ms(e,wt,da,!1)),pi(e))}function xy(e,n,i){if((Lt&6)!==0)throw Error(s(327));var o=!i&&(n&127)===0&&(n&e.expiredLanes)===0||br(e,n),h=o?W1(e,n):pd(e,n,!0),m=o;do{if(h===0){al&&!o&&Ms(e,n,0,!1);break}else{if(i=e.current.alternate,m&&!Z1(i)){h=pd(e,n,!1),m=!1;continue}if(h===2){if(m=n,e.errorRecoveryDisabledLanes&m)var w=0;else w=e.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){n=w;e:{var C=e;h=cu;var L=C.current.memoizedState.isDehydrated;if(L&&(ol(C,w).flags|=256),w=pd(C,w,!1),w!==2){if(ld&&!L){C.errorRecoveryDisabledLanes|=m,Eo|=m,h=4;break e}m=Kr,Kr=h,m!==null&&(Kr===null?Kr=m:Kr.push.apply(Kr,m))}h=w}if(m=!1,h!==2)continue}}if(h===1){ol(e,0),Ms(e,n,0,!0);break}e:{switch(o=e,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ms(o,n,da,!Ds);break e;case 2:Kr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Rc+300-Xn(),10<h)){if(Ms(o,n,da,!Ds),Zr(o,0,!0)!==0)break e;Yi=n,o.timeoutHandle=Jy(Ey.bind(null,o,i,Kr,Cc,cd,n,da,Eo,il,Ds,m,"Throttled",-0,0),h);break e}Ey(o,i,Kr,Cc,cd,n,da,Eo,il,Ds,m,null,-0,0)}}break}while(!0);pi(e)}function Ey(e,n,i,o,h,m,w,C,L,ce,ve,Ee,he,ge){if(e.timeoutHandle=-1,Ee=n.subtreeFlags,Ee&8192||(Ee&16785408)===16785408){Ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mr},my(n,m,Ee);var Ge=(m&62914560)===m?Rc-Xn():(m&4194048)===m?vy-Xn():0;if(Ge=Vx(Ee,Ge),Ge!==null){Yi=m,e.cancelPendingCommit=Ge(Dy.bind(null,e,n,m,i,o,h,w,C,L,ve,Ee,null,he,ge)),Ms(e,m,w,!ce);return}}Dy(e,n,m,i,o,h,w,C,L)}function Z1(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var h=i[o],m=h.getSnapshot;h=h.value;try{if(!pr(m(),h))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ms(e,n,i,o){n&=~ud,n&=~Eo,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var m=31-Ue(h),w=1<<m;o[m]=-1,h&=~w}i!==0&&_a(e,i,n)}function Dc(){return(Lt&6)===0?(hu(0),!1):!0}function md(){if(xt!==null){if(Qt===0)var e=xt.return;else e=xt,Pi=ho=null,Dh(e),Zo=null,Yl=0,e=xt;for(;e!==null;)Wg(e.alternate,e),e=e.return;xt=null}}function ol(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,yx(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Yi=0,md(),Wt=e,xt=i=Vi(e.current,null),wt=n,Qt=0,ha=null,Ds=!1,al=br(e,n),ld=!1,il=da=ud=Eo=Is=En=0,Kr=cu=null,cd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Ue(o),m=1<<h;n|=e[h],o&=~m}return Qi=n,Wn(),i}function wy(e,n){mt=null,J.H=nu,n===$o||n===ic?(n=Up(),Qt=3):n===vh?(n=Up(),Qt=4):Qt=n===Gh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ha=n,xt===null&&(En=1,_c(e,Ca(n,e.current)))}function Ty(){var e=ca.current;return e===null?!0:(wt&4194048)===wt?Oa===null:(wt&62914560)===wt||(wt&536870912)!==0?e===Oa:!1}function Sy(){var e=J.H;return J.H=nu,e===null?nu:e}function Ay(){var e=J.A;return J.A=X1,e}function Ic(){En=4,Ds||(wt&4194048)!==wt&&ca.current!==null||(al=!0),(Is&134217727)===0&&(Eo&134217727)===0||Wt===null||Ms(Wt,wt,da,!1)}function pd(e,n,i){var o=Lt;Lt|=2;var h=Sy(),m=Ay();(Wt!==e||wt!==n)&&(Cc=null,ol(e,n)),n=!1;var w=En;e:do try{if(Qt!==0&&xt!==null){var C=xt,L=ha;switch(Qt){case 8:md(),w=6;break e;case 3:case 2:case 9:case 6:ca.current===null&&(n=!0);var ce=Qt;if(Qt=0,ha=null,ll(e,C,L,ce),i&&al){w=0;break e}break;default:ce=Qt,Qt=0,ha=null,ll(e,C,L,ce)}}J1(),w=En;break}catch(ve){wy(e,ve)}while(!0);return n&&e.shellSuspendCounter++,Pi=ho=null,Lt=o,J.H=h,J.A=m,xt===null&&(Wt=null,wt=0,Wn()),w}function J1(){for(;xt!==null;)Ry(xt)}function W1(e,n){var i=Lt;Lt|=2;var o=Sy(),h=Ay();Wt!==e||wt!==n?(Cc=null,Nc=Xn()+500,ol(e,n)):al=br(e,n);e:do try{if(Qt!==0&&xt!==null){n=xt;var m=ha;t:switch(Qt){case 1:Qt=0,ha=null,ll(e,n,m,1);break;case 2:case 9:if(Pp(m)){Qt=0,ha=null,Ny(n);break}n=function(){Qt!==2&&Qt!==9||Wt!==e||(Qt=7),pi(e)},m.then(n,n);break e;case 3:Qt=7;break e;case 4:Qt=5;break e;case 7:Pp(m)?(Qt=0,ha=null,Ny(n)):(Qt=0,ha=null,ll(e,n,m,7));break;case 5:var w=null;switch(xt.tag){case 26:w=xt.memoizedState;case 5:case 27:var C=xt;if(w?dv(w):C.stateNode.complete){Qt=0,ha=null;var L=C.sibling;if(L!==null)xt=L;else{var ce=C.return;ce!==null?(xt=ce,jc(ce)):xt=null}break t}}Qt=0,ha=null,ll(e,n,m,5);break;case 6:Qt=0,ha=null,ll(e,n,m,6);break;case 8:md(),En=6;break e;default:throw Error(s(462))}}ex();break}catch(ve){wy(e,ve)}while(!0);return Pi=ho=null,J.H=o,J.A=h,Lt=i,xt!==null?0:(Wt=null,wt=0,Wn(),En)}function ex(){for(;xt!==null&&!Po();)Ry(xt)}function Ry(e){var n=Zg(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,n===null?jc(e):xt=n}function Ny(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=Kg(i,n,n.pendingProps,n.type,void 0,wt);break;case 11:n=Kg(i,n,n.pendingProps,n.type.render,n.ref,wt);break;case 5:Dh(n);default:Wg(i,n),n=xt=Ap(n,Qi),n=Zg(i,n,Qi)}e.memoizedProps=e.pendingProps,n===null?jc(e):xt=n}function ll(e,n,i,o){Pi=ho=null,Dh(n),Zo=null,Yl=0;var h=n.return;try{if(q1(e,h,n,i,wt)){En=1,_c(e,Ca(i,e.current)),xt=null;return}}catch(m){if(h!==null)throw xt=h,m;En=1,_c(e,Ca(i,e.current)),xt=null;return}n.flags&32768?(Dt||o===1?e=!0:al||(wt&536870912)!==0?e=!1:(Ds=e=!0,(o===2||o===9||o===3||o===6)&&(o=ca.current,o!==null&&o.tag===13&&(o.flags|=16384))),Cy(n,e)):jc(n)}function jc(e){var n=e;do{if((n.flags&32768)!==0){Cy(n,Ds);return}e=n.return;var i=K1(n.alternate,n,Qi);if(i!==null){xt=i;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=e}while(n!==null);En===0&&(En=5)}function Cy(e,n){do{var i=G1(e.alternate,e);if(i!==null){i.flags&=32767,xt=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){xt=e;return}xt=e=i}while(e!==null);En=6,xt=null}function Dy(e,n,i,o,h,m,w,C,L){e.cancelPendingCommit=null;do Oc();while(Gn!==0);if((Lt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(m=n.lanes|n.childLanes,m|=dt,eo(e,i,m,w,C,L),e===Wt&&(xt=Wt=null,wt=0),sl=n,Os=e,Yi=i,fd=m,hd=h,_y=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ax(ya,function(){return Vy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=J.T,J.T=null,h=Se.p,Se.p=2,w=Lt,Lt|=4;try{Q1(e,n,i)}finally{Lt=w,Se.p=h,J.T=o}}Gn=1,Iy(),jy(),Oy()}}function Iy(){if(Gn===1){Gn=0;var e=Os,n=sl,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=J.T,J.T=null;var o=Se.p;Se.p=2;var h=Lt;Lt|=4;try{fy(n,e);var m=Rd,w=S(e.containerInfo),C=m.focusedElem,L=m.selectionRange;if(w!==C&&C&&C.ownerDocument&&E(C.ownerDocument.documentElement,C)){if(L!==null&&R(C)){var ce=L.start,ve=L.end;if(ve===void 0&&(ve=ce),"selectionStart"in C)C.selectionStart=ce,C.selectionEnd=Math.min(ve,C.value.length);else{var Ee=C.ownerDocument||document,he=Ee&&Ee.defaultView||window;if(he.getSelection){var ge=he.getSelection(),Ge=C.textContent.length,nt=Math.min(L.start,Ge),Zt=L.end===void 0?nt:Math.min(L.end,Ge);!ge.extend&&nt>Zt&&(w=Zt,Zt=nt,nt=w);var ae=g(C,nt),G=g(C,Zt);if(ae&&G&&(ge.rangeCount!==1||ge.anchorNode!==ae.node||ge.anchorOffset!==ae.offset||ge.focusNode!==G.node||ge.focusOffset!==G.offset)){var le=Ee.createRange();le.setStart(ae.node,ae.offset),ge.removeAllRanges(),nt>Zt?(ge.addRange(le),ge.extend(G.node,G.offset)):(le.setEnd(G.node,G.offset),ge.addRange(le))}}}}for(Ee=[],ge=C;ge=ge.parentNode;)ge.nodeType===1&&Ee.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<Ee.length;C++){var be=Ee[C];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}Kc=!!Ad,Rd=Ad=null}finally{Lt=h,Se.p=o,J.T=i}}e.current=n,Gn=2}}function jy(){if(Gn===2){Gn=0;var e=Os,n=sl,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=J.T,J.T=null;var o=Se.p;Se.p=2;var h=Lt;Lt|=4;try{sy(e,n.alternate,n)}finally{Lt=h,Se.p=o,J.T=i}}Gn=3}}function Oy(){if(Gn===4||Gn===3){Gn=0,ni();var e=Os,n=sl,i=Yi,o=_y;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Gn=5:(Gn=0,sl=Os=null,My(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(js=null),Cr(i),n=n.stateNode,Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(fr,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=J.T,h=Se.p,Se.p=2,J.T=null;try{for(var m=e.onRecoverableError,w=0;w<o.length;w++){var C=o[w];m(C.value,{componentStack:C.stack})}}finally{J.T=n,Se.p=h}}(Yi&3)!==0&&Oc(),pi(e),h=e.pendingLanes,(i&261930)!==0&&(h&42)!==0?e===dd?fu++:(fu=0,dd=e):fu=0,hu(0)}}function My(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Gl(n)))}function Oc(){return Iy(),jy(),Oy(),Vy()}function Vy(){if(Gn!==5)return!1;var e=Os,n=fd;fd=0;var i=Cr(Yi),o=J.T,h=Se.p;try{Se.p=32>i?32:i,J.T=null,i=hd,hd=null;var m=Os,w=Yi;if(Gn=0,sl=Os=null,Yi=0,(Lt&6)!==0)throw Error(s(331));var C=Lt;if(Lt|=4,gy(m.current),dy(m,m.current,w,i),Lt=C,hu(0,!1),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(fr,m)}catch{}return!0}finally{Se.p=h,J.T=o,My(e,n)}}function ky(e,n,i){n=Ca(i,n),n=Kh(e.stateNode,n,2),e=As(e,n,2),e!==null&&(Nr(e,2),pi(e))}function Yt(e,n,i){if(e.tag===3)ky(e,e,i);else for(;n!==null;){if(n.tag===3){ky(n,e,i);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(js===null||!js.has(o))){e=Ca(i,e),i=Pg(2),o=As(n,i,2),o!==null&&(Lg(i,o,n,e),Nr(o,2),pi(o));break}}n=n.return}}function gd(e,n,i){var o=e.pingCache;if(o===null){o=e.pingCache=new $1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(i)||(ld=!0,h.add(i),e=tx.bind(null,e,n,i),n.then(e,e))}function tx(e,n,i){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Wt===e&&(wt&i)===i&&(En===4||En===3&&(wt&62914560)===wt&&300>Xn()-Rc?(Lt&2)===0&&ol(e,0):ud|=i,il===wt&&(il=0)),pi(e)}function Py(e,n){n===0&&(n=Lo()),e=un(e,n),e!==null&&(Nr(e,n),pi(e))}function nx(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Py(e,i)}function rx(e,n){var i=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Py(e,i)}function ax(e,n){return Mt(e,n)}var Mc=null,ul=null,yd=!1,Vc=!1,vd=!1,Vs=0;function pi(e){e!==ul&&e.next===null&&(ul===null?Mc=ul=e:ul=ul.next=e),Vc=!0,yd||(yd=!0,sx())}function hu(e,n){if(!vd&&Vc){vd=!0;do for(var i=!1,o=Mc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var m=0;else{var w=o.suspendedLanes,C=o.pingedLanes;m=(1<<31-Ue(42|e)+1)-1,m&=h&~(w&~C),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(i=!0,By(o,m))}else m=wt,m=Zr(o,o===Wt?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||br(o,m)||(i=!0,By(o,m));o=o.next}while(i);vd=!1}}function ix(){Ly()}function Ly(){Vc=yd=!1;var e=0;Vs!==0&&gx()&&(e=Vs);for(var n=Xn(),i=null,o=Mc;o!==null;){var h=o.next,m=Uy(o,n);m===0?(o.next=null,i===null?Mc=h:i.next=h,h===null&&(ul=i)):(i=o,(e!==0||(m&3)!==0)&&(Vc=!0)),o=h}Gn!==0&&Gn!==5||hu(e),Vs!==0&&(Vs=0)}function Uy(e,n){for(var i=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var w=31-Ue(m),C=1<<w,L=h[w];L===-1?((C&i)===0||(C&o)!==0)&&(h[w]=Ul(C,n)):L<=n&&(e.expiredLanes|=C),m&=~C}if(n=Wt,i=wt,i=Zr(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,i===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&wn(o),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||br(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(o!==null&&wn(o),Cr(i)){case 2:case 8:i=$r;break;case 32:i=ya;break;case 268435456:i=rs;break;default:i=ya}return o=zy.bind(null,e),i=Mt(i,o),e.callbackPriority=n,e.callbackNode=i,n}return o!==null&&o!==null&&wn(o),e.callbackPriority=2,e.callbackNode=null,2}function zy(e,n){if(Gn!==0&&Gn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Oc()&&e.callbackNode!==i)return null;var o=wt;return o=Zr(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(xy(e,o,n),Uy(e,Xn()),e.callbackNode!=null&&e.callbackNode===i?zy.bind(null,e):null)}function By(e,n){if(Oc())return null;xy(e,n,!0)}function sx(){vx(function(){(Lt&6)!==0?Mt(Xr,ix):Ly()})}function _d(){if(Vs===0){var e=Yo;e===0&&(e=ke,ke<<=1,(ke&261888)===0&&(ke=256)),Vs=e}return Vs}function qy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ia(""+e)}function Fy(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function ox(e,n,i,o,h){if(n==="submit"&&i&&i.stateNode===h){var m=qy((h[nn]||null).action),w=o.submitter;w&&(n=(n=w[nn]||null)?qy(n.formAction):w.getAttribute("formAction"),n!==null&&(m=n,w=null));var C=new wa("action","action",null,o,h);e.push({event:C,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Vs!==0){var L=w?Fy(h,w):new FormData(h);Uh(i,{pending:!0,data:L,method:h.method,action:m},null,L)}}else typeof m=="function"&&(C.preventDefault(),L=w?Fy(h,w):new FormData(h),Uh(i,{pending:!0,data:L,method:h.method,action:m},m,L))},currentTarget:h}]})}}for(var bd=0;bd<Pe.length;bd++){var xd=Pe[bd],lx=xd.toLowerCase(),ux=xd[0].toUpperCase()+xd.slice(1);De(lx,"on"+ux)}De(oe,"onAnimationEnd"),De(fe,"onAnimationIteration"),De(ye,"onAnimationStart"),De("dblclick","onDoubleClick"),De("focusin","onFocus"),De("focusout","onBlur"),De(xe,"onTransitionRun"),De(Ie,"onTransitionStart"),De(Le,"onTransitionCancel"),De(Ce,"onTransitionEnd"),jr("onMouseEnter",["mouseout","mouseover"]),jr("onMouseLeave",["mouseout","mouseover"]),jr("onPointerEnter",["pointerout","pointerover"]),jr("onPointerLeave",["pointerout","pointerover"]),Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(du));function Hy(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],h=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var w=o.length-1;0<=w;w--){var C=o[w],L=C.instance,ce=C.currentTarget;if(C=C.listener,L!==m&&h.isPropagationStopped())break e;m=C,h.currentTarget=ce;try{m(h)}catch(ve){ze(ve)}h.currentTarget=null,m=L}else for(w=0;w<o.length;w++){if(C=o[w],L=C.instance,ce=C.currentTarget,C=C.listener,L!==m&&h.isPropagationStopped())break e;m=C,h.currentTarget=ce;try{m(h)}catch(ve){ze(ve)}h.currentTarget=null,m=L}}}}function Et(e,n){var i=n[Ba];i===void 0&&(i=n[Ba]=new Set);var o=e+"__bubble";i.has(o)||(Ky(n,e,2,!1),i.add(o))}function Ed(e,n,i){var o=0;n&&(o|=4),Ky(i,e,o,n)}var kc="_reactListening"+Math.random().toString(36).slice(2);function wd(e){if(!e[kc]){e[kc]=!0,ba.forEach(function(i){i!=="selectionchange"&&(cx.has(i)||Ed(i,!1,e),Ed(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[kc]||(n[kc]=!0,Ed("selectionchange",!1,n))}}function Ky(e,n,i,o){switch(bv(n)){case 2:var h=Lx;break;case 8:h=Ux;break;default:h=Ld}i=h.bind(null,n,i,e),h=void 0,!Ci||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,i,{capture:!0,passive:h}):e.addEventListener(n,i,!0):h!==void 0?e.addEventListener(n,i,{passive:h}):e.addEventListener(n,i,!1)}function Td(e,n,i,o,h){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var w=o.tag;if(w===3||w===4){var C=o.stateNode.containerInfo;if(C===h)break;if(w===4)for(w=o.return;w!==null;){var L=w.tag;if((L===3||L===4)&&w.stateNode.containerInfo===h)return;w=w.return}for(;C!==null;){if(w=Dr(C),w===null)return;if(L=w.tag,L===5||L===6||L===26||L===27){o=m=w;continue e}C=C.parentNode}}o=o.return}Vr(function(){var ce=m,ve=xr(i),Ee=[];e:{var he=Ve.get(e);if(he!==void 0){var ge=wa,Ge=e;switch(e){case"keypress":if(Ka(i)===0)break e;case"keydown":case"keyup":ge=ji;break;case"focusin":Ge="focus",ge=Aa;break;case"focusout":Ge="blur",ge=Aa;break;case"beforeblur":case"afterblur":ge=Aa;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Di;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=ao;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=x;break;case oe:case fe:case ye:ge=io;break;case Ce:ge=D;break;case"scroll":case"scrollend":ge=oi;break;case"wheel":ge=de;break;case"copy":case"cut":case"paste":ge=Ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=Ra;break;case"toggle":case"beforetoggle":ge=lt}var nt=(n&4)!==0,Zt=!nt&&(e==="scroll"||e==="scrollend"),ae=nt?he!==null?he+"Capture":null:he;nt=[];for(var G=ce,le;G!==null;){var be=G;if(le=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||le===null||ae===null||(be=Er(G,ae),be!=null&&nt.push(mu(G,be,le))),Zt)break;G=G.return}0<nt.length&&(he=new ge(he,Ge,null,i,ve),Ee.push({event:he,listeners:nt}))}}if((n&7)===0){e:{if(he=e==="mouseover"||e==="pointerover",ge=e==="mouseout"||e==="pointerout",he&&i!==Mr&&(Ge=i.relatedTarget||i.fromElement)&&(Dr(Ge)||Ge[Kn]))break e;if((ge||he)&&(he=ve.window===ve?ve:(he=ve.ownerDocument)?he.defaultView||he.parentWindow:window,ge?(Ge=i.relatedTarget||i.toElement,ge=ce,Ge=Ge?Dr(Ge):null,Ge!==null&&(Zt=c(Ge),nt=Ge.tag,Ge!==Zt||nt!==5&&nt!==27&&nt!==6)&&(Ge=null)):(ge=null,Ge=ce),ge!==Ge)){if(nt=Di,be="onMouseLeave",ae="onMouseEnter",G="mouse",(e==="pointerout"||e==="pointerover")&&(nt=Ra,be="onPointerLeave",ae="onPointerEnter",G="pointer"),Zt=ge==null?he:An(ge),le=Ge==null?he:An(Ge),he=new nt(be,G+"leave",ge,i,ve),he.target=Zt,he.relatedTarget=le,be=null,Dr(ve)===ce&&(nt=new nt(ae,G+"enter",Ge,i,ve),nt.target=le,nt.relatedTarget=Zt,be=nt),Zt=be,ge&&Ge)t:{for(nt=fx,ae=ge,G=Ge,le=0,be=ae;be;be=nt(be))le++;be=0;for(var et=G;et;et=nt(et))be++;for(;0<le-be;)ae=nt(ae),le--;for(;0<be-le;)G=nt(G),be--;for(;le--;){if(ae===G||G!==null&&ae===G.alternate){nt=ae;break t}ae=nt(ae),G=nt(G)}nt=null}else nt=null;ge!==null&&Gy(Ee,he,ge,nt,!1),Ge!==null&&Zt!==null&&Gy(Ee,Zt,Ge,nt,!0)}}e:{if(he=ce?An(ce):window,ge=he.nodeName&&he.nodeName.toLowerCase(),ge==="select"||ge==="input"&&he.type==="file")var kt=lo;else if(Bo(he))if(Na)kt=_s;else{kt=Mi;var Xe=Wu}else ge=he.nodeName,!ge||ge.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?ce&&ls(ce.elementType)&&(kt=lo):kt=ql;if(kt&&(kt=kt(e,ce))){Bl(Ee,kt,i,ve);break e}Xe&&Xe(e,he,ce),e==="focusout"&&ce&&he.type==="number"&&ce.memoizedProps.value!=null&&Ni(he,"number",he.value)}switch(Xe=ce?An(ce):window,e){case"focusin":(Bo(Xe)||Xe.contentEditable==="true")&&(P=Xe,F=ce,H=null);break;case"focusout":H=F=P=null;break;case"mousedown":W=!0;break;case"contextmenu":case"mouseup":case"dragend":W=!1,U(Ee,i,ve);break;case"selectionchange":if(I)break;case"keydown":case"keyup":U(Ee,i,ve)}var gt;if(Ct)e:{switch(e){case"compositionstart":var Tt="onCompositionStart";break e;case"compositionend":Tt="onCompositionEnd";break e;case"compositionupdate":Tt="onCompositionUpdate";break e}Tt=void 0}else Oi?ci(e,i)&&(Tt="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Tt="onCompositionStart");Tt&&(zr&&i.locale!=="ko"&&(Oi||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Oi&&(gt=Ha()):(kr=ve,us="value"in kr?kr.value:kr.textContent,Oi=!0)),Xe=Pc(ce,Tt),0<Xe.length&&(Tt=new Pr(Tt,e,null,i,ve),Ee.push({event:Tt,listeners:Xe}),gt?Tt.data=gt:(gt=gs(i),gt!==null&&(Tt.data=gt)))),(gt=Ur?$u(e,i):rh(e,i))&&(Tt=Pc(ce,"onBeforeInput"),0<Tt.length&&(Xe=new Pr("onBeforeInput","beforeinput",null,i,ve),Ee.push({event:Xe,listeners:Tt}),Xe.data=gt)),ox(Ee,e,ce,i,ve)}Hy(Ee,n)})}function mu(e,n,i){return{instance:e,listener:n,currentTarget:i}}function Pc(e,n){for(var i=n+"Capture",o=[];e!==null;){var h=e,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Er(e,i),h!=null&&o.unshift(mu(e,h,m)),h=Er(e,n),h!=null&&o.push(mu(e,h,m))),e.tag===3)return o;e=e.return}return[]}function fx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Gy(e,n,i,o,h){for(var m=n._reactName,w=[];i!==null&&i!==o;){var C=i,L=C.alternate,ce=C.stateNode;if(C=C.tag,L!==null&&L===o)break;C!==5&&C!==26&&C!==27||ce===null||(L=ce,h?(ce=Er(i,m),ce!=null&&w.unshift(mu(i,ce,L))):h||(ce=Er(i,m),ce!=null&&w.push(mu(i,ce,L)))),i=i.return}w.length!==0&&e.push({event:n,listeners:w})}var hx=/\r\n?/g,dx=/\u0000|\uFFFD/g;function Qy(e){return(typeof e=="string"?e:""+e).replace(hx,`
`).replace(dx,"")}function Yy(e,n){return n=Qy(n),Qy(e)===n}function $t(e,n,i,o,h,m){switch(i){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ir(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ir(e,""+o);break;case"className":dr(e,"class",o);break;case"tabIndex":dr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dr(e,i,o);break;case"style":os(e,o,m);break;case"data":if(n!=="object"){dr(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=ia(""+o),e.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(i==="formAction"?(n!=="input"&&$t(e,n,"name",h.name,h,null),$t(e,n,"formEncType",h.formEncType,h,null),$t(e,n,"formMethod",h.formMethod,h,null),$t(e,n,"formTarget",h.formTarget,h,null)):($t(e,n,"encType",h.encType,h,null),$t(e,n,"method",h.method,h,null),$t(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=ia(""+o),e.setAttribute(i,o);break;case"onClick":o!=null&&(e.onclick=mr);break;case"onScroll":o!=null&&Et("scroll",e);break;case"onScrollEnd":o!=null&&Et("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}i=ia(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""+o):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":o===!0?e.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,o):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(i,o):e.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(i):e.setAttribute(i,o);break;case"popover":Et("beforetoggle",e),Et("toggle",e),ht(e,"popover",o);break;case"xlinkActuate":pn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":pn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":pn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":pn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":pn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":pn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":pn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":pn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":pn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ht(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=zo.get(i)||i,ht(e,i,o))}}function Sd(e,n,i,o,h,m){switch(i){case"style":os(e,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof o=="string"?ir(e,o):(typeof o=="number"||typeof o=="bigint")&&ir(e,""+o);break;case"onScroll":o!=null&&Et("scroll",e);break;case"onScrollEnd":o!=null&&Et("scrollend",e);break;case"onClick":o!=null&&(e.onclick=mr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ai.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(h=i.endsWith("Capture"),n=i.slice(2,h?i.length-7:void 0),m=e[nn]||null,m=m!=null?m[i]:null,typeof m=="function"&&e.removeEventListener(n,m,h),typeof o=="function")){typeof m!="function"&&m!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,o,h);break e}i in e?e[i]=o:o===!0?e.setAttribute(i,""):ht(e,i,o)}}}function ur(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Et("error",e),Et("load",e);var o=!1,h=!1,m;for(m in i)if(i.hasOwnProperty(m)){var w=i[m];if(w!=null)switch(m){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(e,n,m,w,i,null)}}h&&$t(e,n,"srcSet",i.srcSet,i,null),o&&$t(e,n,"src",i.src,i,null);return;case"input":Et("invalid",e);var C=m=w=h=null,L=null,ce=null;for(o in i)if(i.hasOwnProperty(o)){var ve=i[o];if(ve!=null)switch(o){case"name":h=ve;break;case"type":w=ve;break;case"checked":L=ve;break;case"defaultChecked":ce=ve;break;case"value":m=ve;break;case"defaultValue":C=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(s(137,n));break;default:$t(e,n,o,ve,i,null)}}ss(e,m,C,L,ce,w,h,!1);return;case"select":Et("invalid",e),o=w=m=null;for(h in i)if(i.hasOwnProperty(h)&&(C=i[h],C!=null))switch(h){case"value":m=C;break;case"defaultValue":w=C;break;case"multiple":o=C;default:$t(e,n,h,C,i,null)}n=m,i=w,e.multiple=!!o,n!=null?ra(e,!!o,n,!1):i!=null&&ra(e,!!o,i,!0);return;case"textarea":Et("invalid",e),m=h=o=null;for(w in i)if(i.hasOwnProperty(w)&&(C=i[w],C!=null))switch(w){case"value":o=C;break;case"defaultValue":h=C;break;case"children":m=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:$t(e,n,w,C,i,null)}aa(e,o,h,m);return;case"option":for(L in i)if(i.hasOwnProperty(L)&&(o=i[L],o!=null))switch(L){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:$t(e,n,L,o,i,null)}return;case"dialog":Et("beforetoggle",e),Et("toggle",e),Et("cancel",e),Et("close",e);break;case"iframe":case"object":Et("load",e);break;case"video":case"audio":for(o=0;o<du.length;o++)Et(du[o],e);break;case"image":Et("error",e),Et("load",e);break;case"details":Et("toggle",e);break;case"embed":case"source":case"link":Et("error",e),Et("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in i)if(i.hasOwnProperty(ce)&&(o=i[ce],o!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(e,n,ce,o,i,null)}return;default:if(ls(n)){for(ve in i)i.hasOwnProperty(ve)&&(o=i[ve],o!==void 0&&Sd(e,n,ve,o,i,void 0));return}}for(C in i)i.hasOwnProperty(C)&&(o=i[C],o!=null&&$t(e,n,C,o,i,null))}function mx(e,n,i,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,w=null,C=null,L=null,ce=null,ve=null;for(ge in i){var Ee=i[ge];if(i.hasOwnProperty(ge)&&Ee!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":L=Ee;default:o.hasOwnProperty(ge)||$t(e,n,ge,null,o,Ee)}}for(var he in o){var ge=o[he];if(Ee=i[he],o.hasOwnProperty(he)&&(ge!=null||Ee!=null))switch(he){case"type":m=ge;break;case"name":h=ge;break;case"checked":ce=ge;break;case"defaultChecked":ve=ge;break;case"value":w=ge;break;case"defaultValue":C=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(s(137,n));break;default:ge!==Ee&&$t(e,n,he,ge,o,Ee)}}na(e,w,C,L,ce,ve,m,h);return;case"select":ge=w=C=he=null;for(m in i)if(L=i[m],i.hasOwnProperty(m)&&L!=null)switch(m){case"value":break;case"multiple":ge=L;default:o.hasOwnProperty(m)||$t(e,n,m,null,o,L)}for(h in o)if(m=o[h],L=i[h],o.hasOwnProperty(h)&&(m!=null||L!=null))switch(h){case"value":he=m;break;case"defaultValue":C=m;break;case"multiple":w=m;default:m!==L&&$t(e,n,h,m,o,L)}n=C,i=w,o=ge,he!=null?ra(e,!!i,he,!1):!!o!=!!i&&(n!=null?ra(e,!!i,n,!0):ra(e,!!i,i?[]:"",!1));return;case"textarea":ge=he=null;for(C in i)if(h=i[C],i.hasOwnProperty(C)&&h!=null&&!o.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:$t(e,n,C,null,o,h)}for(w in o)if(h=o[w],m=i[w],o.hasOwnProperty(w)&&(h!=null||m!=null))switch(w){case"value":he=h;break;case"defaultValue":ge=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&$t(e,n,w,h,o,m)}ro(e,he,ge);return;case"option":for(var Ge in i)if(he=i[Ge],i.hasOwnProperty(Ge)&&he!=null&&!o.hasOwnProperty(Ge))switch(Ge){case"selected":e.selected=!1;break;default:$t(e,n,Ge,null,o,he)}for(L in o)if(he=o[L],ge=i[L],o.hasOwnProperty(L)&&he!==ge&&(he!=null||ge!=null))switch(L){case"selected":e.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:$t(e,n,L,he,o,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nt in i)he=i[nt],i.hasOwnProperty(nt)&&he!=null&&!o.hasOwnProperty(nt)&&$t(e,n,nt,null,o,he);for(ce in o)if(he=o[ce],ge=i[ce],o.hasOwnProperty(ce)&&he!==ge&&(he!=null||ge!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(s(137,n));break;default:$t(e,n,ce,he,o,ge)}return;default:if(ls(n)){for(var Zt in i)he=i[Zt],i.hasOwnProperty(Zt)&&he!==void 0&&!o.hasOwnProperty(Zt)&&Sd(e,n,Zt,void 0,o,he);for(ve in o)he=o[ve],ge=i[ve],!o.hasOwnProperty(ve)||he===ge||he===void 0&&ge===void 0||Sd(e,n,ve,he,o,ge);return}}for(var ae in i)he=i[ae],i.hasOwnProperty(ae)&&he!=null&&!o.hasOwnProperty(ae)&&$t(e,n,ae,null,o,he);for(Ee in o)he=o[Ee],ge=i[Ee],!o.hasOwnProperty(Ee)||he===ge||he==null&&ge==null||$t(e,n,Ee,he,o,ge)}function Xy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function px(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,i=performance.getEntriesByType("resource"),o=0;o<i.length;o++){var h=i[o],m=h.transferSize,w=h.initiatorType,C=h.duration;if(m&&C&&Xy(w)){for(w=0,C=h.responseEnd,o+=1;o<i.length;o++){var L=i[o],ce=L.startTime;if(ce>C)break;var ve=L.transferSize,Ee=L.initiatorType;ve&&Xy(Ee)&&(L=L.responseEnd,w+=ve*(L<C?1:(C-ce)/(L-ce)))}if(--o,n+=8*(m+w)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ad=null,Rd=null;function Lc(e){return e.nodeType===9?e:e.ownerDocument}function $y(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Nd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Cd=null;function gx(){var e=window.event;return e&&e.type==="popstate"?e===Cd?!1:(Cd=e,!0):(Cd=null,!1)}var Jy=typeof setTimeout=="function"?setTimeout:void 0,yx=typeof clearTimeout=="function"?clearTimeout:void 0,Wy=typeof Promise=="function"?Promise:void 0,vx=typeof queueMicrotask=="function"?queueMicrotask:typeof Wy<"u"?function(e){return Wy.resolve(null).then(e).catch(_x)}:Jy;function _x(e){setTimeout(function(){throw e})}function ks(e){return e==="head"}function ev(e,n){var i=n,o=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"||i==="/&"){if(o===0){e.removeChild(h),dl(n);return}o--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")o++;else if(i==="html")pu(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,pu(i);for(var m=i.firstChild;m;){var w=m.nextSibling,C=m.nodeName;m[$n]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&m.rel.toLowerCase()==="stylesheet"||i.removeChild(m),m=w}}else i==="body"&&pu(e.ownerDocument.body);i=h}while(i);dl(n)}function tv(e,n){var i=e;e=0;do{var o=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=o}while(i)}function Dd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Dd(i),Ri(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function bx(e,n,i,o){for(;e.nodeType===1;){var h=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[$n])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Ma(e.nextSibling),e===null)break}return null}function xx(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Ma(e.nextSibling),e===null))return null;return e}function nv(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ma(e.nextSibling),e===null))return null;return e}function Id(e){return e.data==="$?"||e.data==="$~"}function jd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ex(e,n){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||i.readyState!=="loading")n();else{var o=function(){n(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Ma(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Od=null;function rv(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(n===0)return Ma(e.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}e=e.nextSibling}return null}function av(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return e;n--}else i!=="/$"&&i!=="/&"||n++}e=e.previousSibling}return null}function iv(e,n,i){switch(n=Lc(i),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function pu(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ri(e)}var Va=new Map,sv=new Set;function Uc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Xi=Se.d;Se.d={f:wx,r:Tx,D:Sx,C:Ax,L:Rx,m:Nx,X:Dx,S:Cx,M:Ix};function wx(){var e=Xi.f(),n=Dc();return e||n}function Tx(e){var n=It(e);n!==null&&n.tag===5&&n.type==="form"?wg(n):Xi.r(e)}var cl=typeof document>"u"?null:document;function ov(e,n,i){var o=cl;if(o&&typeof n=="string"&&n){var h=Vn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof i=="string"&&(h+='[crossorigin="'+i+'"]'),sv.has(h)||(sv.add(h),e={rel:e,crossOrigin:i,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),ur(n,"link",e),mn(n),o.head.appendChild(n)))}}function Sx(e){Xi.D(e),ov("dns-prefetch",e,null)}function Ax(e,n){Xi.C(e,n),ov("preconnect",e,n)}function Rx(e,n,i){Xi.L(e,n,i);var o=cl;if(o&&e&&n){var h='link[rel="preload"][as="'+Vn(n)+'"]';n==="image"&&i&&i.imageSrcSet?(h+='[imagesrcset="'+Vn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(h+='[imagesizes="'+Vn(i.imageSizes)+'"]')):h+='[href="'+Vn(e)+'"]';var m=h;switch(n){case"style":m=fl(e);break;case"script":m=hl(e)}Va.has(m)||(e=N({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),Va.set(m,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(gu(m))||n==="script"&&o.querySelector(yu(m))||(n=o.createElement("link"),ur(n,"link",e),mn(n),o.head.appendChild(n)))}}function Nx(e,n){Xi.m(e,n);var i=cl;if(i&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Vn(o)+'"][href="'+Vn(e)+'"]',m=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=hl(e)}if(!Va.has(m)&&(e=N({rel:"modulepreload",href:e},n),Va.set(m,e),i.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(yu(m)))return}o=i.createElement("link"),ur(o,"link",e),mn(o),i.head.appendChild(o)}}}function Cx(e,n,i){Xi.S(e,n,i);var o=cl;if(o&&e){var h=Mn(o).hoistableStyles,m=fl(e);n=n||"default";var w=h.get(m);if(!w){var C={loading:0,preload:null};if(w=o.querySelector(gu(m)))C.loading=5;else{e=N({rel:"stylesheet",href:e,"data-precedence":n},i),(i=Va.get(m))&&Md(e,i);var L=w=o.createElement("link");mn(L),ur(L,"link",e),L._p=new Promise(function(ce,ve){L.onload=ce,L.onerror=ve}),L.addEventListener("load",function(){C.loading|=1}),L.addEventListener("error",function(){C.loading|=2}),C.loading|=4,zc(w,n,o)}w={type:"stylesheet",instance:w,count:1,state:C},h.set(m,w)}}}function Dx(e,n){Xi.X(e,n);var i=cl;if(i&&e){var o=Mn(i).hoistableScripts,h=hl(e),m=o.get(h);m||(m=i.querySelector(yu(h)),m||(e=N({src:e,async:!0},n),(n=Va.get(h))&&Vd(e,n),m=i.createElement("script"),mn(m),ur(m,"link",e),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function Ix(e,n){Xi.M(e,n);var i=cl;if(i&&e){var o=Mn(i).hoistableScripts,h=hl(e),m=o.get(h);m||(m=i.querySelector(yu(h)),m||(e=N({src:e,async:!0,type:"module"},n),(n=Va.get(h))&&Vd(e,n),m=i.createElement("script"),mn(m),ur(m,"link",e),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function lv(e,n,i,o){var h=(h=$e.current)?Uc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=fl(i.href),i=Mn(h).hoistableStyles,o=i.get(n),o||(o={type:"style",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=fl(i.href);var m=Mn(h).hoistableStyles,w=m.get(e);if(w||(h=h.ownerDocument||h,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,w),(m=h.querySelector(gu(e)))&&!m._p&&(w.instance=m,w.state.loading=5),Va.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Va.set(e,i),m||jx(h,e,i,w.state))),n&&o===null)throw Error(s(528,""));return w}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=hl(i),i=Mn(h).hoistableScripts,o=i.get(n),o||(o={type:"script",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function fl(e){return'href="'+Vn(e)+'"'}function gu(e){return'link[rel="stylesheet"]['+e+"]"}function uv(e){return N({},e,{"data-precedence":e.precedence,precedence:null})}function jx(e,n,i,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ur(n,"link",i),mn(n),e.head.appendChild(n))}function hl(e){return'[src="'+Vn(e)+'"]'}function yu(e){return"script[async]"+e}function cv(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+Vn(i.href)+'"]');if(o)return n.instance=o,mn(o),o;var h=N({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),mn(o),ur(o,"style",h),zc(o,i.precedence,e),n.instance=o;case"stylesheet":h=fl(i.href);var m=e.querySelector(gu(h));if(m)return n.state.loading|=4,n.instance=m,mn(m),m;o=uv(i),(h=Va.get(h))&&Md(o,h),m=(e.ownerDocument||e).createElement("link"),mn(m);var w=m;return w._p=new Promise(function(C,L){w.onload=C,w.onerror=L}),ur(m,"link",o),n.state.loading|=4,zc(m,i.precedence,e),n.instance=m;case"script":return m=hl(i.src),(h=e.querySelector(yu(m)))?(n.instance=h,mn(h),h):(o=i,(h=Va.get(m))&&(o=N({},i),Vd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),mn(h),ur(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,zc(o,i.precedence,e));return n.instance}function zc(e,n,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,m=h,w=0;w<o.length;w++){var C=o[w];if(C.dataset.precedence===n)m=C;else if(m!==h)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function Md(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Bc=null;function fv(e,n,i){if(Bc===null){var o=new Map,h=Bc=new Map;h.set(i,o)}else h=Bc,o=h.get(i),o||(o=new Map,h.set(i,o));if(o.has(e))return o;for(o.set(e,null),i=i.getElementsByTagName(e),h=0;h<i.length;h++){var m=i[h];if(!(m[$n]||m[Ht]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var w=m.getAttribute(n)||"";w=e+w;var C=o.get(w);C?C.push(m):o.set(w,[m])}}return o}function hv(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function Ox(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function dv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Mx(e,n,i,o){if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=fl(o.href),m=n.querySelector(gu(h));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=qc.bind(e),n.then(e,e)),i.state.loading|=4,i.instance=m,mn(m);return}m=n.ownerDocument||n,o=uv(o),(h=Va.get(h))&&Md(o,h),m=m.createElement("link"),mn(m);var w=m;w._p=new Promise(function(C,L){w.onload=C,w.onerror=L}),ur(m,"link",o),i.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=qc.bind(e),n.addEventListener("load",i),n.addEventListener("error",i))}}var kd=0;function Vx(e,n){return e.stylesheets&&e.count===0&&Hc(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var o=setTimeout(function(){if(e.stylesheets&&Hc(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&kd===0&&(kd=62500*px());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Hc(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>kd?50:800)+n);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fc=null;function Hc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fc=new Map,n.forEach(kx,e),Fc=null,qc.call(e))}function kx(e,n){if(!(n.state.loading&4)){var i=Fc.get(e);if(i)var o=i.get(null);else{i=new Map,Fc.set(e,i);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var w=h[m];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(i.set(w.dataset.precedence,w),o=w)}o&&i.set(null,o)}h=n.instance,w=h.getAttribute("data-precedence"),m=i.get(w)||o,m===o&&i.set(null,h),i.set(w,h),this.count++,o=qc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),m?m.parentNode.insertBefore(h,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var vu={$$typeof:pe,Provider:null,Consumer:null,_currentValue:Ae,_currentValue2:Ae,_threadCount:0};function Px(e,n,i,o,h,m,w,C,L){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ar(0),this.hiddenUpdates=ar(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function mv(e,n,i,o,h,m,w,C,L,ce,ve,Ee){return e=new Px(e,n,i,w,L,ce,ve,Ee,C),n=1,m===!0&&(n|=24),m=ua(3,null,null,n),e.current=m,m.stateNode=e,n=ph(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:i,cache:n},_h(m),e}function pv(e){return e?(e=Br,e):Br}function gv(e,n,i,o,h,m){h=pv(h),o.context===null?o.context=h:o.pendingContext=h,o=Ss(n),o.payload={element:i},m=m===void 0?null:m,m!==null&&(o.callback=m),i=As(e,o,n),i!==null&&(Gr(i,e,n),$l(i,e,n))}function yv(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Pd(e,n){yv(e,n),(e=e.alternate)&&yv(e,n)}function vv(e){if(e.tag===13||e.tag===31){var n=un(e,67108864);n!==null&&Gr(n,e,67108864),Pd(e,67108864)}}function _v(e){if(e.tag===13||e.tag===31){var n=ma();n=Si(n);var i=un(e,n);i!==null&&Gr(i,e,n),Pd(e,n)}}var Kc=!0;function Lx(e,n,i,o){var h=J.T;J.T=null;var m=Se.p;try{Se.p=2,Ld(e,n,i,o)}finally{Se.p=m,J.T=h}}function Ux(e,n,i,o){var h=J.T;J.T=null;var m=Se.p;try{Se.p=8,Ld(e,n,i,o)}finally{Se.p=m,J.T=h}}function Ld(e,n,i,o){if(Kc){var h=Ud(o);if(h===null)Td(e,n,o,Gc,i),xv(e,o);else if(Bx(h,e,n,i,o))o.stopPropagation();else if(xv(e,o),n&4&&-1<zx.indexOf(e)){for(;h!==null;){var m=It(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var w=Rr(m.pendingLanes);if(w!==0){var C=m;for(C.pendingLanes|=2,C.entangledLanes|=2;w;){var L=1<<31-Ue(w);C.entanglements[1]|=L,w&=~L}pi(m),(Lt&6)===0&&(Nc=Xn()+500,hu(0))}}break;case 31:case 13:C=un(m,2),C!==null&&Gr(C,m,2),Dc(),Pd(m,2)}if(m=Ud(o),m===null&&Td(e,n,o,Gc,i),m===h)break;h=m}h!==null&&o.stopPropagation()}else Td(e,n,o,null,i)}}function Ud(e){return e=xr(e),zd(e)}var Gc=null;function zd(e){if(Gc=null,e=Dr(e),e!==null){var n=c(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=p(n),e!==null)return e;e=null}else if(i===31){if(e=b(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Gc=e,null}function bv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yr()){case Xr:return 2;case $r:return 8;case ya:case Ei:return 32;case rs:return 268435456;default:return 32}default:return 32}}var Bd=!1,Ps=null,Ls=null,Us=null,_u=new Map,bu=new Map,zs=[],zx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xv(e,n){switch(e){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":_u.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bu.delete(n.pointerId)}}function xu(e,n,i,o,h,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:i,eventSystemFlags:o,nativeEvent:m,targetContainers:[h]},n!==null&&(n=It(n),n!==null&&vv(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Bx(e,n,i,o,h){switch(n){case"focusin":return Ps=xu(Ps,e,n,i,o,h),!0;case"dragenter":return Ls=xu(Ls,e,n,i,o,h),!0;case"mouseover":return Us=xu(Us,e,n,i,o,h),!0;case"pointerover":var m=h.pointerId;return _u.set(m,xu(_u.get(m)||null,e,n,i,o,h)),!0;case"gotpointercapture":return m=h.pointerId,bu.set(m,xu(bu.get(m)||null,e,n,i,o,h)),!0}return!1}function Ev(e){var n=Dr(e.target);if(n!==null){var i=c(n);if(i!==null){if(n=i.tag,n===13){if(n=p(i),n!==null){e.blockedOn=n,hr(e.priority,function(){_v(i)});return}}else if(n===31){if(n=b(i),n!==null){e.blockedOn=n,hr(e.priority,function(){_v(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Ud(e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);Mr=o,i.target.dispatchEvent(o),Mr=null}else return n=It(i),n!==null&&vv(n),e.blockedOn=i,!1;n.shift()}return!0}function wv(e,n,i){Qc(e)&&i.delete(n)}function qx(){Bd=!1,Ps!==null&&Qc(Ps)&&(Ps=null),Ls!==null&&Qc(Ls)&&(Ls=null),Us!==null&&Qc(Us)&&(Us=null),_u.forEach(wv),bu.forEach(wv)}function Yc(e,n){e.blockedOn===n&&(e.blockedOn=null,Bd||(Bd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,qx)))}var Xc=null;function Tv(e){Xc!==e&&(Xc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Xc===e&&(Xc=null);for(var n=0;n<e.length;n+=3){var i=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(zd(o||i)===null)continue;break}var m=It(i);m!==null&&(e.splice(n,3),n-=3,Uh(m,{pending:!0,data:h,method:i.method,action:o},o,h))}}))}function dl(e){function n(L){return Yc(L,e)}Ps!==null&&Yc(Ps,e),Ls!==null&&Yc(Ls,e),Us!==null&&Yc(Us,e),_u.forEach(n),bu.forEach(n);for(var i=0;i<zs.length;i++){var o=zs[i];o.blockedOn===e&&(o.blockedOn=null)}for(;0<zs.length&&(i=zs[0],i.blockedOn===null);)Ev(i),i.blockedOn===null&&zs.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var h=i[o],m=i[o+1],w=h[nn]||null;if(typeof m=="function")w||Tv(i);else if(w){var C=null;if(m&&m.hasAttribute("formAction")){if(h=m,w=m[nn]||null)C=w.formAction;else if(zd(h)!==null)continue}else C=w.action;typeof C=="function"?i[o+1]=C:(i.splice(o,3),o-=3),Tv(i)}}}function Sv(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(w){return h=w})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(i,20)}function i(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function qd(e){this._internalRoot=e}$c.prototype.render=qd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var i=n.current,o=ma();gv(i,o,e,n,null,null)},$c.prototype.unmount=qd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;gv(e.current,2,null,e,null,null),Dc(),n[Kn]=null}};function $c(e){this._internalRoot=e}$c.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ai();e={blockedOn:null,target:e,priority:n};for(var i=0;i<zs.length&&n!==0&&n<zs[i].priority;i++);zs.splice(i,0,e),i===0&&Ev(e)}};var Av=t.version;if(Av!=="19.2.0")throw Error(s(527,Av,"19.2.0"));Se.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=v(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var Fx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{fr=Zc.inject(Fx),Tn=Zc}catch{}}return wu.createRoot=function(e,n){if(!l(e))throw Error(s(299));var i=!1,o="",h=Og,m=Mg,w=Vg;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(w=n.onRecoverableError)),n=mv(e,1,!1,null,null,i,o,null,h,m,w,Sv),e[Kn]=n.current,wd(e),new qd(n)},wu.hydrateRoot=function(e,n,i){if(!l(e))throw Error(s(299));var o=!1,h="",m=Og,w=Mg,C=Vg,L=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(w=i.onCaughtError),i.onRecoverableError!==void 0&&(C=i.onRecoverableError),i.formState!==void 0&&(L=i.formState)),n=mv(e,1,!0,n,i??null,o,h,L,m,w,C,Sv),n.context=pv(null),i=n.current,o=ma(),o=Si(o),h=Ss(o),h.callback=null,As(i,h,o),i=o,n.current.lanes=i,Nr(n,i),pi(n),e[Kn]=n.current,wd(e),new $c(n)},wu.version="19.2.0",wu}var kv;function eE(){if(kv)return Kd.exports;kv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Kd.exports=Wx(),Kd.exports}var tE=eE();const nE=Im(tE);var Pv="popstate";function rE(a={}){function t(s,l){let{pathname:c,search:p,hash:b}=s.location;return sm("",{pathname:c,search:p,hash:b},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(s,l){return typeof l=="string"?l:Mu(l)}return iE(t,r,null,a)}function fn(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function La(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function aE(){return Math.random().toString(36).substring(2,10)}function Lv(a,t){return{usr:a.state,key:a.key,idx:t}}function sm(a,t,r=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof t=="string"?Dl(t):t,state:r,key:t&&t.key||s||aE()}}function Mu({pathname:a="/",search:t="",hash:r=""}){return t&&t!=="?"&&(a+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(a+=r.charAt(0)==="#"?r:"#"+r),a}function Dl(a){let t={};if(a){let r=a.indexOf("#");r>=0&&(t.hash=a.substring(r),a=a.substring(0,r));let s=a.indexOf("?");s>=0&&(t.search=a.substring(s),a=a.substring(0,s)),a&&(t.pathname=a)}return t}function iE(a,t,r,s={}){let{window:l=document.defaultView,v5Compat:c=!1}=s,p=l.history,b="POP",_=null,v=A();v==null&&(v=0,p.replaceState({...p.state,idx:v},""));function A(){return(p.state||{idx:null}).idx}function N(){b="POP";let te=A(),Y=te==null?null:te-v;v=te,_&&_({action:b,location:ue.location,delta:Y})}function O(te,Y){b="PUSH";let re=sm(ue.location,te,Y);v=A()+1;let pe=Lv(re,v),Ne=ue.createHref(re);try{p.pushState(pe,"",Ne)}catch(qe){if(qe instanceof DOMException&&qe.name==="DataCloneError")throw qe;l.location.assign(Ne)}c&&_&&_({action:b,location:ue.location,delta:1})}function Q(te,Y){b="REPLACE";let re=sm(ue.location,te,Y);v=A();let pe=Lv(re,v),Ne=ue.createHref(re);p.replaceState(pe,"",Ne),c&&_&&_({action:b,location:ue.location,delta:0})}function me(te){return sE(te)}let ue={get action(){return b},get location(){return a(l,p)},listen(te){if(_)throw new Error("A history only accepts one active listener");return l.addEventListener(Pv,N),_=te,()=>{l.removeEventListener(Pv,N),_=null}},createHref(te){return t(l,te)},createURL:me,encodeLocation(te){let Y=me(te);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:O,replace:Q,go(te){return p.go(te)}};return ue}function sE(a,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),fn(r,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:Mu(a);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function c_(a,t,r="/"){return oE(a,t,r,!1)}function oE(a,t,r,s){let l=typeof t=="string"?Dl(t):t,c=Ji(l.pathname||"/",r);if(c==null)return null;let p=f_(a);lE(p);let b=null;for(let _=0;b==null&&_<p.length;++_){let v=_E(c);b=yE(p[_],v,s)}return b}function f_(a,t=[],r=[],s="",l=!1){let c=(p,b,_=l,v)=>{let A={relativePath:v===void 0?p.path||"":v,caseSensitive:p.caseSensitive===!0,childrenIndex:b,route:p};if(A.relativePath.startsWith("/")){if(!A.relativePath.startsWith(s)&&_)return;fn(A.relativePath.startsWith(s),`Absolute route path "${A.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),A.relativePath=A.relativePath.slice(s.length)}let N=$i([s,A.relativePath]),O=r.concat(A);p.children&&p.children.length>0&&(fn(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${N}".`),f_(p.children,t,O,N,_)),!(p.path==null&&!p.index)&&t.push({path:N,score:pE(N,p.index),routesMeta:O})};return a.forEach((p,b)=>{if(p.path===""||!p.path?.includes("?"))c(p,b);else for(let _ of h_(p.path))c(p,b,!0,_)}),t}function h_(a){let t=a.split("/");if(t.length===0)return[];let[r,...s]=t,l=r.endsWith("?"),c=r.replace(/\?$/,"");if(s.length===0)return l?[c,""]:[c];let p=h_(s.join("/")),b=[];return b.push(...p.map(_=>_===""?c:[c,_].join("/"))),l&&b.push(...p),b.map(_=>a.startsWith("/")&&_===""?"/":_)}function lE(a){a.sort((t,r)=>t.score!==r.score?r.score-t.score:gE(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var uE=/^:[\w-]+$/,cE=3,fE=2,hE=1,dE=10,mE=-2,Uv=a=>a==="*";function pE(a,t){let r=a.split("/"),s=r.length;return r.some(Uv)&&(s+=mE),t&&(s+=fE),r.filter(l=>!Uv(l)).reduce((l,c)=>l+(uE.test(c)?cE:c===""?hE:dE),s)}function gE(a,t){return a.length===t.length&&a.slice(0,-1).every((s,l)=>s===t[l])?a[a.length-1]-t[t.length-1]:0}function yE(a,t,r=!1){let{routesMeta:s}=a,l={},c="/",p=[];for(let b=0;b<s.length;++b){let _=s[b],v=b===s.length-1,A=c==="/"?t:t.slice(c.length)||"/",N=pf({path:_.relativePath,caseSensitive:_.caseSensitive,end:v},A),O=_.route;if(!N&&v&&r&&!s[s.length-1].route.index&&(N=pf({path:_.relativePath,caseSensitive:_.caseSensitive,end:!1},A)),!N)return null;Object.assign(l,N.params),p.push({params:l,pathname:$i([c,N.pathname]),pathnameBase:TE($i([c,N.pathnameBase])),route:O}),N.pathnameBase!=="/"&&(c=$i([c,N.pathnameBase]))}return p}function pf(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[r,s]=vE(a.path,a.caseSensitive,a.end),l=t.match(r);if(!l)return null;let c=l[0],p=c.replace(/(.)\/+$/,"$1"),b=l.slice(1);return{params:s.reduce((v,{paramName:A,isOptional:N},O)=>{if(A==="*"){let me=b[O]||"";p=c.slice(0,c.length-me.length).replace(/(.)\/+$/,"$1")}const Q=b[O];return N&&!Q?v[A]=void 0:v[A]=(Q||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:p,pattern:a}}function vE(a,t=!1,r=!0){La(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],l="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,b,_)=>(s.push({paramName:b,isOptional:_!=null}),_?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(s.push({paramName:"*"}),l+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":a!==""&&a!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function _E(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return La(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),a}}function Ji(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=a.charAt(r);return s&&s!=="/"?null:a.slice(r)||"/"}var bE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xE=a=>bE.test(a);function EE(a,t="/"){let{pathname:r,search:s="",hash:l=""}=typeof a=="string"?Dl(a):a,c;if(r)if(xE(r))c=r;else{if(r.includes("//")){let p=r;r=r.replace(/\/\/+/g,"/"),La(!1,`Pathnames cannot have embedded double slashes - normalizing ${p} -> ${r}`)}r.startsWith("/")?c=zv(r.substring(1),"/"):c=zv(r,t)}else c=t;return{pathname:c,search:SE(s),hash:AE(l)}}function zv(a,t){let r=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function Xd(a,t,r,s){return`Cannot include a '${a}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wE(a){return a.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function jm(a){let t=wE(a);return t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase)}function Om(a,t,r,s=!1){let l;typeof a=="string"?l=Dl(a):(l={...a},fn(!l.pathname||!l.pathname.includes("?"),Xd("?","pathname","search",l)),fn(!l.pathname||!l.pathname.includes("#"),Xd("#","pathname","hash",l)),fn(!l.search||!l.search.includes("#"),Xd("#","search","hash",l)));let c=a===""||l.pathname==="",p=c?"/":l.pathname,b;if(p==null)b=r;else{let N=t.length-1;if(!s&&p.startsWith("..")){let O=p.split("/");for(;O[0]==="..";)O.shift(),N-=1;l.pathname=O.join("/")}b=N>=0?t[N]:"/"}let _=EE(l,b),v=p&&p!=="/"&&p.endsWith("/"),A=(c||p===".")&&r.endsWith("/");return!_.pathname.endsWith("/")&&(v||A)&&(_.pathname+="/"),_}var $i=a=>a.join("/").replace(/\/\/+/g,"/"),TE=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),SE=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,AE=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function RE(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var d_=["POST","PUT","PATCH","DELETE"];new Set(d_);var NE=["GET",...d_];new Set(NE);var Il=se.createContext(null);Il.displayName="DataRouter";var Vf=se.createContext(null);Vf.displayName="DataRouterState";se.createContext(!1);var m_=se.createContext({isTransitioning:!1});m_.displayName="ViewTransition";var CE=se.createContext(new Map);CE.displayName="Fetchers";var DE=se.createContext(null);DE.displayName="Await";var ti=se.createContext(null);ti.displayName="Navigation";var qu=se.createContext(null);qu.displayName="Location";var Ua=se.createContext({outlet:null,matches:[],isDataRoute:!1});Ua.displayName="Route";var Mm=se.createContext(null);Mm.displayName="RouteError";function IE(a,{relative:t}={}){fn(jl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=se.useContext(ti),{hash:l,pathname:c,search:p}=Fu(a,{relative:t}),b=c;return r!=="/"&&(b=c==="/"?r:$i([r,c])),s.createHref({pathname:b,search:p,hash:l})}function jl(){return se.useContext(qu)!=null}function ns(){return fn(jl(),"useLocation() may be used only in the context of a <Router> component."),se.useContext(qu).location}var p_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function g_(a){se.useContext(ti).static||se.useLayoutEffect(a)}function Ol(){let{isDataRoute:a}=se.useContext(Ua);return a?QE():jE()}function jE(){fn(jl(),"useNavigate() may be used only in the context of a <Router> component.");let a=se.useContext(Il),{basename:t,navigator:r}=se.useContext(ti),{matches:s}=se.useContext(Ua),{pathname:l}=ns(),c=JSON.stringify(jm(s)),p=se.useRef(!1);return g_(()=>{p.current=!0}),se.useCallback((_,v={})=>{if(La(p.current,p_),!p.current)return;if(typeof _=="number"){r.go(_);return}let A=Om(_,JSON.parse(c),l,v.relative==="path");a==null&&t!=="/"&&(A.pathname=A.pathname==="/"?t:$i([t,A.pathname])),(v.replace?r.replace:r.push)(A,v.state,v)},[t,r,c,l,a])}var OE=se.createContext(null);function ME(a){let t=se.useContext(Ua).outlet;return se.useMemo(()=>t&&se.createElement(OE.Provider,{value:a},t),[t,a])}function VE(){let{matches:a}=se.useContext(Ua),t=a[a.length-1];return t?t.params:{}}function Fu(a,{relative:t}={}){let{matches:r}=se.useContext(Ua),{pathname:s}=ns(),l=JSON.stringify(jm(r));return se.useMemo(()=>Om(a,JSON.parse(l),s,t==="path"),[a,l,s,t])}function kE(a,t){return y_(a,t)}function y_(a,t,r,s,l){fn(jl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=se.useContext(ti),{matches:p}=se.useContext(Ua),b=p[p.length-1],_=b?b.params:{},v=b?b.pathname:"/",A=b?b.pathnameBase:"/",N=b&&b.route;{let re=N&&N.path||"";v_(v,!N||re.endsWith("*")||re.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${re}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${re}"> to <Route path="${re==="/"?"*":`${re}/*`}">.`)}let O=ns(),Q;if(t){let re=typeof t=="string"?Dl(t):t;fn(A==="/"||re.pathname?.startsWith(A),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${A}" but pathname "${re.pathname}" was given in the \`location\` prop.`),Q=re}else Q=O;let me=Q.pathname||"/",ue=me;if(A!=="/"){let re=A.replace(/^\//,"").split("/");ue="/"+me.replace(/^\//,"").split("/").slice(re.length).join("/")}let te=c_(a,{pathname:ue});La(N||te!=null,`No routes matched location "${Q.pathname}${Q.search}${Q.hash}" `),La(te==null||te[te.length-1].route.element!==void 0||te[te.length-1].route.Component!==void 0||te[te.length-1].route.lazy!==void 0,`Matched leaf route at location "${Q.pathname}${Q.search}${Q.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=BE(te&&te.map(re=>Object.assign({},re,{params:Object.assign({},_,re.params),pathname:$i([A,c.encodeLocation?c.encodeLocation(re.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathname]),pathnameBase:re.pathnameBase==="/"?A:$i([A,c.encodeLocation?c.encodeLocation(re.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathnameBase])})),p,r,s,l);return t&&Y?se.createElement(qu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...Q},navigationType:"POP"}},Y):Y}function PE(){let a=GE(),t=RE(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),r=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},p=null;return console.error("Error handled by React Router default ErrorBoundary:",a),p=se.createElement(se.Fragment,null,se.createElement("p",null," Hey developer "),se.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",se.createElement("code",{style:c},"ErrorBoundary")," or"," ",se.createElement("code",{style:c},"errorElement")," prop on your route.")),se.createElement(se.Fragment,null,se.createElement("h2",null,"Unexpected Application Error!"),se.createElement("h3",{style:{fontStyle:"italic"}},t),r?se.createElement("pre",{style:l},r):null,p)}var LE=se.createElement(PE,null),UE=class extends se.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,t){return t.location!==a.location||t.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:t.error,location:t.location,revalidation:a.revalidation||t.revalidation}}componentDidCatch(a,t){this.props.onError?this.props.onError(a,t):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?se.createElement(Ua.Provider,{value:this.props.routeContext},se.createElement(Mm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zE({routeContext:a,match:t,children:r}){let s=se.useContext(Il);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),se.createElement(Ua.Provider,{value:a},r)}function BE(a,t=[],r=null,s=null,l=null){if(a==null){if(!r)return null;if(r.errors)a=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)a=r.matches;else return null}let c=a,p=r?.errors;if(p!=null){let A=c.findIndex(N=>N.route.id&&p?.[N.route.id]!==void 0);fn(A>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),c=c.slice(0,Math.min(c.length,A+1))}let b=!1,_=-1;if(r)for(let A=0;A<c.length;A++){let N=c[A];if((N.route.HydrateFallback||N.route.hydrateFallbackElement)&&(_=A),N.route.id){let{loaderData:O,errors:Q}=r,me=N.route.loader&&!O.hasOwnProperty(N.route.id)&&(!Q||Q[N.route.id]===void 0);if(N.route.lazy||me){b=!0,_>=0?c=c.slice(0,_+1):c=[c[0]];break}}}let v=r&&s?(A,N)=>{s(A,{location:r.location,params:r.matches?.[0]?.params??{},errorInfo:N})}:void 0;return c.reduceRight((A,N,O)=>{let Q,me=!1,ue=null,te=null;r&&(Q=p&&N.route.id?p[N.route.id]:void 0,ue=N.route.errorElement||LE,b&&(_<0&&O===0?(v_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),me=!0,te=null):_===O&&(me=!0,te=N.route.hydrateFallbackElement||null)));let Y=t.concat(c.slice(0,O+1)),re=()=>{let pe;return Q?pe=ue:me?pe=te:N.route.Component?pe=se.createElement(N.route.Component,null):N.route.element?pe=N.route.element:pe=A,se.createElement(zE,{match:N,routeContext:{outlet:A,matches:Y,isDataRoute:r!=null},children:pe})};return r&&(N.route.ErrorBoundary||N.route.errorElement||O===0)?se.createElement(UE,{location:r.location,revalidation:r.revalidation,component:ue,error:Q,children:re(),routeContext:{outlet:null,matches:Y,isDataRoute:!0},onError:v}):re()},null)}function Vm(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qE(a){let t=se.useContext(Il);return fn(t,Vm(a)),t}function FE(a){let t=se.useContext(Vf);return fn(t,Vm(a)),t}function HE(a){let t=se.useContext(Ua);return fn(t,Vm(a)),t}function km(a){let t=HE(a),r=t.matches[t.matches.length-1];return fn(r.route.id,`${a} can only be used on routes that contain a unique "id"`),r.route.id}function KE(){return km("useRouteId")}function GE(){let a=se.useContext(Mm),t=FE("useRouteError"),r=km("useRouteError");return a!==void 0?a:t.errors?.[r]}function QE(){let{router:a}=qE("useNavigate"),t=km("useNavigate"),r=se.useRef(!1);return g_(()=>{r.current=!0}),se.useCallback(async(l,c={})=>{La(r.current,p_),r.current&&(typeof l=="number"?a.navigate(l):await a.navigate(l,{fromRouteId:t,...c}))},[a,t])}var Bv={};function v_(a,t,r){!t&&!Bv[a]&&(Bv[a]=!0,La(!1,r))}se.memo(YE);function YE({routes:a,future:t,state:r,unstable_onError:s}){return y_(a,void 0,r,s,t)}function XE({to:a,replace:t,state:r,relative:s}){fn(jl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=se.useContext(ti);La(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=se.useContext(Ua),{pathname:p}=ns(),b=Ol(),_=Om(a,jm(c),p,s==="path"),v=JSON.stringify(_);return se.useEffect(()=>{b(JSON.parse(v),{replace:t,state:r,relative:s})},[b,v,s,t,r]),null}function __(a){return ME(a.context)}function ka(a){fn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $E({basename:a="/",children:t=null,location:r,navigationType:s="POP",navigator:l,static:c=!1}){fn(!jl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=a.replace(/^\/*/,"/"),b=se.useMemo(()=>({basename:p,navigator:l,static:c,future:{}}),[p,l,c]);typeof r=="string"&&(r=Dl(r));let{pathname:_="/",search:v="",hash:A="",state:N=null,key:O="default"}=r,Q=se.useMemo(()=>{let me=Ji(_,p);return me==null?null:{location:{pathname:me,search:v,hash:A,state:N,key:O},navigationType:s}},[p,_,v,A,N,O,s]);return La(Q!=null,`<Router basename="${p}"> is not able to match the URL "${_}${v}${A}" because it does not start with the basename, so the <Router> won't render anything.`),Q==null?null:se.createElement(ti.Provider,{value:b},se.createElement(qu.Provider,{children:t,value:Q}))}function ZE({children:a,location:t}){return kE(om(a),t)}function om(a,t=[]){let r=[];return se.Children.forEach(a,(s,l)=>{if(!se.isValidElement(s))return;let c=[...t,l];if(s.type===se.Fragment){r.push.apply(r,om(s.props.children,c));return}fn(s.type===ka,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fn(!s.props.index||!s.props.children,"An index route cannot have child routes.");let p={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(p.children=om(s.props.children,c)),r.push(p)}),r}var af="get",sf="application/x-www-form-urlencoded";function kf(a){return a!=null&&typeof a.tagName=="string"}function JE(a){return kf(a)&&a.tagName.toLowerCase()==="button"}function WE(a){return kf(a)&&a.tagName.toLowerCase()==="form"}function ew(a){return kf(a)&&a.tagName.toLowerCase()==="input"}function tw(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function nw(a,t){return a.button===0&&(!t||t==="_self")&&!tw(a)}var Jc=null;function rw(){if(Jc===null)try{new FormData(document.createElement("form"),0),Jc=!1}catch{Jc=!0}return Jc}var aw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $d(a){return a!=null&&!aw.has(a)?(La(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sf}"`),null):a}function iw(a,t){let r,s,l,c,p;if(WE(a)){let b=a.getAttribute("action");s=b?Ji(b,t):null,r=a.getAttribute("method")||af,l=$d(a.getAttribute("enctype"))||sf,c=new FormData(a)}else if(JE(a)||ew(a)&&(a.type==="submit"||a.type==="image")){let b=a.form;if(b==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let _=a.getAttribute("formaction")||b.getAttribute("action");if(s=_?Ji(_,t):null,r=a.getAttribute("formmethod")||b.getAttribute("method")||af,l=$d(a.getAttribute("formenctype"))||$d(b.getAttribute("enctype"))||sf,c=new FormData(b,a),!rw()){let{name:v,type:A,value:N}=a;if(A==="image"){let O=v?`${v}.`:"";c.append(`${O}x`,"0"),c.append(`${O}y`,"0")}else v&&c.append(v,N)}}else{if(kf(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=af,s=null,l=sf,p=a}return c&&l==="text/plain"&&(p=c,c=void 0),{action:s,method:r.toLowerCase(),encType:l,formData:c,body:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pm(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function sw(a,t,r){let s=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return s.pathname==="/"?s.pathname=`_root.${r}`:t&&Ji(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function ow(a,t){if(a.id in t)return t[a.id];try{let r=await import(a.module);return t[a.id]=r,r}catch(r){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lw(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function uw(a,t,r){let s=await Promise.all(a.map(async l=>{let c=t.routes[l.route.id];if(c){let p=await ow(c,r);return p.links?p.links():[]}return[]}));return dw(s.flat(1).filter(lw).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function qv(a,t,r,s,l,c){let p=(_,v)=>r[v]?_.route.id!==r[v].route.id:!0,b=(_,v)=>r[v].pathname!==_.pathname||r[v].route.path?.endsWith("*")&&r[v].params["*"]!==_.params["*"];return c==="assets"?t.filter((_,v)=>p(_,v)||b(_,v)):c==="data"?t.filter((_,v)=>{let A=s.routes[_.route.id];if(!A||!A.hasLoader)return!1;if(p(_,v)||b(_,v))return!0;if(_.route.shouldRevalidate){let N=_.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:_.params,defaultShouldRevalidate:!0});if(typeof N=="boolean")return N}return!0}):[]}function cw(a,t,{includeHydrateFallback:r}={}){return fw(a.map(s=>{let l=t.routes[s.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function fw(a){return[...new Set(a)]}function hw(a){let t={},r=Object.keys(a).sort();for(let s of r)t[s]=a[s];return t}function dw(a,t){let r=new Set;return new Set(t),a.reduce((s,l)=>{let c=JSON.stringify(hw(l));return r.has(c)||(r.add(c),s.push({key:c,link:l})),s},[])}function b_(){let a=se.useContext(Il);return Pm(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function mw(){let a=se.useContext(Vf);return Pm(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Lm=se.createContext(void 0);Lm.displayName="FrameworkContext";function x_(){let a=se.useContext(Lm);return Pm(a,"You must render this element inside a <HydratedRouter> element"),a}function pw(a,t){let r=se.useContext(Lm),[s,l]=se.useState(!1),[c,p]=se.useState(!1),{onFocus:b,onBlur:_,onMouseEnter:v,onMouseLeave:A,onTouchStart:N}=t,O=se.useRef(null);se.useEffect(()=>{if(a==="render"&&p(!0),a==="viewport"){let ue=Y=>{Y.forEach(re=>{p(re.isIntersecting)})},te=new IntersectionObserver(ue,{threshold:.5});return O.current&&te.observe(O.current),()=>{te.disconnect()}}},[a]),se.useEffect(()=>{if(s){let ue=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(ue)}}},[s]);let Q=()=>{l(!0)},me=()=>{l(!1),p(!1)};return r?a!=="intent"?[c,O,{}]:[c,O,{onFocus:Tu(b,Q),onBlur:Tu(_,me),onMouseEnter:Tu(v,Q),onMouseLeave:Tu(A,me),onTouchStart:Tu(N,Q)}]:[!1,O,{}]}function Tu(a,t){return r=>{a&&a(r),r.defaultPrevented||t(r)}}function gw({page:a,...t}){let{router:r}=b_(),s=se.useMemo(()=>c_(r.routes,a,r.basename),[r.routes,a,r.basename]);return s?se.createElement(vw,{page:a,matches:s,...t}):null}function yw(a){let{manifest:t,routeModules:r}=x_(),[s,l]=se.useState([]);return se.useEffect(()=>{let c=!1;return uw(a,t,r).then(p=>{c||l(p)}),()=>{c=!0}},[a,t,r]),s}function vw({page:a,matches:t,...r}){let s=ns(),{manifest:l,routeModules:c}=x_(),{basename:p}=b_(),{loaderData:b,matches:_}=mw(),v=se.useMemo(()=>qv(a,t,_,l,s,"data"),[a,t,_,l,s]),A=se.useMemo(()=>qv(a,t,_,l,s,"assets"),[a,t,_,l,s]),N=se.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let me=new Set,ue=!1;if(t.forEach(Y=>{let re=l.routes[Y.route.id];!re||!re.hasLoader||(!v.some(pe=>pe.route.id===Y.route.id)&&Y.route.id in b&&c[Y.route.id]?.shouldRevalidate||re.hasClientLoader?ue=!0:me.add(Y.route.id))}),me.size===0)return[];let te=sw(a,p,"data");return ue&&me.size>0&&te.searchParams.set("_routes",t.filter(Y=>me.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[te.pathname+te.search]},[p,b,s,l,v,t,a,c]),O=se.useMemo(()=>cw(A,l),[A,l]),Q=yw(A);return se.createElement(se.Fragment,null,N.map(me=>se.createElement("link",{key:me,rel:"prefetch",as:"fetch",href:me,...r})),O.map(me=>se.createElement("link",{key:me,rel:"modulepreload",href:me,...r})),Q.map(({key:me,link:ue})=>se.createElement("link",{key:me,nonce:r.nonce,...ue})))}function _w(...a){return t=>{a.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var E_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{E_&&(window.__reactRouterVersion="7.9.6")}catch{}function bw({basename:a,children:t,window:r}){let s=se.useRef();s.current==null&&(s.current=rE({window:r,v5Compat:!0}));let l=s.current,[c,p]=se.useState({action:l.action,location:l.location}),b=se.useCallback(_=>{se.startTransition(()=>p(_))},[p]);return se.useLayoutEffect(()=>l.listen(b),[l,b]),se.createElement($E,{basename:a,children:t,location:c.location,navigationType:c.action,navigator:l})}var w_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pf=se.forwardRef(function({onClick:t,discover:r="render",prefetch:s="none",relative:l,reloadDocument:c,replace:p,state:b,target:_,to:v,preventScrollReset:A,viewTransition:N,...O},Q){let{basename:me}=se.useContext(ti),ue=typeof v=="string"&&w_.test(v),te,Y=!1;if(typeof v=="string"&&ue&&(te=v,E_))try{let V=new URL(window.location.href),B=v.startsWith("//")?new URL(V.protocol+v):new URL(v),z=Ji(B.pathname,me);B.origin===V.origin&&z!=null?v=z+B.search+B.hash:Y=!0}catch{La(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=IE(v,{relative:l}),[pe,Ne,qe]=pw(s,O),Ye=Tw(v,{replace:p,state:b,target:_,preventScrollReset:A,relative:l,viewTransition:N});function M(V){t&&t(V),V.defaultPrevented||Ye(V)}let j=se.createElement("a",{...O,...qe,href:te||re,onClick:Y||c?t:M,ref:_w(Q,Ne),target:_,"data-discover":!ue&&r==="render"?"true":void 0});return pe&&!ue?se.createElement(se.Fragment,null,j,se.createElement(gw,{page:re})):j});Pf.displayName="Link";var xw=se.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:s="",end:l=!1,style:c,to:p,viewTransition:b,children:_,...v},A){let N=Fu(p,{relative:v.relative}),O=ns(),Q=se.useContext(Vf),{navigator:me,basename:ue}=se.useContext(ti),te=Q!=null&&Cw(N)&&b===!0,Y=me.encodeLocation?me.encodeLocation(N).pathname:N.pathname,re=O.pathname,pe=Q&&Q.navigation&&Q.navigation.location?Q.navigation.location.pathname:null;r||(re=re.toLowerCase(),pe=pe?pe.toLowerCase():null,Y=Y.toLowerCase()),pe&&ue&&(pe=Ji(pe,ue)||pe);const Ne=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let qe=re===Y||!l&&re.startsWith(Y)&&re.charAt(Ne)==="/",Ye=pe!=null&&(pe===Y||!l&&pe.startsWith(Y)&&pe.charAt(Y.length)==="/"),M={isActive:qe,isPending:Ye,isTransitioning:te},j=qe?t:void 0,V;typeof s=="function"?V=s(M):V=[s,qe?"active":null,Ye?"pending":null,te?"transitioning":null].filter(Boolean).join(" ");let B=typeof c=="function"?c(M):c;return se.createElement(Pf,{...v,"aria-current":j,className:V,ref:A,style:B,to:p,viewTransition:b},typeof _=="function"?_(M):_)});xw.displayName="NavLink";var Ew=se.forwardRef(({discover:a="render",fetcherKey:t,navigate:r,reloadDocument:s,replace:l,state:c,method:p=af,action:b,onSubmit:_,relative:v,preventScrollReset:A,viewTransition:N,...O},Q)=>{let me=Rw(),ue=Nw(b,{relative:v}),te=p.toLowerCase()==="get"?"get":"post",Y=typeof b=="string"&&w_.test(b),re=pe=>{if(_&&_(pe),pe.defaultPrevented)return;pe.preventDefault();let Ne=pe.nativeEvent.submitter,qe=Ne?.getAttribute("formmethod")||p;me(Ne||pe.currentTarget,{fetcherKey:t,method:qe,navigate:r,replace:l,state:c,relative:v,preventScrollReset:A,viewTransition:N})};return se.createElement("form",{ref:Q,method:te,action:ue,onSubmit:s?_:re,...O,"data-discover":!Y&&a==="render"?"true":void 0})});Ew.displayName="Form";function ww(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T_(a){let t=se.useContext(Il);return fn(t,ww(a)),t}function Tw(a,{target:t,replace:r,state:s,preventScrollReset:l,relative:c,viewTransition:p}={}){let b=Ol(),_=ns(),v=Fu(a,{relative:c});return se.useCallback(A=>{if(nw(A,t)){A.preventDefault();let N=r!==void 0?r:Mu(_)===Mu(v);b(a,{replace:N,state:s,preventScrollReset:l,relative:c,viewTransition:p})}},[_,b,v,r,s,t,a,l,c,p])}var Sw=0,Aw=()=>`__${String(++Sw)}__`;function Rw(){let{router:a}=T_("useSubmit"),{basename:t}=se.useContext(ti),r=KE();return se.useCallback(async(s,l={})=>{let{action:c,method:p,encType:b,formData:_,body:v}=iw(s,t);if(l.navigate===!1){let A=l.fetcherKey||Aw();await a.fetch(A,r,l.action||c,{preventScrollReset:l.preventScrollReset,formData:_,body:v,formMethod:l.method||p,formEncType:l.encType||b,flushSync:l.flushSync})}else await a.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:_,body:v,formMethod:l.method||p,formEncType:l.encType||b,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[a,t,r])}function Nw(a,{relative:t}={}){let{basename:r}=se.useContext(ti),s=se.useContext(Ua);fn(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),c={...Fu(a||".",{relative:t})},p=ns();if(a==null){c.search=p.search;let b=new URLSearchParams(c.search),_=b.getAll("index");if(_.some(A=>A==="")){b.delete("index"),_.filter(N=>N).forEach(N=>b.append("index",N));let A=b.toString();c.search=A?`?${A}`:""}}return(!a||a===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(c.pathname=c.pathname==="/"?r:$i([r,c.pathname])),Mu(c)}function Cw(a,{relative:t}={}){let r=se.useContext(m_);fn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=T_("useViewTransitionState"),l=Fu(a,{relative:t});if(!r.isTransitioning)return!1;let c=Ji(r.currentLocation.pathname,s)||r.currentLocation.pathname,p=Ji(r.nextLocation.pathname,s)||r.nextLocation.pathname;return pf(l.pathname,p)!=null||pf(l.pathname,c)!=null}const Dw=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Iw=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,s)=>s?s.toUpperCase():r.toLowerCase()),Fv=a=>{const t=Iw(a);return t.charAt(0).toUpperCase()+t.slice(1)},S_=(...a)=>a.filter((t,r,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===r).join(" ").trim(),jw=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var Ow={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Mw=se.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:p,...b},_)=>se.createElement("svg",{ref:_,...Ow,width:t,height:t,stroke:a,strokeWidth:s?Number(r)*24/Number(t):r,className:S_("lucide",l),...!c&&!jw(b)&&{"aria-hidden":"true"},...b},[...p.map(([v,A])=>se.createElement(v,A)),...Array.isArray(c)?c:[c]]));const Jt=(a,t)=>{const r=se.forwardRef(({className:s,...l},c)=>se.createElement(Mw,{ref:c,iconNode:t,className:S_(`lucide-${Dw(Fv(a))}`,`lucide-${a}`,s),...l}));return r.displayName=Fv(a),r};const Vw=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],kw=Jt("arrow-left",Vw);const Pw=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Lw=Jt("arrow-right",Pw);const Uw=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],zw=Jt("calendar",Uw);const Bw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],qw=Jt("circle-plus",Bw);const Fw=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],of=Jt("database",Fw);const Hw=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],A_=Jt("dollar-sign",Hw);const Kw=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Um=Jt("download",Kw);const Gw=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Qw=Jt("eye",Gw);const Yw=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Xw=Jt("file-text",Yw);const $w=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Zw=Jt("layout-dashboard",$w);const Jw=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],R_=Jt("lock",Jw);const Ww=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],eT=Jt("mail",Ww);const tT=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],nT=Jt("map-pin",tT);const rT=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],aT=Jt("maximize",rT);const iT=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],gf=Jt("package",iT);const sT=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],oT=Jt("phone",sT);const lT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Lf=Jt("plus",lT);const uT=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],cT=Jt("printer",uT);const fT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],N_=Jt("save",fT);const hT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],zm=Jt("search",hT);const dT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mT=Jt("settings",dT);const pT=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],C_=Jt("square-pen",pT);const gT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],xl=Jt("trash-2",gT);const yT=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Bm=Jt("trending-up",yT);const vT=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],qm=Jt("upload",vT);const _T=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],D_=Jt("user",_T);const bT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],yf=Jt("users",bT);const xT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ET=Jt("x",xT);function I_(a){var t,r,s="";if(typeof a=="string"||typeof a=="number")s+=a;else if(typeof a=="object")if(Array.isArray(a)){var l=a.length;for(t=0;t<l;t++)a[t]&&(r=I_(a[t]))&&(s&&(s+=" "),s+=r)}else for(r in a)a[r]&&(s&&(s+=" "),s+=r);return s}function wT(){for(var a,t,r=0,s="",l=arguments.length;r<l;r++)(a=arguments[r])&&(t=I_(a))&&(s&&(s+=" "),s+=t);return s}const TT=()=>{};var Hv={};const j_=function(a){const t=[];let r=0;for(let s=0;s<a.length;s++){let l=a.charCodeAt(s);l<128?t[r++]=l:l<2048?(t[r++]=l>>6|192,t[r++]=l&63|128):(l&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++s)&1023),t[r++]=l>>18|240,t[r++]=l>>12&63|128,t[r++]=l>>6&63|128,t[r++]=l&63|128):(t[r++]=l>>12|224,t[r++]=l>>6&63|128,t[r++]=l&63|128)}return t},ST=function(a){const t=[];let r=0,s=0;for(;r<a.length;){const l=a[r++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[r++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[r++],p=a[r++],b=a[r++],_=((l&7)<<18|(c&63)<<12|(p&63)<<6|b&63)-65536;t[s++]=String.fromCharCode(55296+(_>>10)),t[s++]=String.fromCharCode(56320+(_&1023))}else{const c=a[r++],p=a[r++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|p&63)}}return t.join("")},O_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<a.length;l+=3){const c=a[l],p=l+1<a.length,b=p?a[l+1]:0,_=l+2<a.length,v=_?a[l+2]:0,A=c>>2,N=(c&3)<<4|b>>4;let O=(b&15)<<2|v>>6,Q=v&63;_||(Q=64,p||(O=64)),s.push(r[A],r[N],r[O],r[Q])}return s.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(j_(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):ST(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<a.length;){const c=r[a.charAt(l++)],b=l<a.length?r[a.charAt(l)]:0;++l;const v=l<a.length?r[a.charAt(l)]:64;++l;const N=l<a.length?r[a.charAt(l)]:64;if(++l,c==null||b==null||v==null||N==null)throw new AT;const O=c<<2|b>>4;if(s.push(O),v!==64){const Q=b<<4&240|v>>2;if(s.push(Q),N!==64){const me=v<<6&192|N;s.push(me)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class AT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RT=function(a){const t=j_(a);return O_.encodeByteArray(t,!0)},vf=function(a){return RT(a).replace(/\./g,"")},NT=function(a){try{return O_.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function CT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const DT=()=>CT().__FIREBASE_DEFAULTS__,IT=()=>{if(typeof process>"u"||typeof Hv>"u")return;const a=Hv.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},jT=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&NT(a[1]);return t&&JSON.parse(t)},Fm=()=>{try{return TT()||DT()||IT()||jT()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},OT=a=>Fm()?.emulatorHosts?.[a],MT=a=>{const t=OT(a);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),s]:[t.substring(0,r),s]},M_=()=>Fm()?.config;class VT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,s))}}}function Hm(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kT(a){return(await fetch(a,{credentials:"include"})).ok}function PT(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=t||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[vf(JSON.stringify(r)),vf(JSON.stringify(p)),""].join(".")}const Nu={};function LT(){const a={prod:[],emulator:[]};for(const t of Object.keys(Nu))Nu[t]?a.emulator.push(t):a.prod.push(t);return a}function UT(a){let t=document.getElementById(a),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),r=!0),{created:r,element:t}}let Kv=!1;function zT(a,t){if(typeof window>"u"||typeof document>"u"||!Hm(window.location.host)||Nu[a]===t||Nu[a]||Kv)return;Nu[a]=t;function r(O){return`__firebase__banner__${O}`}const s="__firebase__banner",c=LT().prod.length>0;function p(){const O=document.getElementById(s);O&&O.remove()}function b(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function _(O,Q){O.setAttribute("width","24"),O.setAttribute("id",Q),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function v(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{Kv=!0,p()},O}function A(O,Q){O.setAttribute("id",Q),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function N(){const O=UT(s),Q=r("text"),me=document.getElementById(Q)||document.createElement("span"),ue=r("learnmore"),te=document.getElementById(ue)||document.createElement("a"),Y=r("preprendIcon"),re=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const pe=O.element;b(pe),A(te,ue);const Ne=v();_(re,Y),pe.append(re,me,te,Ne),document.body.appendChild(pe)}c?(me.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,me.innerText="Preview backend running in this workspace."),me.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",N):N()}function BT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qT(){const a=Fm()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FT(){return!qT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HT(){try{return typeof indexedDB=="object"}catch{return!1}}function KT(){return new Promise((a,t)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(s),a(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(r){t(r)}})}const GT="FirebaseError";class Ml extends Error{constructor(t,r,s){super(r),this.code=t,this.customData=s,this.name=GT,Object.setPrototypeOf(this,Ml.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,V_.prototype.create)}}class V_{constructor(t,r,s){this.service=t,this.serviceName=r,this.errors=s}create(t,...r){const s=r[0]||{},l=`${this.service}/${t}`,c=this.errors[t],p=c?QT(c,s):"Error",b=`${this.serviceName}: ${p} (${l}).`;return new Ml(l,b,s)}}function QT(a,t){return a.replace(YT,(r,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const YT=/\{\$([^}]+)}/g;function _f(a,t){if(a===t)return!0;const r=Object.keys(a),s=Object.keys(t);for(const l of r){if(!s.includes(l))return!1;const c=a[l],p=t[l];if(Gv(c)&&Gv(p)){if(!_f(c,p))return!1}else if(c!==p)return!1}for(const l of s)if(!r.includes(l))return!1;return!0}function Gv(a){return a!==null&&typeof a=="object"}function No(a){return a&&a._delegate?a._delegate:a}class Vu{constructor(t,r,s){this.name=t,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const wo="[DEFAULT]";class XT{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const s=new VT;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ZT(t))try{this.getOrInitializeService({instanceIdentifier:wo})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=wo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=wo){return this.instances.has(t)}getOptions(t=wo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[c,p]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(c);s===b&&p.resolve(l)}return l}onInit(t,r){const s=this.normalizeInstanceIdentifier(r),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,r){const s=this.onInitCallbacks.get(r);if(s)for(const l of s)try{l(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:$T(t),options:r}),this.instances.set(t,s),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=wo){return this.component?this.component.multipleInstances?t:wo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $T(a){return a===wo?void 0:a}function ZT(a){return a.instantiationMode==="EAGER"}class JT{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new XT(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ot||(Ot={}));const WT={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},e2=Ot.INFO,t2={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},n2=(a,t,...r)=>{if(t<a.logLevel)return;const s=new Date().toISOString(),l=t2[t];if(l)console[l](`[${s}]  ${a.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class k_{constructor(t){this.name=t,this._logLevel=e2,this._logHandler=n2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?WT[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const r2=(a,t)=>t.some(r=>a instanceof r);let Qv,Yv;function a2(){return Qv||(Qv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function i2(){return Yv||(Yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P_=new WeakMap,lm=new WeakMap,L_=new WeakMap,Zd=new WeakMap,Km=new WeakMap;function s2(a){const t=new Promise((r,s)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",p)},c=()=>{r(Fs(a.result)),l()},p=()=>{s(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",p)});return t.then(r=>{r instanceof IDBCursor&&P_.set(r,a)}).catch(()=>{}),Km.set(t,a),t}function o2(a){if(lm.has(a))return;const t=new Promise((r,s)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",p),a.removeEventListener("abort",p)},c=()=>{r(),l()},p=()=>{s(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",p),a.addEventListener("abort",p)});lm.set(a,t)}let um={get(a,t,r){if(a instanceof IDBTransaction){if(t==="done")return lm.get(a);if(t==="objectStoreNames")return a.objectStoreNames||L_.get(a);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Fs(a[t])},set(a,t,r){return a[t]=r,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function l2(a){um=a(um)}function u2(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const s=a.call(Jd(this),t,...r);return L_.set(s,t.sort?t.sort():[t]),Fs(s)}:i2().includes(a)?function(...t){return a.apply(Jd(this),t),Fs(P_.get(this))}:function(...t){return Fs(a.apply(Jd(this),t))}}function c2(a){return typeof a=="function"?u2(a):(a instanceof IDBTransaction&&o2(a),r2(a,a2())?new Proxy(a,um):a)}function Fs(a){if(a instanceof IDBRequest)return s2(a);if(Zd.has(a))return Zd.get(a);const t=c2(a);return t!==a&&(Zd.set(a,t),Km.set(t,a)),t}const Jd=a=>Km.get(a);function f2(a,t,{blocked:r,upgrade:s,blocking:l,terminated:c}={}){const p=indexedDB.open(a,t),b=Fs(p);return s&&p.addEventListener("upgradeneeded",_=>{s(Fs(p.result),_.oldVersion,_.newVersion,Fs(p.transaction),_)}),r&&p.addEventListener("blocked",_=>r(_.oldVersion,_.newVersion,_)),b.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),b}const h2=["get","getKey","getAll","getAllKeys","count"],d2=["put","add","delete","clear"],Wd=new Map;function Xv(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Wd.get(t))return Wd.get(t);const r=t.replace(/FromIndex$/,""),s=t!==r,l=d2.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(l||h2.includes(r)))return;const c=async function(p,...b){const _=this.transaction(p,l?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(b.shift())),(await Promise.all([v[r](...b),l&&_.done]))[0]};return Wd.set(t,c),c}l2(a=>({...a,get:(t,r,s)=>Xv(t,r)||a.get(t,r,s),has:(t,r)=>!!Xv(t,r)||a.has(t,r)}));class m2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(p2(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function p2(a){return a.getComponent()?.type==="VERSION"}const cm="@firebase/app",$v="0.14.6";const Wi=new k_("@firebase/app"),g2="@firebase/app-compat",y2="@firebase/analytics-compat",v2="@firebase/analytics",_2="@firebase/app-check-compat",b2="@firebase/app-check",x2="@firebase/auth",E2="@firebase/auth-compat",w2="@firebase/database",T2="@firebase/data-connect",S2="@firebase/database-compat",A2="@firebase/functions",R2="@firebase/functions-compat",N2="@firebase/installations",C2="@firebase/installations-compat",D2="@firebase/messaging",I2="@firebase/messaging-compat",j2="@firebase/performance",O2="@firebase/performance-compat",M2="@firebase/remote-config",V2="@firebase/remote-config-compat",k2="@firebase/storage",P2="@firebase/storage-compat",L2="@firebase/firestore",U2="@firebase/ai",z2="@firebase/firestore-compat",B2="firebase",q2="12.6.0";const fm="[DEFAULT]",F2={[cm]:"fire-core",[g2]:"fire-core-compat",[v2]:"fire-analytics",[y2]:"fire-analytics-compat",[b2]:"fire-app-check",[_2]:"fire-app-check-compat",[x2]:"fire-auth",[E2]:"fire-auth-compat",[w2]:"fire-rtdb",[T2]:"fire-data-connect",[S2]:"fire-rtdb-compat",[A2]:"fire-fn",[R2]:"fire-fn-compat",[N2]:"fire-iid",[C2]:"fire-iid-compat",[D2]:"fire-fcm",[I2]:"fire-fcm-compat",[j2]:"fire-perf",[O2]:"fire-perf-compat",[M2]:"fire-rc",[V2]:"fire-rc-compat",[k2]:"fire-gcs",[P2]:"fire-gcs-compat",[L2]:"fire-fst",[z2]:"fire-fst-compat",[U2]:"fire-vertex","fire-js":"fire-js",[B2]:"fire-js-all"};const bf=new Map,H2=new Map,hm=new Map;function Zv(a,t){try{a.container.addComponent(t)}catch(r){Wi.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,r)}}function xf(a){const t=a.name;if(hm.has(t))return Wi.debug(`There were multiple attempts to register component ${t}.`),!1;hm.set(t,a);for(const r of bf.values())Zv(r,a);for(const r of H2.values())Zv(r,a);return!0}function K2(a,t){const r=a.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),a.container.getProvider(t)}function G2(a){return a==null?!1:a.settings!==void 0}const Q2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new V_("app","Firebase",Q2);class Y2{constructor(t,r,s){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Vu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}const X2=q2;function U_(a,t={}){let r=a;typeof t!="object"&&(t={name:t});const s={name:fm,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Hs.create("bad-app-name",{appName:String(l)});if(r||(r=M_()),!r)throw Hs.create("no-options");const c=bf.get(l);if(c){if(_f(r,c.options)&&_f(s,c.config))return c;throw Hs.create("duplicate-app",{appName:l})}const p=new JT(l);for(const _ of hm.values())p.addComponent(_);const b=new Y2(r,s,p);return bf.set(l,b),b}function $2(a=fm){const t=bf.get(a);if(!t&&a===fm&&M_())return U_();if(!t)throw Hs.create("no-app",{appName:a});return t}function _l(a,t,r){let s=F2[a]??a;r&&(s+=`-${r}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const p=[`Unable to register library "${s}" with version "${t}":`];l&&p.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&p.push("and"),c&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wi.warn(p.join(" "));return}xf(new Vu(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const Z2="firebase-heartbeat-database",J2=1,ku="firebase-heartbeat-store";let em=null;function z_(){return em||(em=f2(Z2,J2,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(ku)}catch(r){console.warn(r)}}}}).catch(a=>{throw Hs.create("idb-open",{originalErrorMessage:a.message})})),em}async function W2(a){try{const r=(await z_()).transaction(ku),s=await r.objectStore(ku).get(B_(a));return await r.done,s}catch(t){if(t instanceof Ml)Wi.warn(t.message);else{const r=Hs.create("idb-get",{originalErrorMessage:t?.message});Wi.warn(r.message)}}}async function Jv(a,t){try{const s=(await z_()).transaction(ku,"readwrite");await s.objectStore(ku).put(t,B_(a)),await s.done}catch(r){if(r instanceof Ml)Wi.warn(r.message);else{const s=Hs.create("idb-set",{originalErrorMessage:r?.message});Wi.warn(s.message)}}}function B_(a){return`${a.name}!${a.options.appId}`}const eS=1024,tS=30;class nS{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new aS(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Wv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>tS){const l=iS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Wi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Wv(),{heartbeatsToSend:r,unsentEntries:s}=rS(this._heartbeatsCache.heartbeats),l=vf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Wi.warn(t),""}}}function Wv(){return new Date().toISOString().substring(0,10)}function rS(a,t=eS){const r=[];let s=a.slice();for(const l of a){const c=r.find(p=>p.agent===l.agent);if(c){if(c.dates.push(l.date),e0(r)>t){c.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),e0(r)>t){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class aS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HT()?KT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await W2(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Jv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Jv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function e0(a){return vf(JSON.stringify({version:2,heartbeats:a})).length}function iS(a){if(a.length===0)return-1;let t=0,r=a[0].date;for(let s=1;s<a.length;s++)a[s].date<r&&(r=a[s].date,t=s);return t}function sS(a){xf(new Vu("platform-logger",t=>new m2(t),"PRIVATE")),xf(new Vu("heartbeat",t=>new nS(t),"PRIVATE")),_l(cm,$v,a),_l(cm,$v,"esm2020"),_l("fire-js","")}sS("");var oS="firebase",lS="12.6.0";_l(oS,lS,"app");var t0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ks,q_;(function(){var a;function t(M,j){function V(){}V.prototype=j.prototype,M.F=j.prototype,M.prototype=new V,M.prototype.constructor=M,M.D=function(B,z,Z){for(var k=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)k[yt-2]=arguments[yt];return j.prototype[z].apply(B,k)}}function r(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,r),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(M,j,V){V||(V=0);const B=Array(16);if(typeof j=="string")for(var z=0;z<16;++z)B[z]=j.charCodeAt(V++)|j.charCodeAt(V++)<<8|j.charCodeAt(V++)<<16|j.charCodeAt(V++)<<24;else for(z=0;z<16;++z)B[z]=j[V++]|j[V++]<<8|j[V++]<<16|j[V++]<<24;j=M.g[0],V=M.g[1],z=M.g[2];let Z=M.g[3],k;k=j+(Z^V&(z^Z))+B[0]+3614090360&4294967295,j=V+(k<<7&4294967295|k>>>25),k=Z+(z^j&(V^z))+B[1]+3905402710&4294967295,Z=j+(k<<12&4294967295|k>>>20),k=z+(V^Z&(j^V))+B[2]+606105819&4294967295,z=Z+(k<<17&4294967295|k>>>15),k=V+(j^z&(Z^j))+B[3]+3250441966&4294967295,V=z+(k<<22&4294967295|k>>>10),k=j+(Z^V&(z^Z))+B[4]+4118548399&4294967295,j=V+(k<<7&4294967295|k>>>25),k=Z+(z^j&(V^z))+B[5]+1200080426&4294967295,Z=j+(k<<12&4294967295|k>>>20),k=z+(V^Z&(j^V))+B[6]+2821735955&4294967295,z=Z+(k<<17&4294967295|k>>>15),k=V+(j^z&(Z^j))+B[7]+4249261313&4294967295,V=z+(k<<22&4294967295|k>>>10),k=j+(Z^V&(z^Z))+B[8]+1770035416&4294967295,j=V+(k<<7&4294967295|k>>>25),k=Z+(z^j&(V^z))+B[9]+2336552879&4294967295,Z=j+(k<<12&4294967295|k>>>20),k=z+(V^Z&(j^V))+B[10]+4294925233&4294967295,z=Z+(k<<17&4294967295|k>>>15),k=V+(j^z&(Z^j))+B[11]+2304563134&4294967295,V=z+(k<<22&4294967295|k>>>10),k=j+(Z^V&(z^Z))+B[12]+1804603682&4294967295,j=V+(k<<7&4294967295|k>>>25),k=Z+(z^j&(V^z))+B[13]+4254626195&4294967295,Z=j+(k<<12&4294967295|k>>>20),k=z+(V^Z&(j^V))+B[14]+2792965006&4294967295,z=Z+(k<<17&4294967295|k>>>15),k=V+(j^z&(Z^j))+B[15]+1236535329&4294967295,V=z+(k<<22&4294967295|k>>>10),k=j+(z^Z&(V^z))+B[1]+4129170786&4294967295,j=V+(k<<5&4294967295|k>>>27),k=Z+(V^z&(j^V))+B[6]+3225465664&4294967295,Z=j+(k<<9&4294967295|k>>>23),k=z+(j^V&(Z^j))+B[11]+643717713&4294967295,z=Z+(k<<14&4294967295|k>>>18),k=V+(Z^j&(z^Z))+B[0]+3921069994&4294967295,V=z+(k<<20&4294967295|k>>>12),k=j+(z^Z&(V^z))+B[5]+3593408605&4294967295,j=V+(k<<5&4294967295|k>>>27),k=Z+(V^z&(j^V))+B[10]+38016083&4294967295,Z=j+(k<<9&4294967295|k>>>23),k=z+(j^V&(Z^j))+B[15]+3634488961&4294967295,z=Z+(k<<14&4294967295|k>>>18),k=V+(Z^j&(z^Z))+B[4]+3889429448&4294967295,V=z+(k<<20&4294967295|k>>>12),k=j+(z^Z&(V^z))+B[9]+568446438&4294967295,j=V+(k<<5&4294967295|k>>>27),k=Z+(V^z&(j^V))+B[14]+3275163606&4294967295,Z=j+(k<<9&4294967295|k>>>23),k=z+(j^V&(Z^j))+B[3]+4107603335&4294967295,z=Z+(k<<14&4294967295|k>>>18),k=V+(Z^j&(z^Z))+B[8]+1163531501&4294967295,V=z+(k<<20&4294967295|k>>>12),k=j+(z^Z&(V^z))+B[13]+2850285829&4294967295,j=V+(k<<5&4294967295|k>>>27),k=Z+(V^z&(j^V))+B[2]+4243563512&4294967295,Z=j+(k<<9&4294967295|k>>>23),k=z+(j^V&(Z^j))+B[7]+1735328473&4294967295,z=Z+(k<<14&4294967295|k>>>18),k=V+(Z^j&(z^Z))+B[12]+2368359562&4294967295,V=z+(k<<20&4294967295|k>>>12),k=j+(V^z^Z)+B[5]+4294588738&4294967295,j=V+(k<<4&4294967295|k>>>28),k=Z+(j^V^z)+B[8]+2272392833&4294967295,Z=j+(k<<11&4294967295|k>>>21),k=z+(Z^j^V)+B[11]+1839030562&4294967295,z=Z+(k<<16&4294967295|k>>>16),k=V+(z^Z^j)+B[14]+4259657740&4294967295,V=z+(k<<23&4294967295|k>>>9),k=j+(V^z^Z)+B[1]+2763975236&4294967295,j=V+(k<<4&4294967295|k>>>28),k=Z+(j^V^z)+B[4]+1272893353&4294967295,Z=j+(k<<11&4294967295|k>>>21),k=z+(Z^j^V)+B[7]+4139469664&4294967295,z=Z+(k<<16&4294967295|k>>>16),k=V+(z^Z^j)+B[10]+3200236656&4294967295,V=z+(k<<23&4294967295|k>>>9),k=j+(V^z^Z)+B[13]+681279174&4294967295,j=V+(k<<4&4294967295|k>>>28),k=Z+(j^V^z)+B[0]+3936430074&4294967295,Z=j+(k<<11&4294967295|k>>>21),k=z+(Z^j^V)+B[3]+3572445317&4294967295,z=Z+(k<<16&4294967295|k>>>16),k=V+(z^Z^j)+B[6]+76029189&4294967295,V=z+(k<<23&4294967295|k>>>9),k=j+(V^z^Z)+B[9]+3654602809&4294967295,j=V+(k<<4&4294967295|k>>>28),k=Z+(j^V^z)+B[12]+3873151461&4294967295,Z=j+(k<<11&4294967295|k>>>21),k=z+(Z^j^V)+B[15]+530742520&4294967295,z=Z+(k<<16&4294967295|k>>>16),k=V+(z^Z^j)+B[2]+3299628645&4294967295,V=z+(k<<23&4294967295|k>>>9),k=j+(z^(V|~Z))+B[0]+4096336452&4294967295,j=V+(k<<6&4294967295|k>>>26),k=Z+(V^(j|~z))+B[7]+1126891415&4294967295,Z=j+(k<<10&4294967295|k>>>22),k=z+(j^(Z|~V))+B[14]+2878612391&4294967295,z=Z+(k<<15&4294967295|k>>>17),k=V+(Z^(z|~j))+B[5]+4237533241&4294967295,V=z+(k<<21&4294967295|k>>>11),k=j+(z^(V|~Z))+B[12]+1700485571&4294967295,j=V+(k<<6&4294967295|k>>>26),k=Z+(V^(j|~z))+B[3]+2399980690&4294967295,Z=j+(k<<10&4294967295|k>>>22),k=z+(j^(Z|~V))+B[10]+4293915773&4294967295,z=Z+(k<<15&4294967295|k>>>17),k=V+(Z^(z|~j))+B[1]+2240044497&4294967295,V=z+(k<<21&4294967295|k>>>11),k=j+(z^(V|~Z))+B[8]+1873313359&4294967295,j=V+(k<<6&4294967295|k>>>26),k=Z+(V^(j|~z))+B[15]+4264355552&4294967295,Z=j+(k<<10&4294967295|k>>>22),k=z+(j^(Z|~V))+B[6]+2734768916&4294967295,z=Z+(k<<15&4294967295|k>>>17),k=V+(Z^(z|~j))+B[13]+1309151649&4294967295,V=z+(k<<21&4294967295|k>>>11),k=j+(z^(V|~Z))+B[4]+4149444226&4294967295,j=V+(k<<6&4294967295|k>>>26),k=Z+(V^(j|~z))+B[11]+3174756917&4294967295,Z=j+(k<<10&4294967295|k>>>22),k=z+(j^(Z|~V))+B[2]+718787259&4294967295,z=Z+(k<<15&4294967295|k>>>17),k=V+(Z^(z|~j))+B[9]+3951481745&4294967295,M.g[0]=M.g[0]+j&4294967295,M.g[1]=M.g[1]+(z+(k<<21&4294967295|k>>>11))&4294967295,M.g[2]=M.g[2]+z&4294967295,M.g[3]=M.g[3]+Z&4294967295}s.prototype.v=function(M,j){j===void 0&&(j=M.length);const V=j-this.blockSize,B=this.C;let z=this.h,Z=0;for(;Z<j;){if(z==0)for(;Z<=V;)l(this,M,Z),Z+=this.blockSize;if(typeof M=="string"){for(;Z<j;)if(B[z++]=M.charCodeAt(Z++),z==this.blockSize){l(this,B),z=0;break}}else for(;Z<j;)if(B[z++]=M[Z++],z==this.blockSize){l(this,B),z=0;break}}this.h=z,this.o+=j},s.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var j=1;j<M.length-8;++j)M[j]=0;j=this.o*8;for(var V=M.length-8;V<M.length;++V)M[V]=j&255,j/=256;for(this.v(M),M=Array(16),j=0,V=0;V<4;++V)for(let B=0;B<32;B+=8)M[j++]=this.g[V]>>>B&255;return M};function c(M,j){var V=b;return Object.prototype.hasOwnProperty.call(V,M)?V[M]:V[M]=j(M)}function p(M,j){this.h=j;const V=[];let B=!0;for(let z=M.length-1;z>=0;z--){const Z=M[z]|0;B&&Z==j||(V[z]=Z,B=!1)}this.g=V}var b={};function _(M){return-128<=M&&M<128?c(M,function(j){return new p([j|0],j<0?-1:0)}):new p([M|0],M<0?-1:0)}function v(M){if(isNaN(M)||!isFinite(M))return N;if(M<0)return te(v(-M));const j=[];let V=1;for(let B=0;M>=V;B++)j[B]=M/V|0,V*=4294967296;return new p(j,0)}function A(M,j){if(M.length==0)throw Error("number format error: empty string");if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(M.charAt(0)=="-")return te(A(M.substring(1),j));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=v(Math.pow(j,8));let B=N;for(let Z=0;Z<M.length;Z+=8){var z=Math.min(8,M.length-Z);const k=parseInt(M.substring(Z,Z+z),j);z<8?(z=v(Math.pow(j,z)),B=B.j(z).add(v(k))):(B=B.j(V),B=B.add(v(k)))}return B}var N=_(0),O=_(1),Q=_(16777216);a=p.prototype,a.m=function(){if(ue(this))return-te(this).m();let M=0,j=1;for(let V=0;V<this.g.length;V++){const B=this.i(V);M+=(B>=0?B:4294967296+B)*j,j*=4294967296}return M},a.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(me(this))return"0";if(ue(this))return"-"+te(this).toString(M);const j=v(Math.pow(M,6));var V=this;let B="";for(;;){const z=Ne(V,j).g;V=Y(V,z.j(j));let Z=((V.g.length>0?V.g[0]:V.h)>>>0).toString(M);if(V=z,me(V))return Z+B;for(;Z.length<6;)Z="0"+Z;B=Z+B}},a.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function me(M){if(M.h!=0)return!1;for(let j=0;j<M.g.length;j++)if(M.g[j]!=0)return!1;return!0}function ue(M){return M.h==-1}a.l=function(M){return M=Y(this,M),ue(M)?-1:me(M)?0:1};function te(M){const j=M.g.length,V=[];for(let B=0;B<j;B++)V[B]=~M.g[B];return new p(V,~M.h).add(O)}a.abs=function(){return ue(this)?te(this):this},a.add=function(M){const j=Math.max(this.g.length,M.g.length),V=[];let B=0;for(let z=0;z<=j;z++){let Z=B+(this.i(z)&65535)+(M.i(z)&65535),k=(Z>>>16)+(this.i(z)>>>16)+(M.i(z)>>>16);B=k>>>16,Z&=65535,k&=65535,V[z]=k<<16|Z}return new p(V,V[V.length-1]&-2147483648?-1:0)};function Y(M,j){return M.add(te(j))}a.j=function(M){if(me(this)||me(M))return N;if(ue(this))return ue(M)?te(this).j(te(M)):te(te(this).j(M));if(ue(M))return te(this.j(te(M)));if(this.l(Q)<0&&M.l(Q)<0)return v(this.m()*M.m());const j=this.g.length+M.g.length,V=[];for(var B=0;B<2*j;B++)V[B]=0;for(B=0;B<this.g.length;B++)for(let z=0;z<M.g.length;z++){const Z=this.i(B)>>>16,k=this.i(B)&65535,yt=M.i(z)>>>16,Rt=M.i(z)&65535;V[2*B+2*z]+=k*Rt,re(V,2*B+2*z),V[2*B+2*z+1]+=Z*Rt,re(V,2*B+2*z+1),V[2*B+2*z+1]+=k*yt,re(V,2*B+2*z+1),V[2*B+2*z+2]+=Z*yt,re(V,2*B+2*z+2)}for(M=0;M<j;M++)V[M]=V[2*M+1]<<16|V[2*M];for(M=j;M<2*j;M++)V[M]=0;return new p(V,0)};function re(M,j){for(;(M[j]&65535)!=M[j];)M[j+1]+=M[j]>>>16,M[j]&=65535,j++}function pe(M,j){this.g=M,this.h=j}function Ne(M,j){if(me(j))throw Error("division by zero");if(me(M))return new pe(N,N);if(ue(M))return j=Ne(te(M),j),new pe(te(j.g),te(j.h));if(ue(j))return j=Ne(M,te(j)),new pe(te(j.g),j.h);if(M.g.length>30){if(ue(M)||ue(j))throw Error("slowDivide_ only works with positive integers.");for(var V=O,B=j;B.l(M)<=0;)V=qe(V),B=qe(B);var z=Ye(V,1),Z=Ye(B,1);for(B=Ye(B,2),V=Ye(V,2);!me(B);){var k=Z.add(B);k.l(M)<=0&&(z=z.add(V),Z=k),B=Ye(B,1),V=Ye(V,1)}return j=Y(M,z.j(j)),new pe(z,j)}for(z=N;M.l(j)>=0;){for(V=Math.max(1,Math.floor(M.m()/j.m())),B=Math.ceil(Math.log(V)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),Z=v(V),k=Z.j(j);ue(k)||k.l(M)>0;)V-=B,Z=v(V),k=Z.j(j);me(Z)&&(Z=O),z=z.add(Z),M=Y(M,k)}return new pe(z,M)}a.B=function(M){return Ne(this,M).h},a.and=function(M){const j=Math.max(this.g.length,M.g.length),V=[];for(let B=0;B<j;B++)V[B]=this.i(B)&M.i(B);return new p(V,this.h&M.h)},a.or=function(M){const j=Math.max(this.g.length,M.g.length),V=[];for(let B=0;B<j;B++)V[B]=this.i(B)|M.i(B);return new p(V,this.h|M.h)},a.xor=function(M){const j=Math.max(this.g.length,M.g.length),V=[];for(let B=0;B<j;B++)V[B]=this.i(B)^M.i(B);return new p(V,this.h^M.h)};function qe(M){const j=M.g.length+1,V=[];for(let B=0;B<j;B++)V[B]=M.i(B)<<1|M.i(B-1)>>>31;return new p(V,M.h)}function Ye(M,j){const V=j>>5;j%=32;const B=M.g.length-V,z=[];for(let Z=0;Z<B;Z++)z[Z]=j>0?M.i(Z+V)>>>j|M.i(Z+V+1)<<32-j:M.i(Z+V);return new p(z,M.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,q_=s,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.B,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=v,p.fromString=A,Ks=p}).apply(typeof t0<"u"?t0:typeof self<"u"?self:typeof window<"u"?window:{});var Wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var F_,Su,H_,lf,dm,K_,G_,Q_;(function(){var a,t=Object.defineProperty;function r(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wc=="object"&&Wc];for(var x=0;x<u.length;++x){var T=u[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=r(this);function l(u,x){if(x)e:{var T=s;u=u.split(".");for(var D=0;D<u.length-1;D++){var ie=u[D];if(!(ie in T))break e;T=T[ie]}u=u[u.length-1],D=T[u],x=x(D),x!=D&&x!=null&&t(T,u,{configurable:!0,writable:!0,value:x})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(x){var T=[],D;for(D in x)Object.prototype.hasOwnProperty.call(x,D)&&T.push([D,x[D]]);return T}});var c=c||{},p=this||self;function b(u){var x=typeof u;return x=="object"&&u!=null||x=="function"}function _(u,x,T){return u.call.apply(u.bind,arguments)}function v(u,x,T){return v=_,v.apply(null,arguments)}function A(u,x){var T=Array.prototype.slice.call(arguments,1);return function(){var D=T.slice();return D.push.apply(D,arguments),u.apply(this,D)}}function N(u,x){function T(){}T.prototype=x.prototype,u.Z=x.prototype,u.prototype=new T,u.prototype.constructor=u,u.Ob=function(D,ie,de){for(var Me=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)Me[lt-2]=arguments[lt];return x.prototype[ie].apply(D,Me)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const x=u.length;if(x>0){const T=Array(x);for(let D=0;D<x;D++)T[D]=u[D];return T}return[]}function me(u,x){for(let D=1;D<arguments.length;D++){const ie=arguments[D];var T=typeof ie;if(T=T!="object"?T:ie?Array.isArray(ie)?"array":T:"null",T=="array"||T=="object"&&typeof ie.length=="number"){T=u.length||0;const de=ie.length||0;u.length=T+de;for(let Me=0;Me<de;Me++)u[T+Me]=ie[Me]}else u.push(ie)}}class ue{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function te(u){p.setTimeout(()=>{throw u},0)}function Y(){var u=M;let x=null;return u.g&&(x=u.g,u.g=u.g.next,u.g||(u.h=null),x.next=null),x}class re{constructor(){this.h=this.g=null}add(x,T){const D=pe.get();D.set(x,T),this.h?this.h.next=D:this.g=D,this.h=D}}var pe=new ue(()=>new Ne,u=>u.reset());class Ne{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let qe,Ye=!1,M=new re,j=()=>{const u=Promise.resolve(void 0);qe=()=>{u.then(V)}};function V(){for(var u;u=Y();){try{u.h.call(u.g)}catch(T){te(T)}var x=pe;x.j(u),x.h<100&&(x.h++,u.next=x.g,x.g=u)}Ye=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(u,x){this.type=u,this.g=this.target=x,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var Z=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,x=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const T=()=>{};p.addEventListener("test",T,x),p.removeEventListener("test",T,x)}catch{}return u})();function k(u){return/^[\s\xa0]*$/.test(u)}function yt(u,x){z.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,x)}N(yt,z),yt.prototype.init=function(u,x){const T=this.type=u.type,D=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=x,x=u.relatedTarget,x||(T=="mouseover"?x=u.fromElement:T=="mouseout"&&(x=u.toElement)),this.relatedTarget=x,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&yt.Z.h.call(this)},yt.prototype.h=function(){yt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Rt="closure_listenable_"+(Math.random()*1e6|0),J=0;function Se(u,x,T,D,ie){this.listener=u,this.proxy=null,this.src=x,this.type=T,this.capture=!!D,this.ha=ie,this.key=++J,this.da=this.fa=!1}function Ae(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function at(u,x,T){for(const D in u)x.call(T,u[D],D,u)}function tt(u,x){for(const T in u)x.call(void 0,u[T],T,u)}function q(u){const x={};for(const T in u)x[T]=u[T];return x}const _e="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function je(u,x){let T,D;for(let ie=1;ie<arguments.length;ie++){D=arguments[ie];for(T in D)u[T]=D[T];for(let de=0;de<_e.length;de++)T=_e[de],Object.prototype.hasOwnProperty.call(D,T)&&(u[T]=D[T])}}function Re(u){this.src=u,this.g={},this.h=0}Re.prototype.add=function(u,x,T,D,ie){const de=u.toString();u=this.g[de],u||(u=this.g[de]=[],this.h++);const Me=$e(u,x,D,ie);return Me>-1?(x=u[Me],T||(x.fa=!1)):(x=new Se(x,this.src,de,!!D,ie),x.fa=T,u.push(x)),x};function Be(u,x){const T=x.type;if(T in u.g){var D=u.g[T],ie=Array.prototype.indexOf.call(D,x,void 0),de;(de=ie>=0)&&Array.prototype.splice.call(D,ie,1),de&&(Ae(x),u.g[T].length==0&&(delete u.g[T],u.h--))}}function $e(u,x,T,D){for(let ie=0;ie<u.length;++ie){const de=u[ie];if(!de.da&&de.listener==x&&de.capture==!!T&&de.ha==D)return ie}return-1}var rt="closure_lm_"+(Math.random()*1e6|0),qt={};function Oe(u,x,T,D,ie){if(Array.isArray(x)){for(let de=0;de<x.length;de++)Oe(u,x[de],T,D,ie);return null}return T=Yn(T),u&&u[Rt]?u.J(x,T,b(D)?!!D.capture:!1,ie):hn(u,x,T,!1,D,ie)}function hn(u,x,T,D,ie,de){if(!x)throw Error("Invalid event type");const Me=b(ie)?!!ie.capture:!!ie;let lt=Ut(u);if(lt||(u[rt]=lt=new Re(u)),T=lt.add(x,T,D,Me,de),T.proxy)return T;if(D=On(),T.proxy=D,D.src=u,D.listener=T,u.addEventListener)Z||(ie=Me),ie===void 0&&(ie=!1),u.addEventListener(x.toString(),D,ie);else if(u.attachEvent)u.attachEvent(Ft(x.toString()),D);else if(u.addListener&&u.removeListener)u.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return T}function On(){function u(T){return x.call(u.src,u.listener,T)}const x=pt;return u}function Ke(u,x,T,D,ie){if(Array.isArray(x))for(var de=0;de<x.length;de++)Ke(u,x[de],T,D,ie);else D=b(D)?!!D.capture:!!D,T=Yn(T),u&&u[Rt]?(u=u.i,de=String(x).toString(),de in u.g&&(x=u.g[de],T=$e(x,T,D,ie),T>-1&&(Ae(x[T]),Array.prototype.splice.call(x,T,1),x.length==0&&(delete u.g[de],u.h--)))):u&&(u=Ut(u))&&(x=u.g[x.toString()],u=-1,x&&(u=$e(x,T,D,ie)),(T=u>-1?x[u]:null)&&Je(T))}function Je(u){if(typeof u!="number"&&u&&!u.da){var x=u.src;if(x&&x[Rt])Be(x.i,u);else{var T=u.type,D=u.proxy;x.removeEventListener?x.removeEventListener(T,D,u.capture):x.detachEvent?x.detachEvent(Ft(T),D):x.addListener&&x.removeListener&&x.removeListener(D),(T=Ut(x))?(Be(T,u),T.h==0&&(T.src=null,x[rt]=null)):Ae(u)}}}function Ft(u){return u in qt?qt[u]:qt[u]="on"+u}function pt(u,x){if(u.da)u=!0;else{x=new yt(x,this);const T=u.listener,D=u.ha||u.src;u.fa&&Je(u),u=T.call(D,x)}return u}function Ut(u){return u=u[rt],u instanceof Re?u:null}var on="__closure_events_fn_"+(Math.random()*1e9>>>0);function Yn(u){return typeof u=="function"?u:(u[on]||(u[on]=function(x){return u.handleEvent(x)}),u[on])}function Nt(){B.call(this),this.i=new Re(this),this.M=this,this.G=null}N(Nt,B),Nt.prototype[Rt]=!0,Nt.prototype.removeEventListener=function(u,x,T,D){Ke(this,u,x,T,D)};function Mt(u,x){var T,D=u.G;if(D)for(T=[];D;D=D.G)T.push(D);if(u=u.M,D=x.type||x,typeof x=="string")x=new z(x,u);else if(x instanceof z)x.target=x.target||u;else{var ie=x;x=new z(D,u),je(x,ie)}ie=!0;let de,Me;if(T)for(Me=T.length-1;Me>=0;Me--)de=x.g=T[Me],ie=wn(de,D,!0,x)&&ie;if(de=x.g=u,ie=wn(de,D,!0,x)&&ie,ie=wn(de,D,!1,x)&&ie,T)for(Me=0;Me<T.length;Me++)de=x.g=T[Me],ie=wn(de,D,!1,x)&&ie}Nt.prototype.N=function(){if(Nt.Z.N.call(this),this.i){var u=this.i;for(const x in u.g){const T=u.g[x];for(let D=0;D<T.length;D++)Ae(T[D]);delete u.g[x],u.h--}}this.G=null},Nt.prototype.J=function(u,x,T,D){return this.i.add(String(u),x,!1,T,D)},Nt.prototype.K=function(u,x,T,D){return this.i.add(String(u),x,!0,T,D)};function wn(u,x,T,D){if(x=u.i.g[String(x)],!x)return!0;x=x.concat();let ie=!0;for(let de=0;de<x.length;++de){const Me=x[de];if(Me&&!Me.da&&Me.capture==T){const lt=Me.listener,vn=Me.ha||Me.src;Me.fa&&Be(u.i,Me),ie=lt.call(vn,D)!==!1&&ie}}return ie&&!D.defaultPrevented}function Po(u,x){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:p.setTimeout(u,x||0)}function ni(u){u.g=Po(()=>{u.g=null,u.i&&(u.i=!1,ni(u))},u.l);const x=u.h;u.h=null,u.m.apply(null,x)}class Xn extends B{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:ni(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(u){B.call(this),this.h=u,this.g={}}N(Yr,B);var Xr=[];function $r(u){at(u.g,function(x,T){this.g.hasOwnProperty(T)&&Je(x)},u),u.g={}}Yr.prototype.N=function(){Yr.Z.N.call(this),$r(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ya=p.JSON.stringify,Ei=p.JSON.parse,rs=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function wi(){}function va(){}var fr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Tn(){z.call(this,"d")}N(Tn,z);function Sn(){z.call(this,"c")}N(Sn,z);var Ue={},ri=null;function Ar(){return ri=ri||new Nt}Ue.Ia="serverreachability";function Ti(u){z.call(this,Ue.Ia,u)}N(Ti,z);function ke(u){const x=Ar();Mt(x,new Ti(x))}Ue.STAT_EVENT="statevent";function za(u,x){z.call(this,Ue.STAT_EVENT,u),this.stat=x}N(za,z);function dn(u){const x=Ar();Mt(x,new za(x,u))}Ue.Ja="timingevent";function Rr(u,x){z.call(this,Ue.Ja,u),this.size=x}N(Rr,z);function Zr(u,x){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},x)}function br(){this.g=!0}br.prototype.ua=function(){this.g=!1};function Ul(u,x,T,D,ie,de){u.info(function(){if(u.g)if(de){var Me="",lt=de.split("&");for(let Ct=0;Ct<lt.length;Ct++){var vn=lt[Ct].split("=");if(vn.length>1){const Gt=vn[0];vn=vn[1];const Ur=Gt.split("_");Me=Ur.length>=2&&Ur[1]=="type"?Me+(Gt+"="+vn+"&"):Me+(Gt+"=redacted&")}}}else Me=null;else Me=de;return"XMLHTTP REQ ("+D+") [attempt "+ie+"]: "+x+`
`+T+`
`+Me})}function Lo(u,x,T,D,ie,de,Me){u.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+ie+"]: "+x+`
`+T+`
`+de+" "+Me})}function ar(u,x,T,D){u.info(function(){return"XMLHTTP TEXT ("+x+"): "+eo(u,T)+(D?" "+D:"")})}function Nr(u,x){u.info(function(){return"TIMEOUT: "+x})}br.prototype.info=function(){};function eo(u,x){if(!u.g)return x;if(!x)return null;try{const de=JSON.parse(x);if(de){for(u=0;u<de.length;u++)if(Array.isArray(de[u])){var T=de[u];if(!(T.length<2)){var D=T[1];if(Array.isArray(D)&&!(D.length<1)){var ie=D[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(let Me=1;Me<D.length;Me++)D[Me]=""}}}}return ya(de)}catch{return x}}var _a={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ln;function Si(){}N(Si,wi),Si.prototype.g=function(){return new XMLHttpRequest},ln=new Si;function Cr(u){return encodeURIComponent(String(u))}function Ai(u){var x=1;u=u.split(":");const T=[];for(;x>0&&u.length;)T.push(u.shift()),x--;return u.length&&T.push(u.join(":")),T}function hr(u,x,T,D){this.j=u,this.i=x,this.l=T,this.S=D||1,this.V=new Yr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jr}function Jr(){this.i=null,this.g="",this.h=!1}var Ht={},nn={};function Kn(u,x,T){u.M=1,u.A=si(pn(x)),u.u=T,u.R=!0,Ba(u,null)}function Ba(u,x){u.F=Date.now(),$n(u),u.B=pn(u.A);var T=u.B,D=u.S;Array.isArray(D)||(D=[String(D)]),ls(T.i,"t",D),u.C=0,T=u.j.L,u.h=new Jr,u.g=Nn(u.j,T?x:null,!u.u),u.P>0&&(u.O=new Xn(v(u.Y,u,u.g),u.P)),x=u.V,T=u.g,D=u.ba;var ie="readystatechange";Array.isArray(ie)||(ie&&(Xr[0]=ie.toString()),ie=Xr);for(let de=0;de<ie.length;de++){const Me=Oe(T,ie[de],D||x.handleEvent,!1,x.h||x);if(!Me)break;x.g[Me.key]=Me}x=u.J?q(u.J):{},u.u?(u.v||(u.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,x)):(u.v="GET",u.g.ea(u.B,u.v,null,x)),ke(),Ul(u.i,u.v,u.B,u.l,u.S,u.u)}hr.prototype.ba=function(u){u=u.target;const x=this.O;x&&sa(u)==3?x.j():this.Y(u)},hr.prototype.Y=function(u){try{if(u==this.g)e:{const lt=sa(this.g),vn=this.g.ya(),Ct=this.g.ca();if(!(lt<3)&&(lt!=3||this.g&&(this.h.h||this.g.la()||yn(this.g)))){this.K||lt!=4||vn==7||(vn==8||Ct<=0?ke(3):ke(2)),Dr(this);var x=this.g.ca();this.X=x;var T=zl(this);if(this.o=x==200,Lo(this.i,this.v,this.B,this.l,this.S,lt,x),this.o){if(this.U&&!this.L){t:{if(this.g){var D,ie=this.g;if((D=ie.g?ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(D)){var de=D;break t}}de=null}if(u=de)ar(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Mn(this,u);else{this.o=!1,this.m=3,dn(12),An(this),It(this);break e}}if(this.R){u=!0;let Gt;for(;!this.K&&this.C<T.length;)if(Gt=to(this,T),Gt==nn){lt==4&&(this.m=4,dn(14),u=!1),ar(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==Ht){this.m=4,dn(15),ar(this.i,this.l,T,"[Invalid Chunk]"),u=!1;break}else ar(this.i,this.l,Gt,null),Mn(this,Gt);if(Wr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lt!=4||T.length!=0||this.h.h||(this.m=1,dn(16),u=!1),this.o=this.o&&u,!u)ar(this.i,this.l,T,"[Invalid Chunked Response]"),An(this),It(this);else if(T.length>0&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.aa&&!Me.P&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),li(Me),Me.P=!0,dn(11))}}else ar(this.i,this.l,T,null),Mn(this,T);lt==4&&An(this),this.o&&!this.K&&(lt==4?Ya(this.j,this):(this.o=!1,$n(this)))}else Ga(this.g),x==400&&T.indexOf("Unknown SID")>0?(this.m=3,dn(12)):(this.m=0,dn(13)),An(this),It(this)}}}catch{}finally{}};function zl(u){if(!Wr(u))return u.g.la();const x=yn(u.g);if(x==="")return"";let T="";const D=x.length,ie=sa(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return An(u),It(u),"";u.h.i=new p.TextDecoder}for(let de=0;de<D;de++)u.h.h=!0,T+=u.h.i.decode(x[de],{stream:!(ie&&de==D-1)});return x.length=0,u.h.g+=T,u.C=0,u.h.g}function Wr(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function to(u,x){var T=u.C,D=x.indexOf(`
`,T);return D==-1?nn:(T=Number(x.substring(T,D)),isNaN(T)?Ht:(D+=1,D+T>x.length?nn:(x=x.slice(D,D+T),u.C=D+T,x)))}hr.prototype.cancel=function(){this.K=!0,An(this)};function $n(u){u.T=Date.now()+u.H,Ri(u,u.H)}function Ri(u,x){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Zr(v(u.aa,u),x)}function Dr(u){u.D&&(p.clearTimeout(u.D),u.D=null)}hr.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Nr(this.i,this.B),this.M!=2&&(ke(),dn(17)),An(this),this.m=2,It(this)):Ri(this,this.T-u)};function It(u){u.j.I==0||u.K||Ya(u.j,u)}function An(u){Dr(u);var x=u.O;x&&typeof x.dispose=="function"&&x.dispose(),u.O=null,$r(u.V),u.g&&(x=u.g,u.g=null,x.abort(),x.dispose())}function Mn(u,x){try{var T=u.j;if(T.I!=0&&(T.g==u||jr(T.h,u))){if(!u.L&&jr(T.h,u)&&T.I==3){try{var D=T.Ba.g.parse(x)}catch{D=null}if(Array.isArray(D)&&D.length==3){var ie=D;if(ie[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<u.F)hs(T),Ta(T);else break e;Aa(T),dn(18)}}else T.xa=ie[1],0<T.xa-T.K&&ie[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Zr(v(T.Va,T),6e3));Ir(T.h)<=1&&T.ta&&(T.ta=void 0)}else Pr(T,11)}else if((u.L||T.g==u)&&hs(T),!k(x))for(ie=T.Ba.g.parse(x),x=0;x<ie.length;x++){let Ct=ie[x];const Gt=Ct[0];if(!(Gt<=T.K))if(T.K=Gt,Ct=Ct[1],T.I==2)if(Ct[0]=="c"){T.M=Ct[1],T.ba=Ct[2];const Ur=Ct[3];Ur!=null&&(T.ka=Ur,T.j.info("VER="+T.ka));const zr=Ct[4];zr!=null&&(T.za=zr,T.j.info("SVER="+T.za));const wr=Ct[5];wr!=null&&typeof wr=="number"&&wr>0&&(D=1.5*wr,T.O=D,T.j.info("backChannelRequestTimeoutMs_="+D)),D=T;const la=u.g;if(la){const ci=la.g?la.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ci){var de=D.h;de.g||ci.indexOf("spdy")==-1&&ci.indexOf("quic")==-1&&ci.indexOf("h2")==-1||(de.j=de.l,de.g=new Set,de.h&&(ea(de,de.h),de.h=null))}if(D.G){const gs=la.g?la.g.getResponseHeader("X-HTTP-Session-Id"):null;gs&&(D.wa=gs,Vt(D.J,D.G,gs))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-u.F,T.j.info("Handshake RTT: "+T.T+"ms")),D=T;var Me=u;if(D.na=ps(D,D.L?D.ba:null,D.W),Me.L){as(D.h,Me);var lt=Me,vn=D.O;vn&&(lt.H=vn),lt.D&&(Dr(lt),$n(lt)),D.g=Me}else Ii(D);T.i.length>0&&Sa(T)}else Ct[0]!="stop"&&Ct[0]!="close"||Pr(T,7);else T.I==3&&(Ct[0]=="stop"||Ct[0]=="close"?Ct[0]=="stop"?Pr(T,7):oi(T):Ct[0]!="noop"&&T.l&&T.l.qa(Ct),T.A=0)}}ke(4)}catch{}}var mn=class{constructor(u,x){this.g=u,this.map=x}};function ba(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ai(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ir(u){return u.h?1:u.g?u.g.size:0}function jr(u,x){return u.h?u.h==x:u.g?u.g.has(x):!1}function ea(u,x){u.g?u.g.add(x):u.h=x}function as(u,x){u.h&&u.h==x?u.h=null:u.g&&u.g.has(x)&&u.g.delete(x)}ba.prototype.cancel=function(){if(this.i=ii(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ii(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let x=u.i;for(const T of u.g.values())x=x.concat(T.G);return x}return Q(u.i)}var no=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ht(u,x){if(u){u=u.split("&");for(let T=0;T<u.length;T++){const D=u[T].indexOf("=");let ie,de=null;D>=0?(ie=u[T].substring(0,D),de=u[T].substring(D+1)):ie=u[T],x(ie,de?decodeURIComponent(de.replace(/\+/g," ")):"")}}}function dr(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;u instanceof dr?(this.l=u.l,gn(this,u.j),this.o=u.o,this.g=u.g,Or(this,u.u),this.h=u.h,is(this,zo(u.i)),this.m=u.m):u&&(x=String(u).match(no))?(this.l=!1,gn(this,x[1]||"",!0),this.o=bt(x[2]||""),this.g=bt(x[3]||"",!0),Or(this,x[4]),this.h=bt(x[5]||"",!0),is(this,x[6]||"",!0),this.m=bt(x[7]||"")):(this.l=!1,this.i=new aa(null,this.l))}dr.prototype.toString=function(){const u=[];var x=this.j;x&&u.push(ta(x,na,!0),":");var T=this.g;return(T||x=="file")&&(u.push("//"),(x=this.o)&&u.push(ta(x,na,!0),"@"),u.push(Cr(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&u.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&u.push("/"),u.push(ta(T,T.charAt(0)=="/"?Ni:ss,!0))),(T=this.i.toString())&&u.push("?",T),(T=this.m)&&u.push("#",ta(T,ro)),u.join("")},dr.prototype.resolve=function(u){const x=pn(this);let T=!!u.j;T?gn(x,u.j):T=!!u.o,T?x.o=u.o:T=!!u.g,T?x.g=u.g:T=u.u!=null;var D=u.h;if(T)Or(x,u.u);else if(T=!!u.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var ie=x.h.lastIndexOf("/");ie!=-1&&(D=x.h.slice(0,ie+1)+D)}if(ie=D,ie==".."||ie==".")D="";else if(ie.indexOf("./")!=-1||ie.indexOf("/.")!=-1){D=ie.lastIndexOf("/",0)==0,ie=ie.split("/");const de=[];for(let Me=0;Me<ie.length;){const lt=ie[Me++];lt=="."?D&&Me==ie.length&&de.push(""):lt==".."?((de.length>1||de.length==1&&de[0]!="")&&de.pop(),D&&Me==ie.length&&de.push("")):(de.push(lt),D=!0)}D=de.join("/")}else D=ie}return T?x.h=D:T=u.i.toString()!=="",T?is(x,zo(u.i)):T=!!u.m,T&&(x.m=u.m),x};function pn(u){return new dr(u)}function gn(u,x,T){u.j=T?bt(x,!0):x,u.j&&(u.j=u.j.replace(/:$/,""))}function Or(u,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);u.u=x}else u.u=null}function is(u,x,T){x instanceof aa?(u.i=x,ia(u.i,u.l)):(T||(x=ta(x,ra)),u.i=new aa(x,u.l))}function Vt(u,x,T){u.i.set(x,T)}function si(u){return Vt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function bt(u,x){return u?x?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ta(u,x,T){return typeof u=="string"?(u=encodeURI(u).replace(x,Vn),T&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Vn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var na=/[#\/\?@]/g,ss=/[#\?:]/g,Ni=/[#\?]/g,ra=/[#\?@]/g,ro=/#/g;function aa(u,x){this.h=this.g=null,this.i=u||null,this.j=!!x}function ir(u){u.g||(u.g=new Map,u.h=0,u.i&&ht(u.i,function(x,T){u.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}a=aa.prototype,a.add=function(u,x){ir(this),this.i=null,u=bn(this,u);let T=this.g.get(u);return T||this.g.set(u,T=[]),T.push(x),this.h+=1,this};function Uo(u,x){ir(u),x=bn(u,x),u.g.has(x)&&(u.i=null,u.h-=u.g.get(x).length,u.g.delete(x))}function _t(u,x){return ir(u),x=bn(u,x),u.g.has(x)}a.forEach=function(u,x){ir(this),this.g.forEach(function(T,D){T.forEach(function(ie){u.call(x,ie,D,this)},this)},this)};function os(u,x){ir(u);let T=[];if(typeof x=="string")_t(u,x)&&(T=T.concat(u.g.get(bn(u,x))));else for(u=Array.from(u.g.values()),x=0;x<u.length;x++)T=T.concat(u[x]);return T}a.set=function(u,x){return ir(this),this.i=null,u=bn(this,u),_t(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[x]),this.h+=1,this},a.get=function(u,x){return u?(u=os(this,u),u.length>0?String(u[0]):x):x};function ls(u,x,T){Uo(u,x),T.length>0&&(u.i=null,u.g.set(bn(u,x),Q(T)),u.h+=T.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],x=Array.from(this.g.keys());for(let D=0;D<x.length;D++){var T=x[D];const ie=Cr(T);T=os(this,T);for(let de=0;de<T.length;de++){let Me=ie;T[de]!==""&&(Me+="="+Cr(T[de])),u.push(Me)}}return this.i=u.join("&")};function zo(u){const x=new aa;return x.i=u.i,u.g&&(x.g=new Map(u.g),x.h=u.h),x}function bn(u,x){return x=String(x),u.j&&(x=x.toLowerCase()),x}function ia(u,x){x&&!u.j&&(ir(u),u.i=null,u.g.forEach(function(T,D){const ie=D.toLowerCase();D!=ie&&(Uo(this,D),ls(this,ie,T))},u)),u.j=x}function mr(u,x){const T=new br;if(p.Image){const D=new Image;D.onload=A(xr,T,"TestLoadImage: loaded",!0,x,D),D.onerror=A(xr,T,"TestLoadImage: error",!1,x,D),D.onabort=A(xr,T,"TestLoadImage: abort",!1,x,D),D.ontimeout=A(xr,T,"TestLoadImage: timeout",!1,x,D),p.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=u}else x(!1)}function Mr(u,x){const T=new br,D=new AbortController,ie=setTimeout(()=>{D.abort(),xr(T,"TestPingServer: timeout",!1,x)},1e4);fetch(u,{signal:D.signal}).then(de=>{clearTimeout(ie),de.ok?xr(T,"TestPingServer: ok",!0,x):xr(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(ie),xr(T,"TestPingServer: error",!1,x)})}function xr(u,x,T,D,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),D(T)}catch{}}function qa(){this.g=new rs}function Kt(u){this.i=u.Sb||null,this.h=u.ab||!1}N(Kt,wi),Kt.prototype.g=function(){return new Zn(this.i,this.h)};function Zn(u,x){Nt.call(this),this.H=u,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}N(Zn,Nt),a=Zn.prototype,a.open=function(u,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=x,this.readyState=1,Er(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(x.body=u),(this.H||p).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vr(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Er(this)),this.g&&(this.readyState=3,Er(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function xa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var x=u.value?u.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!u.done}))&&(this.response=this.responseText+=x)}u.done?Vr(this):Er(this),this.readyState==3&&xa(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,Vr(this))},a.Na=function(u){this.g&&(this.response=u,Vr(this))},a.ga=function(){this.g&&Vr(this)};function Vr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Er(u)}a.setRequestHeader=function(u,x){this.A.append(u,x)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,u.push(T[0]+": "+T[1]),T=x.next();return u.join(`\r
`)};function Er(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Zn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let x="";return at(u,function(T,D){x+=D,x+=":",x+=T,x+=`\r
`}),x}function Ci(u,x,T){e:{for(D in T){var D=!1;break e}D=!0}D||(T=Rn(T),typeof u=="string"?T!=null&&Cr(T):Vt(u,x,T))}function vt(u){Nt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}N(vt,Nt);var kr=/^https?$/i,us=["POST","PUT"];a=vt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,x,T,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);x=x?x.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ln.g(),this.g.onreadystatechange=O(v(this.Ca,this));try{this.B=!0,this.g.open(x,String(u),!0),this.B=!1}catch(de){Fa(this,de);return}if(u=T||"",T=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var ie in D)T.set(ie,D[ie]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const de of D.keys())T.set(de,D.get(de));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(T.keys()).find(de=>de.toLowerCase()=="content-type"),ie=p.FormData&&u instanceof p.FormData,!(Array.prototype.indexOf.call(us,x,void 0)>=0)||D||ie||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[de,Me]of T)this.g.setRequestHeader(de,Me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(de){Fa(this,de)}};function Fa(u,x){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=x,u.o=5,Ha(u),Ea(u)}function Ha(u){u.A||(u.A=!0,Mt(u,"complete"),Mt(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Mt(this,"complete"),Mt(this,"abort"),Ea(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ea(this,!0)),vt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?Ka(this):this.Xa())},a.Xa=function(){Ka(this)};function Ka(u){if(u.h&&typeof c<"u"){if(u.v&&sa(u)==4)setTimeout(u.Ca.bind(u),0);else if(Mt(u,"readystatechange"),sa(u)==4){u.h=!1;try{const de=u.ca();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var T;if(!(T=x)){var D;if(D=de===0){let Me=String(u.D).match(no)[1]||null;!Me&&p.self&&p.self.location&&(Me=p.self.location.protocol.slice(0,-1)),D=!kr.test(Me?Me.toLowerCase():"")}T=D}if(T)Mt(u,"complete"),Mt(u,"success");else{u.o=6;try{var ie=sa(u)>2?u.g.statusText:""}catch{ie=""}u.l=ie+" ["+u.ca()+"]",Ha(u)}}finally{Ea(u)}}}}function Ea(u,x){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const T=u.g;u.g=null,x||Mt(u,"ready");try{T.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function sa(u){return u.g?u.g.readyState:0}a.ca=function(){try{return sa(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var x=this.g.responseText;return u&&x.indexOf(u)==0&&(x=x.substring(u.length)),Ei(x)}};function yn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ga(u){const x={};u=(u.g&&sa(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<u.length;D++){if(k(u[D]))continue;var T=Ai(u[D]);const ie=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const de=x[ie]||[];x[ie]=de,de.push(T)}tt(x,function(D){return D.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wa(u,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[u]||x}function oa(u){this.za=0,this.i=[],this.j=new br,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wa("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wa("baseRetryDelayMs",5e3,u),this.Za=wa("retryDelaySeedMs",1e4,u),this.Ta=wa("forwardChannelMaxRetries",2,u),this.va=wa("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ba(u&&u.concurrentRequestLimit),this.Ba=new qa,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=oa.prototype,a.ka=8,a.I=1,a.connect=function(u,x,T,D){dn(0),this.W=u,this.H=x||{},T&&D!==void 0&&(this.H.OSID=T,this.H.OAID=D),this.F=this.X,this.J=ps(this,null,this.W),Sa(this)};function oi(u){if(cs(u),u.I==3){var x=u.V++,T=pn(u.J);if(Vt(T,"SID",u.M),Vt(T,"RID",x),Vt(T,"TYPE","terminate"),Qa(u,T),x=new hr(u,u.j,x),x.M=2,x.A=si(pn(T)),T=!1,p.navigator&&p.navigator.sendBeacon)try{T=p.navigator.sendBeacon(x.A.toString(),"")}catch{}!T&&p.Image&&(new Image().src=x.A,T=!0),T||(x.g=Nn(x.j,null),x.g.ea(x.A)),x.F=Date.now(),$n(x)}ms(u)}function Ta(u){u.g&&(li(u),u.g.cancel(),u.g=null)}function cs(u){Ta(u),u.v&&(p.clearTimeout(u.v),u.v=null),hs(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&p.clearTimeout(u.m),u.m=null)}function Sa(u){if(!ai(u.h)&&!u.m){u.m=!0;var x=u.Ea;qe||j(),Ye||(qe(),Ye=!0),M.add(x,u),u.D=0}}function fs(u,x){return Ir(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=x.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Zr(v(u.Ea,u,x),ds(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const ie=new hr(this,this.j,u);let de=this.o;if(this.U&&(de?(de=q(de),je(de,this.U)):de=this.U),this.u!==null||this.R||(ie.J=de,de=null),this.S)e:{for(var x=0,T=0;T<this.i.length;T++){t:{var D=this.i[T];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(x+=D,x>4096){x=T;break e}if(x===4096||T===this.i.length-1){x=T+1;break e}}x=1e3}else x=1e3;x=ao(this,ie,x),T=pn(this.J),Vt(T,"RID",u),Vt(T,"CVER",22),this.G&&Vt(T,"X-HTTP-Session-Id",this.G),Qa(this,T),de&&(this.R?x="headers="+Cr(Rn(de))+"&"+x:this.u&&Ci(T,this.u,de)),ea(this.h,ie),this.Ra&&Vt(T,"TYPE","init"),this.S?(Vt(T,"$req",x),Vt(T,"SID","null"),ie.U=!0,Kn(ie,T,null)):Kn(ie,T,x),this.I=2}}else this.I==3&&(u?Di(this,u):this.i.length==0||ai(this.h)||Di(this))};function Di(u,x){var T;x?T=x.l:T=u.V++;const D=pn(u.J);Vt(D,"SID",u.M),Vt(D,"RID",T),Vt(D,"AID",u.K),Qa(u,D),u.u&&u.o&&Ci(D,u.u,u.o),T=new hr(u,u.j,T,u.D+1),u.u===null&&(T.J=u.o),x&&(u.i=x.G.concat(u.i)),x=ao(u,T,1e3),T.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),ea(u.h,T),Kn(T,D,x)}function Qa(u,x){u.H&&at(u.H,function(T,D){Vt(x,D,T)}),u.l&&at({},function(T,D){Vt(x,D,T)})}function ao(u,x,T){T=Math.min(u.i.length,T);const D=u.l?v(u.l.Ka,u.l,u):null;e:{var ie=u.i;let lt=-1;for(;;){const vn=["count="+T];lt==-1?T>0?(lt=ie[0].g,vn.push("ofs="+lt)):lt=0:vn.push("ofs="+lt);let Ct=!0;for(let Gt=0;Gt<T;Gt++){var de=ie[Gt].g;const Ur=ie[Gt].map;if(de-=lt,de<0)lt=Math.max(0,ie[Gt].g-100),Ct=!1;else try{de="req"+de+"_"||"";try{var Me=Ur instanceof Map?Ur:Object.entries(Ur);for(const[zr,wr]of Me){let la=wr;b(wr)&&(la=ya(wr)),vn.push(de+zr+"="+encodeURIComponent(la))}}catch(zr){throw vn.push(de+"type="+encodeURIComponent("_badmap")),zr}}catch{D&&D(Ur)}}if(Ct){Me=vn.join("&");break e}}Me=void 0}return u=u.i.splice(0,T),x.G=u,Me}function Ii(u){if(!u.g&&!u.v){u.Y=1;var x=u.Da;qe||j(),Ye||(qe(),Ye=!0),M.add(x,u),u.A=0}}function Aa(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Zr(v(u.Da,u),ds(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,io(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Zr(v(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,dn(10),Ta(this),io(this))};function li(u){u.B!=null&&(p.clearTimeout(u.B),u.B=null)}function io(u){u.g=new hr(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var x=pn(u.na);Vt(x,"RID","rpc"),Vt(x,"SID",u.M),Vt(x,"AID",u.K),Vt(x,"CI",u.F?"0":"1"),!u.F&&u.ia&&Vt(x,"TO",u.ia),Vt(x,"TYPE","xmlhttp"),Qa(u,x),u.u&&u.o&&Ci(x,u.u,u.o),u.O&&(u.g.H=u.O);var T=u.g;u=u.ba,T.M=1,T.A=si(pn(x)),T.u=null,T.R=!0,Ba(T,u)}a.Va=function(){this.C!=null&&(this.C=null,Ta(this),Aa(this),dn(19))};function hs(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function Ya(u,x){var T=null;if(u.g==x){hs(u),li(u),u.g=null;var D=2}else if(jr(u.h,x))T=x.G,as(u.h,x),D=1;else return;if(u.I!=0){if(x.o)if(D==1){T=x.u?x.u.length:0,x=Date.now()-x.F;var ie=u.D;D=Ar(),Mt(D,new Rr(D,T)),Sa(u)}else Ii(u);else if(ie=x.m,ie==3||ie==0&&x.X>0||!(D==1&&fs(u,x)||D==2&&Aa(u)))switch(T&&T.length>0&&(x=u.h,x.i=x.i.concat(T)),ie){case 1:Pr(u,5);break;case 4:Pr(u,10);break;case 3:Pr(u,6);break;default:Pr(u,2)}}}function ds(u,x){let T=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(T*=2),T*x}function Pr(u,x){if(u.j.info("Error code "+x),x==2){var T=v(u.bb,u),D=u.Ua;const ie=!D;D=new dr(D||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||gn(D,"https"),si(D),ie?mr(D.toString(),T):Mr(D.toString(),T)}else dn(2);u.I=0,u.l&&u.l.pa(x),ms(u),cs(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),dn(2)):(this.j.info("Failed to ping google.com"),dn(1))};function ms(u){if(u.I=0,u.ja=[],u.l){const x=ii(u.h);(x.length!=0||u.i.length!=0)&&(me(u.ja,x),me(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function ps(u,x,T){var D=T instanceof dr?pn(T):new dr(T);if(D.g!="")x&&(D.g=x+"."+D.g),Or(D,D.u);else{var ie=p.location;D=ie.protocol,x=x?x+"."+ie.hostname:ie.hostname,ie=+ie.port;const de=new dr(null);D&&gn(de,D),x&&(de.g=x),ie&&Or(de,ie),T&&(de.h=T),D=de}return T=u.G,x=u.wa,T&&x&&Vt(D,T,x),Vt(D,"VER",u.ka),Qa(u,D),D}function Nn(u,x,T){if(x&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=u.Aa&&!u.ma?new vt(new Kt({ab:T})):new vt(u.ma),x.Fa(u.L),x}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function ui(){}a=ui.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Lr(){}Lr.prototype.g=function(u,x){return new Jn(u,x)};function Jn(u,x){Nt.call(this),this.g=new oa(x),this.l=u,this.h=x&&x.messageUrlParams||null,u=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(u?u["X-WebChannel-Content-Type"]=x.messageContentType:u={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(u?u["X-WebChannel-Client-Profile"]=x.sa:u={"X-WebChannel-Client-Profile":x.sa}),this.g.U=u,(u=x&&x.Qb)&&!k(u)&&(this.g.u=u),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!k(x)&&(this.g.G=x,u=this.h,u!==null&&x in u&&(u=this.h,x in u&&delete u[x])),this.j=new Ra(this)}N(Jn,Nt),Jn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Jn.prototype.close=function(){oi(this.g)},Jn.prototype.o=function(u){var x=this.g;if(typeof u=="string"){var T={};T.__data__=u,u=T}else this.v&&(T={},T.__data__=ya(u),u=T);x.i.push(new mn(x.Ya++,u)),x.I==3&&Sa(x)},Jn.prototype.N=function(){this.g.l=null,delete this.j,oi(this.g),delete this.g,Jn.Z.N.call(this)};function ji(u){Tn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var x=u.__sm__;if(x){e:{for(const T in x){u=T;break e}u=void 0}(this.i=u)&&(u=this.i,x=x!==null&&u in x?x[u]:void 0),this.data=x}else this.data=u}N(ji,Tn);function so(){Sn.call(this),this.status=1}N(so,Sn);function Ra(u){this.g=u}N(Ra,ui),Ra.prototype.ra=function(){Mt(this.g,"a")},Ra.prototype.qa=function(u){Mt(this.g,new ji(u))},Ra.prototype.pa=function(u){Mt(this.g,new so)},Ra.prototype.oa=function(){Mt(this.g,"b")},Lr.prototype.createWebChannel=Lr.prototype.g,Jn.prototype.send=Jn.prototype.o,Jn.prototype.open=Jn.prototype.m,Jn.prototype.close=Jn.prototype.close,Q_=function(){return new Lr},G_=function(){return Ar()},K_=Ue,dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_a.NO_ERROR=0,_a.TIMEOUT=8,_a.HTTP_ERROR=6,lf=_a,zt.COMPLETE="complete",H_=zt,va.EventType=fr,fr.OPEN="a",fr.CLOSE="b",fr.ERROR="c",fr.MESSAGE="d",Nt.prototype.listen=Nt.prototype.J,Su=va,vt.prototype.listenOnce=vt.prototype.K,vt.prototype.getLastError=vt.prototype.Ha,vt.prototype.getLastErrorCode=vt.prototype.ya,vt.prototype.getStatus=vt.prototype.ca,vt.prototype.getResponseJson=vt.prototype.La,vt.prototype.getResponseText=vt.prototype.la,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Fa,F_=vt}).apply(typeof Wc<"u"?Wc:typeof self<"u"?self:typeof window<"u"?window:{});const n0="@firebase/firestore",r0="4.9.2";class vr{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}vr.UNAUTHENTICATED=new vr(null),vr.GOOGLE_CREDENTIALS=new vr("google-credentials-uid"),vr.FIRST_PARTY=new vr("first-party-uid"),vr.MOCK_USER=new vr("mock-user");let Vl="12.3.0";const Co=new k_("@firebase/firestore");function ml(){return Co.logLevel}function Fe(a,...t){if(Co.logLevel<=Ot.DEBUG){const r=t.map(Gm);Co.debug(`Firestore (${Vl}): ${a}`,...r)}}function es(a,...t){if(Co.logLevel<=Ot.ERROR){const r=t.map(Gm);Co.error(`Firestore (${Vl}): ${a}`,...r)}}function Do(a,...t){if(Co.logLevel<=Ot.WARN){const r=t.map(Gm);Co.warn(`Firestore (${Vl}): ${a}`,...r)}}function Gm(a){if(typeof a=="string")return a;try{return(function(r){return JSON.stringify(r)})(a)}catch{return a}}function it(a,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,Y_(a,s,r)}function Y_(a,t,r){let s=`FIRESTORE (${Vl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(r!==void 0)try{s+=" CONTEXT: "+JSON.stringify(r)}catch{s+=" CONTEXT: "+r}throw es(s),new Error(s)}function Bt(a,t,r,s){let l="Unexpected state";typeof r=="string"?l=r:s=r,a||Y_(t,l,s)}function ft(a,t){return a}const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class He extends Ml{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ao{constructor(){this.promise=new Promise(((t,r)=>{this.resolve=t,this.reject=r}))}}class X_{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class $_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable((()=>r(vr.UNAUTHENTICATED)))}shutdown(){}}class uS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class cS{constructor(t){this.t=t,this.currentUser=vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Bt(this.o===void 0,42304);let s=this.i;const l=_=>this.i!==s?(s=this.i,r(_)):Promise.resolve();let c=new Ao;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ao,t.enqueueRetryable((()=>l(this.currentUser)))};const p=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},b=_=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((_=>b(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?b(_):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ao)}}),0),p()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((s=>this.i!==t?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Bt(typeof s.accessToken=="string",31837,{l:s}),new X_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Bt(t===null||typeof t=="string",2055,{h:t}),new vr(t)}}class fS{constructor(t,r,s){this.P=t,this.T=r,this.I=s,this.type="FirstParty",this.user=vr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hS{constructor(t,r,s){this.P=t,this.T=r,this.I=s}getToken(){return Promise.resolve(new fS(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable((()=>r(vr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class a0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dS{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,G2(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Bt(this.o===void 0,3512);const s=c=>{c.error!=null&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.m;return this.m=c.token,Fe("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?r(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new a0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((r=>r?(Bt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new a0(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function mS(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let s=0;s<a;s++)r[s]=Math.floor(256*Math.random());return r}class Uf{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=mS(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<r&&(s+=t.charAt(l[c]%62))}return s}}function St(a,t){return a<t?-1:a>t?1:0}function mm(a,t){const r=Math.min(a.length,t.length);for(let s=0;s<r;s++){const l=a.charAt(s),c=t.charAt(s);if(l!==c)return tm(l)===tm(c)?St(l,c):tm(l)?1:-1}return St(a.length,t.length)}const pS=55296,gS=57343;function tm(a){const t=a.charCodeAt(0);return t>=pS&&t<=gS}function El(a,t,r){return a.length===t.length&&a.every(((s,l)=>r(s,t[l])))}const i0="__name__";class gi{constructor(t,r,s){r===void 0?r=0:r>t.length&&it(637,{offset:r,range:t.length}),s===void 0?s=t.length-r:s>t.length-r&&it(1746,{length:s,range:t.length-r}),this.segments=t,this.offset=r,this.len=s}get length(){return this.len}isEqual(t){return gi.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof gi?t.forEach((s=>{r.push(s)})):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,s=this.limit();r<s;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const s=Math.min(t.length,r.length);for(let l=0;l<s;l++){const c=gi.compareSegments(t.get(l),r.get(l));if(c!==0)return c}return St(t.length,r.length)}static compareSegments(t,r){const s=gi.isNumericId(t),l=gi.isNumericId(r);return s&&!l?-1:!s&&l?1:s&&l?gi.extractNumericId(t).compare(gi.extractNumericId(r)):mm(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ks.fromString(t.substring(4,t.length-2))}}class en extends gi{construct(t,r,s){return new en(t,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const s of t){if(s.indexOf("//")>=0)throw new He(we.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter((l=>l.length>0)))}return new en(r)}static emptyPath(){return new en([])}}const yS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nr extends gi{construct(t,r,s){return new nr(t,r,s)}static isValidIdentifier(t){return yS.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nr.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===i0}static keyField(){return new nr([i0])}static fromServerFormat(t){const r=[];let s="",l=0;const c=()=>{if(s.length===0)throw new He(we.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let p=!1;for(;l<t.length;){const b=t[l];if(b==="\\"){if(l+1===t.length)throw new He(we.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new He(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=_,l+=2}else b==="`"?(p=!p,l++):b!=="."||p?(s+=b,l++):(c(),l++)}if(c(),p)throw new He(we.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new nr(r)}static emptyPath(){return new nr([])}}class Ze{constructor(t){this.path=t}static fromPath(t){return new Ze(en.fromString(t))}static fromName(t){return new Ze(en.fromString(t).popFirst(5))}static empty(){return new Ze(en.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&en.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return en.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ze(new en(t.slice()))}}function Z_(a,t,r){if(!r)throw new He(we.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function J_(a,t,r,s){if(t===!0&&s===!0)throw new He(we.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)}function s0(a){if(!Ze.isDocumentKey(a))throw new He(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function o0(a){if(Ze.isDocumentKey(a))throw new He(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function W_(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function zf(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":it(12329,{type:typeof a})}function Gs(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new He(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=zf(a);throw new He(we.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return a}function Hn(a,t){const r={typeString:a};return t&&(r.value=t),r}function Hu(a,t){if(!W_(a))throw new He(we.INVALID_ARGUMENT,"JSON must be an object");let r;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in a)){r=`JSON missing required field: '${s}'`;break}const p=a[s];if(l&&typeof p!==l){r=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&p!==c.value){r=`Expected '${s}' field to equal '${c.value}'`;break}}if(r)throw new He(we.INVALID_ARGUMENT,r);return!0}const l0=-62135596800,u0=1e6;class tn{static now(){return tn.fromMillis(Date.now())}static fromDate(t){return tn.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),s=Math.floor((t-1e3*r)*u0);return new tn(r,s)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new He(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new He(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<l0)throw new He(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new He(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/u0}_compareTo(t){return this.seconds===t.seconds?St(this.nanoseconds,t.nanoseconds):St(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Hu(t,tn._jsonSchema))return new tn(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-l0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tn._jsonSchemaVersion="firestore/timestamp/1.0",tn._jsonSchema={type:Hn("string",tn._jsonSchemaVersion),seconds:Hn("number"),nanoseconds:Hn("number")};class ut{static fromTimestamp(t){return new ut(t)}static min(){return new ut(new tn(0,0))}static max(){return new ut(new tn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Pu=-1;function vS(a,t){const r=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=ut.fromTimestamp(s===1e9?new tn(r+1,0):new tn(r,s));return new Ys(l,Ze.empty(),t)}function _S(a){return new Ys(a.readTime,a.key,Pu)}class Ys{constructor(t,r,s){this.readTime=t,this.documentKey=r,this.largestBatchId=s}static min(){return new Ys(ut.min(),Ze.empty(),Pu)}static max(){return new Ys(ut.max(),Ze.empty(),Pu)}}function bS(a,t){let r=a.readTime.compareTo(t.readTime);return r!==0?r:(r=Ze.comparator(a.documentKey,t.documentKey),r!==0?r:St(a.largestBatchId,t.largestBatchId))}const xS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ES{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function kl(a){if(a.code!==we.FAILED_PRECONDITION||a.message!==xS)throw a;Fe("LocalStore","Unexpectedly lost primary lease")}class Te{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&it(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new Te(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(r,c).next(s,l)}}))}toPromise(){return new Promise(((t,r)=>{this.next(t,r)}))}wrapUserFunction(t){try{const r=t();return r instanceof Te?r:Te.resolve(r)}catch(r){return Te.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction((()=>t(r))):Te.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction((()=>t(r))):Te.reject(r)}static resolve(t){return new Te(((r,s)=>{r(t)}))}static reject(t){return new Te(((r,s)=>{s(t)}))}static waitFor(t){return new Te(((r,s)=>{let l=0,c=0,p=!1;t.forEach((b=>{++l,b.next((()=>{++c,p&&c===l&&r()}),(_=>s(_)))})),p=!0,c===l&&r()}))}static or(t){let r=Te.resolve(!1);for(const s of t)r=r.next((l=>l?Te.resolve(l):s()));return r}static forEach(t,r){const s=[];return t.forEach(((l,c)=>{s.push(r.call(this,l,c))})),this.waitFor(s)}static mapArray(t,r){return new Te(((s,l)=>{const c=t.length,p=new Array(c);let b=0;for(let _=0;_<c;_++){const v=_;r(t[v]).next((A=>{p[v]=A,++b,b===c&&s(p)}),(A=>l(A)))}}))}static doWhile(t,r){return new Te(((s,l)=>{const c=()=>{t()===!0?r().next((()=>{c()}),l):s()};c()}))}}function wS(a){const t=a.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Pl(a){return a.name==="IndexedDbTransactionError"}class Bf{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>r.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Bf.ce=-1;const Qm=-1;function qf(a){return a==null}function Ef(a){return a===0&&1/a==-1/0}function TS(a){return typeof a=="number"&&Number.isInteger(a)&&!Ef(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const eb="";function SS(a){let t="";for(let r=0;r<a.length;r++)t.length>0&&(t=c0(t)),t=AS(a.get(r),t);return c0(t)}function AS(a,t){let r=t;const s=a.length;for(let l=0;l<s;l++){const c=a.charAt(l);switch(c){case"\0":r+="";break;case eb:r+="";break;default:r+=c}}return r}function c0(a){return a+eb+""}function f0(a){let t=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&t++;return t}function jo(a,t){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&t(r,a[r])}function tb(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class _n{constructor(t,r){this.comparator=t,this.root=r||cr.EMPTY}insert(t,r){return new _n(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,cr.BLACK,null,null))}remove(t){return new _n(this.comparator,this.root.remove(t,this.comparator).copy(null,null,cr.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(t){let r=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return r+s.left.size;l<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((r,s)=>(t(r,s),!1)))}toString(){const t=[];return this.inorderTraversal(((r,s)=>(t.push(`${r}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ef(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ef(this.root,t,this.comparator,!1)}getReverseIterator(){return new ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ef(this.root,t,this.comparator,!0)}}class ef{constructor(t,r,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=r?s(t.key,r):1,r&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class cr{constructor(t,r,s,l,c){this.key=t,this.value=r,this.color=s??cr.RED,this.left=l??cr.EMPTY,this.right=c??cr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,s,l,c){return new cr(t??this.key,r??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,r,s),null):c===0?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(t,r,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return cr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let s,l=this;if(r(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),r(t,l.key)===0){if(l.right.isEmpty())return cr.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,cr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,cr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw it(43730,{key:this.key,value:this.value});if(this.right.isRed())throw it(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw it(27949);return t+(this.isRed()?0:1)}}cr.EMPTY=null,cr.RED=!0,cr.BLACK=!1;cr.EMPTY=new class{constructor(){this.size=0}get key(){throw it(57766)}get value(){throw it(16141)}get color(){throw it(16727)}get left(){throw it(29726)}get right(){throw it(36894)}copy(t,r,s,l,c){return this}insert(t,r,s){return new cr(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qn{constructor(t){this.comparator=t,this.data=new _n(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((r,s)=>(t(r),!1)))}forEachInRange(t,r){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;r(l.key)}}forEachWhile(t,r){let s;for(s=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new h0(this.data.getIterator())}getIteratorFrom(t){return new h0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach((s=>{r=r.add(s)})),r}isEqual(t){if(!(t instanceof Qn)||this.size!==t.size)return!1;const r=this.data.getIterator(),s=t.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((r=>{t.push(r)})),t}toString(){const t=[];return this.forEach((r=>t.push(r))),"SortedSet("+t.toString()+")"}copy(t){const r=new Qn(this.comparator);return r.data=t,r}}class h0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Za{constructor(t){this.fields=t,t.sort(nr.comparator)}static empty(){return new Za([])}unionWith(t){let r=new Qn(nr.comparator);for(const s of this.fields)r=r.add(s);for(const s of t)r=r.add(s);return new Za(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return El(this.fields,t.fields,((r,s)=>r.isEqual(s)))}}class nb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rr{constructor(t){this.binaryString=t}static fromBase64String(t){const r=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new nb("Invalid base64 string: "+c):c}})(t);return new rr(r)}static fromUint8Array(t){const r=(function(l){let c="";for(let p=0;p<l.length;++p)c+=String.fromCharCode(l[p]);return c})(t);return new rr(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const s=new Uint8Array(r.length);for(let l=0;l<r.length;l++)s[l]=r.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return St(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}rr.EMPTY_BYTE_STRING=new rr("");const RS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(a){if(Bt(!!a,39018),typeof a=="string"){let t=0;const r=RS.exec(a);if(Bt(!!r,46558,{timestamp:a}),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:In(a.seconds),nanos:In(a.nanos)}}function In(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function $s(a){return typeof a=="string"?rr.fromBase64String(a):rr.fromUint8Array(a)}const rb="server_timestamp",ab="__type__",ib="__previous_value__",sb="__local_write_time__";function Ym(a){return(a?.mapValue?.fields||{})[ab]?.stringValue===rb}function Ff(a){const t=a.mapValue.fields[ib];return Ym(t)?Ff(t):t}function Lu(a){const t=Xs(a.mapValue.fields[sb].timestampValue);return new tn(t.seconds,t.nanos)}class NS{constructor(t,r,s,l,c,p,b,_,v,A){this.databaseId=t,this.appId=r,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const wf="(default)";class wl{constructor(t,r){this.projectId=t,this.database=r||wf}static empty(){return new wl("","")}get isDefaultDatabase(){return this.database===wf}isEqual(t){return t instanceof wl&&t.projectId===this.projectId&&t.database===this.database}}const ob="__type__",CS="__max__",tf={mapValue:{}},lb="__vector__",Tf="value";function Zs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Ym(a)?4:IS(a)?9007199254740991:DS(a)?10:11:it(28295,{value:a})}function xi(a,t){if(a===t)return!0;const r=Zs(a);if(r!==Zs(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Lu(a).isEqual(Lu(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const p=Xs(l.timestampValue),b=Xs(c.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(l,c){return $s(l.bytesValue).isEqual($s(c.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(l,c){return In(l.geoPointValue.latitude)===In(c.geoPointValue.latitude)&&In(l.geoPointValue.longitude)===In(c.geoPointValue.longitude)})(a,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return In(l.integerValue)===In(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const p=In(l.doubleValue),b=In(c.doubleValue);return p===b?Ef(p)===Ef(b):isNaN(p)&&isNaN(b)}return!1})(a,t);case 9:return El(a.arrayValue.values||[],t.arrayValue.values||[],xi);case 10:case 11:return(function(l,c){const p=l.mapValue.fields||{},b=c.mapValue.fields||{};if(f0(p)!==f0(b))return!1;for(const _ in p)if(p.hasOwnProperty(_)&&(b[_]===void 0||!xi(p[_],b[_])))return!1;return!0})(a,t);default:return it(52216,{left:a})}}function Uu(a,t){return(a.values||[]).find((r=>xi(r,t)))!==void 0}function Tl(a,t){if(a===t)return 0;const r=Zs(a),s=Zs(t);if(r!==s)return St(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return St(a.booleanValue,t.booleanValue);case 2:return(function(c,p){const b=In(c.integerValue||c.doubleValue),_=In(p.integerValue||p.doubleValue);return b<_?-1:b>_?1:b===_?0:isNaN(b)?isNaN(_)?0:-1:1})(a,t);case 3:return d0(a.timestampValue,t.timestampValue);case 4:return d0(Lu(a),Lu(t));case 5:return mm(a.stringValue,t.stringValue);case 6:return(function(c,p){const b=$s(c),_=$s(p);return b.compareTo(_)})(a.bytesValue,t.bytesValue);case 7:return(function(c,p){const b=c.split("/"),_=p.split("/");for(let v=0;v<b.length&&v<_.length;v++){const A=St(b[v],_[v]);if(A!==0)return A}return St(b.length,_.length)})(a.referenceValue,t.referenceValue);case 8:return(function(c,p){const b=St(In(c.latitude),In(p.latitude));return b!==0?b:St(In(c.longitude),In(p.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return m0(a.arrayValue,t.arrayValue);case 10:return(function(c,p){const b=c.fields||{},_=p.fields||{},v=b[Tf]?.arrayValue,A=_[Tf]?.arrayValue,N=St(v?.values?.length||0,A?.values?.length||0);return N!==0?N:m0(v,A)})(a.mapValue,t.mapValue);case 11:return(function(c,p){if(c===tf.mapValue&&p===tf.mapValue)return 0;if(c===tf.mapValue)return 1;if(p===tf.mapValue)return-1;const b=c.fields||{},_=Object.keys(b),v=p.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let N=0;N<_.length&&N<A.length;++N){const O=mm(_[N],A[N]);if(O!==0)return O;const Q=Tl(b[_[N]],v[A[N]]);if(Q!==0)return Q}return St(_.length,A.length)})(a.mapValue,t.mapValue);default:throw it(23264,{he:r})}}function d0(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return St(a,t);const r=Xs(a),s=Xs(t),l=St(r.seconds,s.seconds);return l!==0?l:St(r.nanos,s.nanos)}function m0(a,t){const r=a.values||[],s=t.values||[];for(let l=0;l<r.length&&l<s.length;++l){const c=Tl(r[l],s[l]);if(c)return c}return St(r.length,s.length)}function Sl(a){return pm(a)}function pm(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(r){const s=Xs(r);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(r){return $s(r).toBase64()})(a.bytesValue):"referenceValue"in a?(function(r){return Ze.fromName(r).toString()})(a.referenceValue):"geoPointValue"in a?(function(r){return`geo(${r.latitude},${r.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(r){let s="[",l=!0;for(const c of r.values||[])l?l=!1:s+=",",s+=pm(c);return s+"]"})(a.arrayValue):"mapValue"in a?(function(r){const s=Object.keys(r.fields||{}).sort();let l="{",c=!0;for(const p of s)c?c=!1:l+=",",l+=`${p}:${pm(r.fields[p])}`;return l+"}"})(a.mapValue):it(61005,{value:a})}function uf(a){switch(Zs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ff(a);return t?16+uf(t):16;case 5:return 2*a.stringValue.length;case 6:return $s(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+uf(c)),0)})(a.arrayValue);case 10:case 11:return(function(s){let l=0;return jo(s.fields,((c,p)=>{l+=c.length+uf(p)})),l})(a.mapValue);default:throw it(13486,{value:a})}}function p0(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function gm(a){return!!a&&"integerValue"in a}function Xm(a){return!!a&&"arrayValue"in a}function g0(a){return!!a&&"nullValue"in a}function y0(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function cf(a){return!!a&&"mapValue"in a}function DS(a){return(a?.mapValue?.fields||{})[ob]?.stringValue===lb}function Cu(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return jo(a.mapValue.fields,((r,s)=>t.mapValue.fields[r]=Cu(s))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Cu(a.arrayValue.values[r]);return t}return{...a}}function IS(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===CS}class Pa{constructor(t){this.value=t}static empty(){return new Pa({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let s=0;s<t.length-1;++s)if(r=(r.mapValue.fields||{})[t.get(s)],!cf(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cu(r)}setAll(t){let r=nr.emptyPath(),s={},l=[];t.forEach(((p,b)=>{if(!r.isImmediateParentOf(b)){const _=this.getFieldsMap(r);this.applyChanges(_,s,l),s={},l=[],r=b.popLast()}p?s[b.lastSegment()]=Cu(p):l.push(b.lastSegment())}));const c=this.getFieldsMap(r);this.applyChanges(c,s,l)}delete(t){const r=this.field(t.popLast());cf(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return xi(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=r.mapValue.fields[t.get(s)];cf(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[t.get(s)]=l),r=l}return r.mapValue.fields}applyChanges(t,r,s){jo(r,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new Pa(Cu(this.value))}}function ub(a){const t=[];return jo(a.fields,((r,s)=>{const l=new nr([r]);if(cf(s)){const c=ub(s.mapValue).fields;if(c.length===0)t.push(l);else for(const p of c)t.push(l.child(p))}else t.push(l)})),new Za(t)}class _r{constructor(t,r,s,l,c,p,b){this.key=t,this.documentType=r,this.version=s,this.readTime=l,this.createTime=c,this.data=p,this.documentState=b}static newInvalidDocument(t){return new _r(t,0,ut.min(),ut.min(),ut.min(),Pa.empty(),0)}static newFoundDocument(t,r,s,l){return new _r(t,1,r,ut.min(),s,l,0)}static newNoDocument(t,r){return new _r(t,2,r,ut.min(),ut.min(),Pa.empty(),0)}static newUnknownDocument(t,r){return new _r(t,3,r,ut.min(),ut.min(),Pa.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Pa.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Pa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ut.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof _r&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new _r(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sf{constructor(t,r){this.position=t,this.inclusive=r}}function v0(a,t,r){let s=0;for(let l=0;l<a.position.length;l++){const c=t[l],p=a.position[l];if(c.field.isKeyField()?s=Ze.comparator(Ze.fromName(p.referenceValue),r.key):s=Tl(p,r.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function _0(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!xi(a.position[r],t.position[r]))return!1;return!0}class Af{constructor(t,r="asc"){this.field=t,this.dir=r}}function jS(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class cb{}class Fn extends cb{constructor(t,r,s){super(),this.field=t,this.op=r,this.value=s}static create(t,r,s){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,s):new MS(t,r,s):r==="array-contains"?new PS(t,s):r==="in"?new LS(t,s):r==="not-in"?new US(t,s):r==="array-contains-any"?new zS(t,s):new Fn(t,r,s)}static createKeyFieldInFilter(t,r,s){return r==="in"?new VS(t,s):new kS(t,s)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Tl(r,this.value)):r!==null&&Zs(this.value)===Zs(r)&&this.matchesComparison(Tl(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return it(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends cb{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new ei(t,r)}matches(t){return fb(this)?this.filters.find((r=>!r.matches(t)))===void 0:this.filters.find((r=>r.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,r)=>t.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fb(a){return a.op==="and"}function hb(a){return OS(a)&&fb(a)}function OS(a){for(const t of a.filters)if(t instanceof ei)return!1;return!0}function ym(a){if(a instanceof Fn)return a.field.canonicalString()+a.op.toString()+Sl(a.value);if(hb(a))return a.filters.map((t=>ym(t))).join(",");{const t=a.filters.map((r=>ym(r))).join(",");return`${a.op}(${t})`}}function db(a,t){return a instanceof Fn?(function(s,l){return l instanceof Fn&&s.op===l.op&&s.field.isEqual(l.field)&&xi(s.value,l.value)})(a,t):a instanceof ei?(function(s,l){return l instanceof ei&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,p,b)=>c&&db(p,l.filters[b])),!0):!1})(a,t):void it(19439)}function mb(a){return a instanceof Fn?(function(r){return`${r.field.canonicalString()} ${r.op} ${Sl(r.value)}`})(a):a instanceof ei?(function(r){return r.op.toString()+" {"+r.getFilters().map(mb).join(" ,")+"}"})(a):"Filter"}class MS extends Fn{constructor(t,r,s){super(t,r,s),this.key=Ze.fromName(s.referenceValue)}matches(t){const r=Ze.comparator(t.key,this.key);return this.matchesComparison(r)}}class VS extends Fn{constructor(t,r){super(t,"in",r),this.keys=pb("in",r)}matches(t){return this.keys.some((r=>r.isEqual(t.key)))}}class kS extends Fn{constructor(t,r){super(t,"not-in",r),this.keys=pb("not-in",r)}matches(t){return!this.keys.some((r=>r.isEqual(t.key)))}}function pb(a,t){return(t.arrayValue?.values||[]).map((r=>Ze.fromName(r.referenceValue)))}class PS extends Fn{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return Xm(r)&&Uu(r.arrayValue,this.value)}}class LS extends Fn{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&Uu(this.value.arrayValue,r)}}class US extends Fn{constructor(t,r){super(t,"not-in",r)}matches(t){if(Uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Uu(this.value.arrayValue,r)}}class zS extends Fn{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!Xm(r)||!r.arrayValue.values)&&r.arrayValue.values.some((s=>Uu(this.value.arrayValue,s)))}}class BS{constructor(t,r=null,s=[],l=[],c=null,p=null,b=null){this.path=t,this.collectionGroup=r,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=p,this.endAt=b,this.Te=null}}function b0(a,t=null,r=[],s=[],l=null,c=null,p=null){return new BS(a,t,r,s,l,c,p)}function $m(a){const t=ft(a);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map((s=>ym(s))).join(","),r+="|ob:",r+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),qf(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>Sl(s))).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>Sl(s))).join(",")),t.Te=r}return t.Te}function Zm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!jS(a.orderBy[r],t.orderBy[r]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!db(a.filters[r],t.filters[r]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!_0(a.startAt,t.startAt)&&_0(a.endAt,t.endAt)}function vm(a){return Ze.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class Ku{constructor(t,r=null,s=[],l=[],c=null,p="F",b=null,_=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=p,this.startAt=b,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qS(a,t,r,s,l,c,p,b){return new Ku(a,t,r,s,l,c,p,b)}function Jm(a){return new Ku(a)}function x0(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function gb(a){return a.collectionGroup!==null}function Du(a){const t=ft(a);if(t.Ie===null){t.Ie=[];const r=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),r.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(p){let b=new Qn(nr.comparator);return p.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(b=b.add(v.field))}))})),b})(t).forEach((c=>{r.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Af(c,s))})),r.has(nr.keyField().canonicalString())||t.Ie.push(new Af(nr.keyField(),s))}return t.Ie}function yi(a){const t=ft(a);return t.Ee||(t.Ee=FS(t,Du(a))),t.Ee}function FS(a,t){if(a.limitType==="F")return b0(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Af(l.field,c)}));const r=a.endAt?new Sf(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Sf(a.startAt.position,a.startAt.inclusive):null;return b0(a.path,a.collectionGroup,t,a.filters,a.limit,r,s)}}function _m(a,t){const r=a.filters.concat([t]);return new Ku(a.path,a.collectionGroup,a.explicitOrderBy.slice(),r,a.limit,a.limitType,a.startAt,a.endAt)}function bm(a,t,r){return new Ku(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,r,a.startAt,a.endAt)}function Hf(a,t){return Zm(yi(a),yi(t))&&a.limitType===t.limitType}function yb(a){return`${$m(yi(a))}|lt:${a.limitType}`}function pl(a){return`Query(target=${(function(r){let s=r.path.canonicalString();return r.collectionGroup!==null&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map((l=>mb(l))).join(", ")}]`),qf(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map((l=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(l))).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map((l=>Sl(l))).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map((l=>Sl(l))).join(",")),`Target(${s})`})(yi(a))}; limitType=${a.limitType})`}function Kf(a,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Ze.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(a,t)&&(function(s,l){for(const c of Du(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(a,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(a,t)&&(function(s,l){return!(s.startAt&&!(function(p,b,_){const v=v0(p,b,_);return p.inclusive?v<=0:v<0})(s.startAt,Du(s),l)||s.endAt&&!(function(p,b,_){const v=v0(p,b,_);return p.inclusive?v>=0:v>0})(s.endAt,Du(s),l))})(a,t)}function HS(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function vb(a){return(t,r)=>{let s=!1;for(const l of Du(a)){const c=KS(l,t,r);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function KS(a,t,r){const s=a.field.isKeyField()?Ze.comparator(t.key,r.key):(function(c,p,b){const _=p.data.field(c),v=b.data.field(c);return _!==null&&v!==null?Tl(_,v):it(42886)})(a.field,t,r);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return it(19790,{direction:a.dir})}}class Oo{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),s=this.inner[r];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,r){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,r]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,r]);l.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[r]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){jo(this.inner,((r,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return tb(this.inner)}size(){return this.innerSize}}const GS=new _n(Ze.comparator);function ts(){return GS}const _b=new _n(Ze.comparator);function Au(...a){let t=_b;for(const r of a)t=t.insert(r.key,r);return t}function bb(a){let t=_b;return a.forEach(((r,s)=>t=t.insert(r,s.overlayedDocument))),t}function So(){return Iu()}function xb(){return Iu()}function Iu(){return new Oo((a=>a.toString()),((a,t)=>a.isEqual(t)))}const QS=new _n(Ze.comparator),YS=new Qn(Ze.comparator);function At(...a){let t=YS;for(const r of a)t=t.add(r);return t}const XS=new Qn(St);function $S(){return XS}function Wm(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ef(t)?"-0":t}}function Eb(a){return{integerValue:""+a}}function ZS(a,t){return TS(t)?Eb(t):Wm(a,t)}class Gf{constructor(){this._=void 0}}function JS(a,t,r){return a instanceof Rf?(function(l,c){const p={fields:{[ab]:{stringValue:rb},[sb]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Ym(c)&&(c=Ff(c)),c&&(p.fields[ib]=c),{mapValue:p}})(r,t):a instanceof zu?Tb(a,t):a instanceof Bu?Sb(a,t):(function(l,c){const p=wb(l,c),b=E0(p)+E0(l.Ae);return gm(p)&&gm(l.Ae)?Eb(b):Wm(l.serializer,b)})(a,t)}function WS(a,t,r){return a instanceof zu?Tb(a,t):a instanceof Bu?Sb(a,t):r}function wb(a,t){return a instanceof Nf?(function(s){return gm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class Rf extends Gf{}class zu extends Gf{constructor(t){super(),this.elements=t}}function Tb(a,t){const r=Ab(t);for(const s of a.elements)r.some((l=>xi(l,s)))||r.push(s);return{arrayValue:{values:r}}}class Bu extends Gf{constructor(t){super(),this.elements=t}}function Sb(a,t){let r=Ab(t);for(const s of a.elements)r=r.filter((l=>!xi(l,s)));return{arrayValue:{values:r}}}class Nf extends Gf{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function E0(a){return In(a.integerValue||a.doubleValue)}function Ab(a){return Xm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function eA(a,t){return a.field.isEqual(t.field)&&(function(s,l){return s instanceof zu&&l instanceof zu||s instanceof Bu&&l instanceof Bu?El(s.elements,l.elements,xi):s instanceof Nf&&l instanceof Nf?xi(s.Ae,l.Ae):s instanceof Rf&&l instanceof Rf})(a.transform,t.transform)}class tA{constructor(t,r){this.version=t,this.transformResults=r}}class vi{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new vi}static exists(t){return new vi(void 0,t)}static updateTime(t){return new vi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ff(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class Qf{}function Rb(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new ep(a.key,vi.none()):new Gu(a.key,a.data,vi.none());{const r=a.data,s=Pa.empty();let l=new Qn(nr.comparator);for(let c of t.fields)if(!l.has(c)){let p=r.field(c);p===null&&c.length>1&&(c=c.popLast(),p=r.field(c)),p===null?s.delete(c):s.set(c,p),l=l.add(c)}return new Mo(a.key,s,new Za(l.toArray()),vi.none())}}function nA(a,t,r){a instanceof Gu?(function(l,c,p){const b=l.value.clone(),_=T0(l.fieldTransforms,c,p.transformResults);b.setAll(_),c.convertToFoundDocument(p.version,b).setHasCommittedMutations()})(a,t,r):a instanceof Mo?(function(l,c,p){if(!ff(l.precondition,c))return void c.convertToUnknownDocument(p.version);const b=T0(l.fieldTransforms,c,p.transformResults),_=c.data;_.setAll(Nb(l)),_.setAll(b),c.convertToFoundDocument(p.version,_).setHasCommittedMutations()})(a,t,r):(function(l,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()})(0,t,r)}function ju(a,t,r,s){return a instanceof Gu?(function(c,p,b,_){if(!ff(c.precondition,p))return b;const v=c.value.clone(),A=S0(c.fieldTransforms,_,p);return v.setAll(A),p.convertToFoundDocument(p.version,v).setHasLocalMutations(),null})(a,t,r,s):a instanceof Mo?(function(c,p,b,_){if(!ff(c.precondition,p))return b;const v=S0(c.fieldTransforms,_,p),A=p.data;return A.setAll(Nb(c)),A.setAll(v),p.convertToFoundDocument(p.version,A).setHasLocalMutations(),b===null?null:b.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((N=>N.field)))})(a,t,r,s):(function(c,p,b){return ff(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b})(a,t,r)}function rA(a,t){let r=null;for(const s of a.fieldTransforms){const l=t.data.field(s.field),c=wb(s.transform,l||null);c!=null&&(r===null&&(r=Pa.empty()),r.set(s.field,c))}return r||null}function w0(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&El(s,l,((c,p)=>eA(c,p)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Gu extends Qf{constructor(t,r,s,l=[]){super(),this.key=t,this.value=r,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Mo extends Qf{constructor(t,r,s,l,c=[]){super(),this.key=t,this.data=r,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Nb(a){const t=new Map;return a.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const s=a.data.field(r);t.set(r,s)}})),t}function T0(a,t,r){const s=new Map;Bt(a.length===r.length,32656,{Re:r.length,Ve:a.length});for(let l=0;l<r.length;l++){const c=a[l],p=c.transform,b=t.data.field(c.field);s.set(c.field,WS(p,b,r[l]))}return s}function S0(a,t,r){const s=new Map;for(const l of a){const c=l.transform,p=r.data.field(l.field);s.set(l.field,JS(c,p,t))}return s}class ep extends Qf{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aA extends Qf{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iA{constructor(t,r,s,l){this.batchId=t,this.localWriteTime=r,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,r){const s=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&nA(c,t,s[l])}}applyToLocalView(t,r){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(r=ju(s,t,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(r=ju(s,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const s=xb();return this.mutations.forEach((l=>{const c=t.get(l.key),p=c.overlayedDocument;let b=this.applyToLocalView(p,c.mutatedFields);b=r.has(l.key)?null:b;const _=Rb(p,b);_!==null&&s.set(l.key,_),p.isValidDocument()||p.convertToNoDocument(ut.min())})),s}keys(){return this.mutations.reduce(((t,r)=>t.add(r.key)),At())}isEqual(t){return this.batchId===t.batchId&&El(this.mutations,t.mutations,((r,s)=>w0(r,s)))&&El(this.baseMutations,t.baseMutations,((r,s)=>w0(r,s)))}}class tp{constructor(t,r,s,l){this.batch=t,this.commitVersion=r,this.mutationResults=s,this.docVersions=l}static from(t,r,s){Bt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return QS})();const c=t.mutations;for(let p=0;p<c.length;p++)l=l.insert(c[p].key,s[p].version);return new tp(t,r,s,l)}}class sA{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class oA{constructor(t,r){this.count=t,this.unchangedNames=r}}var qn,jt;function lA(a){switch(a){case we.OK:return it(64938);case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0;default:return it(15467,{code:a})}}function Cb(a){if(a===void 0)return es("GRPC error has no .code"),we.UNKNOWN;switch(a){case qn.OK:return we.OK;case qn.CANCELLED:return we.CANCELLED;case qn.UNKNOWN:return we.UNKNOWN;case qn.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case qn.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case qn.INTERNAL:return we.INTERNAL;case qn.UNAVAILABLE:return we.UNAVAILABLE;case qn.UNAUTHENTICATED:return we.UNAUTHENTICATED;case qn.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case qn.NOT_FOUND:return we.NOT_FOUND;case qn.ALREADY_EXISTS:return we.ALREADY_EXISTS;case qn.PERMISSION_DENIED:return we.PERMISSION_DENIED;case qn.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case qn.ABORTED:return we.ABORTED;case qn.OUT_OF_RANGE:return we.OUT_OF_RANGE;case qn.UNIMPLEMENTED:return we.UNIMPLEMENTED;case qn.DATA_LOSS:return we.DATA_LOSS;default:return it(39323,{code:a})}}(jt=qn||(qn={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function uA(){return new TextEncoder}const cA=new Ks([4294967295,4294967295],0);function A0(a){const t=uA().encode(a),r=new q_;return r.update(t),new Uint8Array(r.digest())}function R0(a){const t=new DataView(a.buffer),r=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ks([r,s],0),new Ks([l,c],0)]}class np{constructor(t,r,s){if(this.bitmap=t,this.padding=r,this.hashCount=s,r<0||r>=8)throw new Ru(`Invalid padding: ${r}`);if(s<0)throw new Ru(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Ru(`Invalid hash count: ${s}`);if(t.length===0&&r!==0)throw new Ru(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=Ks.fromNumber(this.ge)}ye(t,r,s){let l=t.add(r.multiply(Ks.fromNumber(s)));return l.compare(cA)===1&&(l=new Ks([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=A0(t),[s,l]=R0(r);for(let c=0;c<this.hashCount;c++){const p=this.ye(s,l,c);if(!this.we(p))return!1}return!0}static create(t,r,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),p=new np(c,l,r);return s.forEach((b=>p.insert(b))),p}insert(t){if(this.ge===0)return;const r=A0(t),[s,l]=R0(r);for(let c=0;c<this.hashCount;c++){const p=this.ye(s,l,c);this.Se(p)}}Se(t){const r=Math.floor(t/8),s=t%8;this.bitmap[r]|=1<<s}}class Ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Yf{constructor(t,r,s,l,c){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,r,s){const l=new Map;return l.set(t,Qu.createSynthesizedTargetChangeForCurrentChange(t,r,s)),new Yf(ut.min(),l,new _n(St),ts(),At())}}class Qu{constructor(t,r,s,l,c){this.resumeToken=t,this.current=r,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,r,s){return new Qu(s,r,At(),At(),At())}}class hf{constructor(t,r,s,l){this.be=t,this.removedTargetIds=r,this.key=s,this.De=l}}class Db{constructor(t,r){this.targetId=t,this.Ce=r}}class Ib{constructor(t,r,s=rr.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=r,this.resumeToken=s,this.cause=l}}class N0{constructor(){this.ve=0,this.Fe=C0(),this.Me=rr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=At(),r=At(),s=At();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:r=r.add(l);break;case 1:s=s.add(l);break;default:it(38017,{changeType:c})}})),new Qu(this.Me,this.xe,t,r,s)}qe(){this.Oe=!1,this.Fe=C0()}Qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Bt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class fA{constructor(t){this.Ge=t,this.ze=new Map,this.je=ts(),this.Je=nf(),this.He=nf(),this.Ye=new _n(St)}Ze(t){for(const r of t.be)t.De&&t.De.isFoundDocument()?this.Xe(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,(r=>{const s=this.nt(r);switch(t.state){case 0:this.rt(r)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),s.Le(t.resumeToken));break;default:it(56790,{state:t.state})}}))}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach(((s,l)=>{this.rt(l)&&r(l)}))}st(t){const r=t.targetId,s=t.Ce.count,l=this.ot(r);if(l){const c=l.target;if(vm(c))if(s===0){const p=new Ze(c.path);this.et(r,p,_r.newNoDocument(p,ut.min()))}else Bt(s===1,20013,{expectedCount:s});else{const p=this._t(r);if(p!==s){const b=this.ut(t),_=b?this.ct(b,t,p):1;if(_!==0){this.it(r);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,v)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=r;let p,b;try{p=$s(s).toUint8Array()}catch(_){if(_ instanceof nb)return Do("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{b=new np(p,l,c)}catch(_){return Do(_ instanceof Ru?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return b.ge===0?null:b}ct(t,r,s){return r.Ce.count===s-this.Pt(t,r.targetId)?0:2}Pt(t,r){const s=this.Ge.getRemoteKeysForTarget(r);let l=0;return s.forEach((c=>{const p=this.Ge.ht(),b=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;t.mightContain(b)||(this.et(r,c,null),l++)})),l}Tt(t){const r=new Map;this.ze.forEach(((c,p)=>{const b=this.ot(p);if(b){if(c.current&&vm(b.target)){const _=new Ze(b.target.path);this.It(_).has(p)||this.Et(p,_)||this.et(p,_,_r.newNoDocument(_,t))}c.Be&&(r.set(p,c.ke()),c.qe())}}));let s=At();this.He.forEach(((c,p)=>{let b=!0;p.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(b=!1,!1)})),b&&(s=s.add(c))})),this.je.forEach(((c,p)=>p.setReadTime(t)));const l=new Yf(t,r,this.Ye,this.je,s);return this.je=ts(),this.Je=nf(),this.He=nf(),this.Ye=new _n(St),l}Xe(t,r){if(!this.rt(t))return;const s=this.Et(t,r.key)?2:0;this.nt(t).Qe(r.key,s),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(t)),this.He=this.He.insert(r.key,this.dt(r.key).add(t))}et(t,r,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,r)?l.Qe(r,1):l.$e(r),this.He=this.He.insert(r,this.dt(r).delete(t)),this.He=this.He.insert(r,this.dt(r).add(t)),s&&(this.je=this.je.insert(r,s))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let r=this.ze.get(t);return r||(r=new N0,this.ze.set(t,r)),r}dt(t){let r=this.He.get(t);return r||(r=new Qn(St),this.He=this.He.insert(t,r)),r}It(t){let r=this.Je.get(t);return r||(r=new Qn(St),this.Je=this.Je.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||Fe("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new N0),this.Ge.getRemoteKeysForTarget(t).forEach((r=>{this.et(t,r,null)}))}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function nf(){return new _n(Ze.comparator)}function C0(){return new _n(Ze.comparator)}const hA={asc:"ASCENDING",desc:"DESCENDING"},dA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mA={and:"AND",or:"OR"};class pA{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function xm(a,t){return a.useProto3Json||qf(t)?t:{value:t}}function Cf(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function jb(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function gA(a,t){return Cf(a,t.toTimestamp())}function _i(a){return Bt(!!a,49232),ut.fromTimestamp((function(r){const s=Xs(r);return new tn(s.seconds,s.nanos)})(a))}function rp(a,t){return Em(a,t).canonicalString()}function Em(a,t){const r=(function(l){return new en(["projects",l.projectId,"databases",l.database])})(a).child("documents");return t===void 0?r:r.child(t)}function Ob(a){const t=en.fromString(a);return Bt(Lb(t),10190,{key:t.toString()}),t}function wm(a,t){return rp(a.databaseId,t.path)}function nm(a,t){const r=Ob(t);if(r.get(1)!==a.databaseId.projectId)throw new He(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new He(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new Ze(Vb(r))}function Mb(a,t){return rp(a.databaseId,t)}function yA(a){const t=Ob(a);return t.length===4?en.emptyPath():Vb(t)}function Tm(a){return new en(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Vb(a){return Bt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function D0(a,t,r){return{name:wm(a,t),fields:r.value.mapValue.fields}}function vA(a,t){let r;if("targetChange"in t){t.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:it(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(v,A){return v.useProto3Json?(Bt(A===void 0||typeof A=="string",58123),rr.fromBase64String(A||"")):(Bt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),rr.fromUint8Array(A||new Uint8Array))})(a,t.targetChange.resumeToken),p=t.targetChange.cause,b=p&&(function(v){const A=v.code===void 0?we.UNKNOWN:Cb(v.code);return new He(A,v.message||"")})(p);r=new Ib(s,l,c,b||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=nm(a,s.document.name),c=_i(s.document.updateTime),p=s.document.createTime?_i(s.document.createTime):ut.min(),b=new Pa({mapValue:{fields:s.document.fields}}),_=_r.newFoundDocument(l,c,p,b),v=s.targetIds||[],A=s.removedTargetIds||[];r=new hf(v,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=nm(a,s.document),c=s.readTime?_i(s.readTime):ut.min(),p=_r.newNoDocument(l,c),b=s.removedTargetIds||[];r=new hf([],b,p.key,p)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=nm(a,s.document),c=s.removedTargetIds||[];r=new hf([],c,l,null)}else{if(!("filter"in t))return it(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,p=new oA(l,c),b=s.targetId;r=new Db(b,p)}}return r}function _A(a,t){let r;if(t instanceof Gu)r={update:D0(a,t.key,t.value)};else if(t instanceof ep)r={delete:wm(a,t.key)};else if(t instanceof Mo)r={update:D0(a,t.key,t.data),updateMask:NA(t.fieldMask)};else{if(!(t instanceof aA))return it(16599,{Vt:t.type});r={verify:wm(a,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map((s=>(function(c,p){const b=p.transform;if(b instanceof Rf)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof zu)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof Bu)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Nf)return{fieldPath:p.field.canonicalString(),increment:b.Ae};throw it(20930,{transform:p.transform})})(0,s)))),t.precondition.isNone||(r.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:gA(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:it(27497)})(a,t.precondition)),r}function bA(a,t){return a&&a.length>0?(Bt(t!==void 0,14353),a.map((r=>(function(l,c){let p=l.updateTime?_i(l.updateTime):_i(c);return p.isEqual(ut.min())&&(p=_i(c)),new tA(p,l.transformResults||[])})(r,t)))):[]}function xA(a,t){return{documents:[Mb(a,t.path)]}}function EA(a,t){const r={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=Mb(a,l);const c=(function(v){if(v.length!==0)return Pb(ei.create(v,"and"))})(t.filters);c&&(r.structuredQuery.where=c);const p=(function(v){if(v.length!==0)return v.map((A=>(function(O){return{field:gl(O.field),direction:SA(O.dir)}})(A)))})(t.orderBy);p&&(r.structuredQuery.orderBy=p);const b=xm(a,t.limit);return b!==null&&(r.structuredQuery.limit=b),t.startAt&&(r.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(r.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:r,parent:l}}function wA(a){let t=yA(a.parent);const r=a.structuredQuery,s=r.from?r.from.length:0;let l=null;if(s>0){Bt(s===1,65062);const A=r.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];r.where&&(c=(function(N){const O=kb(N);return O instanceof ei&&hb(O)?O.getFilters():[O]})(r.where));let p=[];r.orderBy&&(p=(function(N){return N.map((O=>(function(me){return new Af(yl(me.field),(function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(me.direction))})(O)))})(r.orderBy));let b=null;r.limit&&(b=(function(N){let O;return O=typeof N=="object"?N.value:N,qf(O)?null:O})(r.limit));let _=null;r.startAt&&(_=(function(N){const O=!!N.before,Q=N.values||[];return new Sf(Q,O)})(r.startAt));let v=null;return r.endAt&&(v=(function(N){const O=!N.before,Q=N.values||[];return new Sf(Q,O)})(r.endAt)),qS(t,l,p,c,b,"F",_,v)}function TA(a,t){const r=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return it(28987,{purpose:l})}})(t.purpose);return r==null?null:{"goog-listen-tags":r}}function kb(a){return a.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=yl(r.unaryFilter.field);return Fn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=yl(r.unaryFilter.field);return Fn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=yl(r.unaryFilter.field);return Fn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=yl(r.unaryFilter.field);return Fn.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return it(61313);default:return it(60726)}})(a):a.fieldFilter!==void 0?(function(r){return Fn.create(yl(r.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return it(58110);default:return it(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(r){return ei.create(r.compositeFilter.filters.map((s=>kb(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return it(1026)}})(r.compositeFilter.op))})(a):it(30097,{filter:a})}function SA(a){return hA[a]}function AA(a){return dA[a]}function RA(a){return mA[a]}function gl(a){return{fieldPath:a.canonicalString()}}function yl(a){return nr.fromServerFormat(a.fieldPath)}function Pb(a){return a instanceof Fn?(function(r){if(r.op==="=="){if(y0(r.value))return{unaryFilter:{field:gl(r.field),op:"IS_NAN"}};if(g0(r.value))return{unaryFilter:{field:gl(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(y0(r.value))return{unaryFilter:{field:gl(r.field),op:"IS_NOT_NAN"}};if(g0(r.value))return{unaryFilter:{field:gl(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gl(r.field),op:AA(r.op),value:r.value}}})(a):a instanceof ei?(function(r){const s=r.getFilters().map((l=>Pb(l)));return s.length===1?s[0]:{compositeFilter:{op:RA(r.op),filters:s}}})(a):it(54877,{filter:a})}function NA(a){const t=[];return a.fields.forEach((r=>t.push(r.canonicalString()))),{fieldPaths:t}}function Lb(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class qs{constructor(t,r,s,l,c=ut.min(),p=ut.min(),b=rr.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=r,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b,this.expectedCount=_}withSequenceNumber(t){return new qs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class CA{constructor(t){this.yt=t}}function DA(a){const t=wA({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?bm(t,t.limit,"L"):t}class IA{constructor(){this.Cn=new jA}addToCollectionParentIndex(t,r){return this.Cn.add(r),Te.resolve()}getCollectionParents(t,r){return Te.resolve(this.Cn.getEntries(r))}addFieldIndex(t,r){return Te.resolve()}deleteFieldIndex(t,r){return Te.resolve()}deleteAllFieldIndexes(t){return Te.resolve()}createTargetIndexes(t,r){return Te.resolve()}getDocumentsMatchingTarget(t,r){return Te.resolve(null)}getIndexType(t,r){return Te.resolve(0)}getFieldIndexes(t,r){return Te.resolve([])}getNextCollectionGroupToUpdate(t){return Te.resolve(null)}getMinOffset(t,r){return Te.resolve(Ys.min())}getMinOffsetFromCollectionGroup(t,r){return Te.resolve(Ys.min())}updateCollectionGroup(t,r,s){return Te.resolve()}updateIndexEntries(t,r){return Te.resolve()}}class jA{constructor(){this.index={}}add(t){const r=t.lastSegment(),s=t.popLast(),l=this.index[r]||new Qn(en.comparator),c=!l.has(s);return this.index[r]=l.add(s),c}has(t){const r=t.lastSegment(),s=t.popLast(),l=this.index[r];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Qn(en.comparator)).toArray()}}const I0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ub=41943040;class Qr{static withCacheSize(t){return new Qr(t,Qr.DEFAULT_COLLECTION_PERCENTILE,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}}Qr.DEFAULT_COLLECTION_PERCENTILE=10,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qr.DEFAULT=new Qr(Ub,Qr.DEFAULT_COLLECTION_PERCENTILE,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qr.DISABLED=new Qr(-1,0,0);class Al{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Al(0)}static cr(){return new Al(-1)}}const j0="LruGarbageCollector",OA=1048576;function O0([a,t],[r,s]){const l=St(a,r);return l===0?St(t,s):l}class MA{constructor(t){this.Ir=t,this.buffer=new Qn(O0),this.Er=0}dr(){return++this.Er}Ar(t){const r=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();O0(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class VA{constructor(t,r,s){this.garbageCollector=t,this.asyncQueue=r,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Fe(j0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Pl(r)?Fe(j0,"Ignoring IndexedDB error during garbage collection: ",r):await kl(r)}await this.Vr(3e5)}))}}class kA{constructor(t,r){this.mr=t,this.params=r}calculateTargetCount(t,r){return this.mr.gr(t).next((s=>Math.floor(r/100*s)))}nthSequenceNumber(t,r){if(r===0)return Te.resolve(Bf.ce);const s=new MA(r);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,r,s){return this.mr.removeTargets(t,r,s)}removeOrphanedDocuments(t,r){return this.mr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(I0)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),I0):this.yr(t,r)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,r){let s,l,c,p,b,_,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((N=>(N>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),l=this.params.maximumSequenceNumbersToCollect):l=N,p=Date.now(),this.nthSequenceNumber(t,l)))).next((N=>(s=N,b=Date.now(),this.removeTargets(t,s,r)))).next((N=>(c=N,_=Date.now(),this.removeOrphanedDocuments(t,s)))).next((N=>(v=Date.now(),ml()<=Ot.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-A}ms
	Determined least recently used ${l} in `+(b-p)+`ms
	Removed ${c} targets in `+(_-b)+`ms
	Removed ${N} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:N}))))}}function PA(a,t){return new kA(a,t)}class LA{constructor(){this.changes=new Oo((t=>t.toString()),((t,r)=>t.isEqual(r))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,_r.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const s=this.changes.get(r);return s!==void 0?Te.resolve(s):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class UA{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}class zA{constructor(t,r,s,l){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,r){let s=null;return this.documentOverlayCache.getOverlay(t,r).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,r)))).next((l=>(s!==null&&ju(s.mutation,l,Za.empty(),tn.now()),l)))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next((s=>this.getLocalViewOfDocuments(t,s,At()).next((()=>s))))}getLocalViewOfDocuments(t,r,s=At()){const l=So();return this.populateOverlays(t,l,r).next((()=>this.computeViews(t,r,l,s).next((c=>{let p=Au();return c.forEach(((b,_)=>{p=p.insert(b,_.overlayedDocument)})),p}))))}getOverlayedDocuments(t,r){const s=So();return this.populateOverlays(t,s,r).next((()=>this.computeViews(t,r,s,At())))}populateOverlays(t,r,s){const l=[];return s.forEach((c=>{r.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((p,b)=>{r.set(p,b)}))}))}computeViews(t,r,s,l){let c=ts();const p=Iu(),b=(function(){return Iu()})();return r.forEach(((_,v)=>{const A=s.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof Mo)?c=c.insert(v.key,v):A!==void 0?(p.set(v.key,A.mutation.getFieldMask()),ju(A.mutation,v,A.mutation.getFieldMask(),tn.now())):p.set(v.key,Za.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((v,A)=>p.set(v,A))),r.forEach(((v,A)=>b.set(v,new UA(A,p.get(v)??null)))),b)))}recalculateAndSaveOverlays(t,r){const s=Iu();let l=new _n(((p,b)=>p-b)),c=At();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next((p=>{for(const b of p)b.keys().forEach((_=>{const v=r.get(_);if(v===null)return;let A=s.get(_)||Za.empty();A=b.applyToLocalView(v,A),s.set(_,A);const N=(l.get(b.batchId)||At()).add(_);l=l.insert(b.batchId,N)}))})).next((()=>{const p=[],b=l.getReverseIterator();for(;b.hasNext();){const _=b.getNext(),v=_.key,A=_.value,N=xb();A.forEach((O=>{if(!c.has(O)){const Q=Rb(r.get(O),s.get(O));Q!==null&&N.set(O,Q),c=c.add(O)}})),p.push(this.documentOverlayCache.saveOverlays(t,v,N))}return Te.waitFor(p)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,r,s,l){return(function(p){return Ze.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):gb(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,s,l):this.getDocumentsMatchingCollectionQuery(t,r,s,l)}getNextDocuments(t,r,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,s,l).next((c=>{const p=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,s.largestBatchId,l-c.size):Te.resolve(So());let b=Pu,_=c;return p.next((v=>Te.forEach(v,((A,N)=>(b<N.largestBatchId&&(b=N.largestBatchId),c.get(A)?Te.resolve():this.remoteDocumentCache.getEntry(t,A).next((O=>{_=_.insert(A,O)}))))).next((()=>this.populateOverlays(t,v,c))).next((()=>this.computeViews(t,_,v,At()))).next((A=>({batchId:b,changes:bb(A)})))))}))}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new Ze(r)).next((s=>{let l=Au();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,r,s,l){const c=r.collectionGroup;let p=Au();return this.indexManager.getCollectionParents(t,c).next((b=>Te.forEach(b,(_=>{const v=(function(N,O){return new Ku(O,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)})(r,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,s,l).next((A=>{A.forEach(((N,O)=>{p=p.insert(N,O)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(t,r,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,s.largestBatchId).next((p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,s,c,l)))).next((p=>{c.forEach(((_,v)=>{const A=v.getKey();p.get(A)===null&&(p=p.insert(A,_r.newInvalidDocument(A)))}));let b=Au();return p.forEach(((_,v)=>{const A=c.get(_);A!==void 0&&ju(A.mutation,v,Za.empty(),tn.now()),Kf(r,v)&&(b=b.insert(_,v))})),b}))}}class BA{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,r){return Te.resolve(this.Lr.get(r))}saveBundleMetadata(t,r){return this.Lr.set(r.id,(function(l){return{id:l.id,version:l.version,createTime:_i(l.createTime)}})(r)),Te.resolve()}getNamedQuery(t,r){return Te.resolve(this.kr.get(r))}saveNamedQuery(t,r){return this.kr.set(r.name,(function(l){return{name:l.name,query:DA(l.bundledQuery),readTime:_i(l.readTime)}})(r)),Te.resolve()}}class qA{constructor(){this.overlays=new _n(Ze.comparator),this.qr=new Map}getOverlay(t,r){return Te.resolve(this.overlays.get(r))}getOverlays(t,r){const s=So();return Te.forEach(r,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,r,s){return s.forEach(((l,c)=>{this.St(t,r,c)})),Te.resolve()}removeOverlaysForBatchId(t,r,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),Te.resolve()}getOverlaysForCollection(t,r,s){const l=So(),c=r.length+1,p=new Ze(r.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const _=b.getNext().value,v=_.getKey();if(!r.isPrefixOf(v.path))break;v.path.length===c&&_.largestBatchId>s&&l.set(_.getKey(),_)}return Te.resolve(l)}getOverlaysForCollectionGroup(t,r,s,l){let c=new _n(((v,A)=>v-A));const p=this.overlays.getIterator();for(;p.hasNext();){const v=p.getNext().value;if(v.getKey().getCollectionGroup()===r&&v.largestBatchId>s){let A=c.get(v.largestBatchId);A===null&&(A=So(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const b=So(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,A)=>b.set(v,A))),!(b.size()>=l)););return Te.resolve(b)}St(t,r,s){const l=this.overlays.get(s.key);if(l!==null){const p=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new sA(r,s));let c=this.qr.get(r);c===void 0&&(c=At(),this.qr.set(r,c)),this.qr.set(r,c.add(s.key))}}class FA{constructor(){this.sessionToken=rr.EMPTY_BYTE_STRING}getSessionToken(t){return Te.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,Te.resolve()}}class ap{constructor(){this.Qr=new Qn(tr.$r),this.Ur=new Qn(tr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,r){const s=new tr(t,r);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,r){t.forEach((s=>this.addReference(s,r)))}removeReference(t,r){this.Gr(new tr(t,r))}zr(t,r){t.forEach((s=>this.removeReference(s,r)))}jr(t){const r=new Ze(new en([])),s=new tr(r,t),l=new tr(r,t+1),c=[];return this.Ur.forEachInRange([s,l],(p=>{this.Gr(p),c.push(p.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const r=new Ze(new en([])),s=new tr(r,t),l=new tr(r,t+1);let c=At();return this.Ur.forEachInRange([s,l],(p=>{c=c.add(p.key)})),c}containsKey(t){const r=new tr(t,0),s=this.Qr.firstAfterOrEqual(r);return s!==null&&t.isEqual(s.key)}}class tr{constructor(t,r){this.key=t,this.Yr=r}static $r(t,r){return Ze.comparator(t.key,r.key)||St(t.Yr,r.Yr)}static Kr(t,r){return St(t.Yr,r.Yr)||Ze.comparator(t.key,r.key)}}class HA{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Qn(tr.$r)}checkEmpty(t){return Te.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new iA(c,r,s,l);this.mutationQueue.push(p);for(const b of l)this.Zr=this.Zr.add(new tr(b.key,c)),this.indexManager.addToCollectionParentIndex(t,b.key.path.popLast());return Te.resolve(p)}lookupMutationBatch(t,r){return Te.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(t,r){const s=r+1,l=this.ei(s),c=l<0?0:l;return Te.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(this.mutationQueue.length===0?Qm:this.tr-1)}getAllMutationBatches(t){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const s=new tr(r,0),l=new tr(r,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(p=>{const b=this.Xr(p.Yr);c.push(b)})),Te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,r){let s=new Qn(St);return r.forEach((l=>{const c=new tr(l,0),p=new tr(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,p],(b=>{s=s.add(b.Yr)}))})),Te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,r){const s=r.path,l=s.length+1;let c=s;Ze.isDocumentKey(c)||(c=c.child(""));const p=new tr(new Ze(c),0);let b=new Qn(St);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===l&&(b=b.add(_.Yr)),!0)}),p),Te.resolve(this.ti(b))}ti(t){const r=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&r.push(l)})),r}removeMutationBatch(t,r){Bt(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Te.forEach(r.mutations,(l=>{const c=new tr(l.key,r.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,r){const s=new tr(r,0),l=this.Zr.firstAfterOrEqual(s);return Te.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Te.resolve()}ni(t,r){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const r=this.ei(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class KA{constructor(t){this.ri=t,this.docs=(function(){return new _n(Ze.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const s=r.key,l=this.docs.get(s),c=l?l.size:0,p=this.ri(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const s=this.docs.get(r);return Te.resolve(s?s.document.mutableCopy():_r.newInvalidDocument(r))}getEntries(t,r){let s=ts();return r.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():_r.newInvalidDocument(l))})),Te.resolve(s)}getDocumentsMatchingQuery(t,r,s,l){let c=ts();const p=r.path,b=new Ze(p.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(b);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!p.isPrefixOf(v.path))break;v.path.length>p.length+1||bS(_S(A),s)<=0||(l.has(A.key)||Kf(r,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Te.resolve(c)}getAllFromCollectionGroup(t,r,s,l){it(9500)}ii(t,r){return Te.forEach(this.docs,(s=>r(s)))}newChangeBuffer(t){return new GA(this)}getSize(t){return Te.resolve(this.size)}}class GA extends LA{constructor(t){super(),this.Nr=t}applyChanges(t){const r=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?r.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),Te.waitFor(r)}getFromCache(t,r){return this.Nr.getEntry(t,r)}getAllFromCache(t,r){return this.Nr.getEntries(t,r)}}class QA{constructor(t){this.persistence=t,this.si=new Oo((r=>$m(r)),Zm),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this.oi=0,this._i=new ap,this.targetCount=0,this.ai=Al.ur()}forEachTarget(t,r){return this.si.forEach(((s,l)=>r(l))),Te.resolve()}getLastRemoteSnapshotVersion(t){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Te.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(t,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.oi&&(this.oi=r),Te.resolve()}Pr(t){this.si.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ai=new Al(r),this.highestTargetId=r),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,r){return this.Pr(r),this.targetCount+=1,Te.resolve()}updateTargetData(t,r){return this.Pr(r),Te.resolve()}removeTargetData(t,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,Te.resolve()}removeTargets(t,r,s){let l=0;const c=[];return this.si.forEach(((p,b)=>{b.sequenceNumber<=r&&s.get(b.targetId)===null&&(this.si.delete(p),c.push(this.removeMatchingKeysForTargetId(t,b.targetId)),l++)})),Te.waitFor(c).next((()=>l))}getTargetCount(t){return Te.resolve(this.targetCount)}getTargetData(t,r){const s=this.si.get(r)||null;return Te.resolve(s)}addMatchingKeys(t,r,s){return this._i.Wr(r,s),Te.resolve()}removeMatchingKeys(t,r,s){this._i.zr(r,s);const l=this.persistence.referenceDelegate,c=[];return l&&r.forEach((p=>{c.push(l.markPotentiallyOrphaned(t,p))})),Te.waitFor(c)}removeMatchingKeysForTargetId(t,r){return this._i.jr(r),Te.resolve()}getMatchingKeysForTargetId(t,r){const s=this._i.Hr(r);return Te.resolve(s)}containsKey(t,r){return Te.resolve(this._i.containsKey(r))}}class zb{constructor(t,r){this.ui={},this.overlays={},this.ci=new Bf(0),this.li=!1,this.li=!0,this.hi=new FA,this.referenceDelegate=t(this),this.Pi=new QA(this),this.indexManager=new IA,this.remoteDocumentCache=(function(l){return new KA(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new CA(r),this.Ii=new BA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new qA,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let s=this.ui[t.toKey()];return s||(s=new HA(r,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,r,s){Fe("MemoryPersistence","Starting transaction:",t);const l=new YA(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,r){return Te.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,r))))}}class YA extends ES{constructor(t){super(),this.currentSequenceNumber=t}}class ip{constructor(t){this.persistence=t,this.Ri=new ap,this.Vi=null}static mi(t){return new ip(t)}get fi(){if(this.Vi)return this.Vi;throw it(60996)}addReference(t,r,s){return this.Ri.addReference(s,r),this.fi.delete(s.toString()),Te.resolve()}removeReference(t,r,s){return this.Ri.removeReference(s,r),this.fi.add(s.toString()),Te.resolve()}markPotentiallyOrphaned(t,r){return this.fi.add(r.toString()),Te.resolve()}removeTarget(t,r){this.Ri.jr(r.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,r.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(t,r)))}Ei(){this.Vi=new Set}di(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.fi,(s=>{const l=Ze.fromPath(s);return this.gi(t,l).next((c=>{c||r.removeEntry(l,ut.min())}))})).next((()=>(this.Vi=null,r.apply(t))))}updateLimboDocument(t,r){return this.gi(t,r).next((s=>{s?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(t){return 0}gi(t,r){return Te.or([()=>Te.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ai(t,r)])}}class Df{constructor(t,r){this.persistence=t,this.pi=new Oo((s=>SS(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=PA(this,r)}static mi(t,r){return new Df(t,r)}Ei(){}di(t){return Te.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}gr(t){const r=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>r.next((l=>s+l))))}wr(t){let r=0;return this.pr(t,(s=>{r++})).next((()=>r))}pr(t,r){return Te.forEach(this.pi,((s,l)=>this.br(t,s,l).next((c=>c?Te.resolve():r(l)))))}removeTargets(t,r,s){return this.persistence.getTargetCache().removeTargets(t,r,s)}removeOrphanedDocuments(t,r){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(p=>this.br(t,p,r).next((b=>{b||(s++,c.removeEntry(p,ut.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,r){return this.pi.set(r,t.currentSequenceNumber),Te.resolve()}removeTarget(t,r){const s=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,r,s){return this.pi.set(s,t.currentSequenceNumber),Te.resolve()}removeReference(t,r,s){return this.pi.set(s,t.currentSequenceNumber),Te.resolve()}updateLimboDocument(t,r){return this.pi.set(r,t.currentSequenceNumber),Te.resolve()}Ti(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=uf(t.data.value)),r}br(t,r,s){return Te.or([()=>this.persistence.Ai(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const l=this.pi.get(r);return Te.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class sp{constructor(t,r,s,l){this.targetId=t,this.fromCache=r,this.Es=s,this.ds=l}static As(t,r){let s=At(),l=At();for(const c of r.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new sp(t,r.fromCache,s,l)}}class XA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class $A{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return FT()?8:wS(BT())>0?6:4})()}initialize(t,r){this.ps=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,s,l){const c={result:null};return this.ys(t,r).next((p=>{c.result=p})).next((()=>{if(!c.result)return this.ws(t,r,l,s).next((p=>{c.result=p}))})).next((()=>{if(c.result)return;const p=new XA;return this.Ss(t,r,p).next((b=>{if(c.result=b,this.Vs)return this.bs(t,r,p,b.size)}))})).next((()=>c.result))}bs(t,r,s,l){return s.documentReadCount<this.fs?(ml()<=Ot.DEBUG&&Fe("QueryEngine","SDK will not create cache indexes for query:",pl(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Te.resolve()):(ml()<=Ot.DEBUG&&Fe("QueryEngine","Query:",pl(r),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(ml()<=Ot.DEBUG&&Fe("QueryEngine","The SDK decides to create cache indexes for query:",pl(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,yi(r))):Te.resolve())}ys(t,r){if(x0(r))return Te.resolve(null);let s=yi(r);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(r.limit!==null&&l===1&&(r=bm(r,null,"F"),s=yi(r)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const p=At(...c);return this.ps.getDocuments(t,p).next((b=>this.indexManager.getMinOffset(t,s).next((_=>{const v=this.Ds(r,b);return this.Cs(r,v,p,_.readTime)?this.ys(t,bm(r,null,"F")):this.vs(t,v,r,_)}))))})))))}ws(t,r,s,l){return x0(r)||l.isEqual(ut.min())?Te.resolve(null):this.ps.getDocuments(t,s).next((c=>{const p=this.Ds(r,c);return this.Cs(r,p,s,l)?Te.resolve(null):(ml()<=Ot.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),pl(r)),this.vs(t,p,r,vS(l,Pu)).next((b=>b)))}))}Ds(t,r){let s=new Qn(vb(t));return r.forEach(((l,c)=>{Kf(t,c)&&(s=s.add(c))})),s}Cs(t,r,s,l){if(t.limit===null)return!1;if(s.size!==r.size)return!0;const c=t.limitType==="F"?r.last():r.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,r,s){return ml()<=Ot.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",pl(r)),this.ps.getDocumentsMatchingQuery(t,r,Ys.min(),s)}vs(t,r,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((c=>(r.forEach((p=>{c=c.insert(p.key,p)})),c)))}}const op="LocalStore",ZA=3e8;class JA{constructor(t,r,s,l){this.persistence=t,this.Fs=r,this.serializer=l,this.Ms=new _n(St),this.xs=new Oo((c=>$m(c)),Zm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new zA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>t.collect(r,this.Ms)))}}function WA(a,t,r,s){return new JA(a,t,r,s)}async function Bb(a,t){const r=ft(a);return await r.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return r.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,r.Bs(t),r.mutationQueue.getAllMutationBatches(s)))).next((c=>{const p=[],b=[];let _=At();for(const v of l){p.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of c){b.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return r.localDocuments.getDocuments(s,_).next((v=>({Ls:v,removedBatchIds:p,addedBatchIds:b})))}))}))}function eR(a,t){const r=ft(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(b,_,v,A){const N=v.batch,O=N.keys();let Q=Te.resolve();return O.forEach((me=>{Q=Q.next((()=>A.getEntry(_,me))).next((ue=>{const te=v.docVersions.get(me);Bt(te!==null,48541),ue.version.compareTo(te)<0&&(N.applyToRemoteDocument(ue,v),ue.isValidDocument()&&(ue.setReadTime(v.commitVersion),A.addEntry(ue)))}))})),Q.next((()=>b.mutationQueue.removeMutationBatch(_,N)))})(r,s,t,c).next((()=>c.apply(s))).next((()=>r.mutationQueue.performConsistencyCheck(s))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(b){let _=At();for(let v=0;v<b.mutationResults.length;++v)b.mutationResults[v].transformResults.length>0&&(_=_.add(b.batch.mutations[v].key));return _})(t)))).next((()=>r.localDocuments.getDocuments(s,l)))}))}function qb(a){const t=ft(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>t.Pi.getLastRemoteSnapshotVersion(r)))}function tR(a,t){const r=ft(a),s=t.snapshotVersion;let l=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const p=r.Ns.newChangeBuffer({trackRemovals:!0});l=r.Ms;const b=[];t.targetChanges.forEach(((A,N)=>{const O=l.get(N);if(!O)return;b.push(r.Pi.removeMatchingKeys(c,A.removedDocuments,N).next((()=>r.Pi.addMatchingKeys(c,A.addedDocuments,N))));let Q=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(N)!==null?Q=Q.withResumeToken(rr.EMPTY_BYTE_STRING,ut.min()).withLastLimboFreeSnapshotVersion(ut.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,s)),l=l.insert(N,Q),(function(ue,te,Y){return ue.resumeToken.approximateByteSize()===0||te.snapshotVersion.toMicroseconds()-ue.snapshotVersion.toMicroseconds()>=ZA?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(O,Q,A)&&b.push(r.Pi.updateTargetData(c,Q))}));let _=ts(),v=At();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&b.push(r.persistence.referenceDelegate.updateLimboDocument(c,A))})),b.push(nR(c,p,t.documentUpdates).next((A=>{_=A.ks,v=A.qs}))),!s.isEqual(ut.min())){const A=r.Pi.getLastRemoteSnapshotVersion(c).next((N=>r.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));b.push(A)}return Te.waitFor(b).next((()=>p.apply(c))).next((()=>r.localDocuments.getLocalViewOfDocuments(c,_,v))).next((()=>_))})).then((c=>(r.Ms=l,c)))}function nR(a,t,r){let s=At(),l=At();return r.forEach((c=>s=s.add(c))),t.getEntries(a,s).next((c=>{let p=ts();return r.forEach(((b,_)=>{const v=c.get(b);_.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(b)),_.isNoDocument()&&_.version.isEqual(ut.min())?(t.removeEntry(b,_.readTime),p=p.insert(b,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(_),p=p.insert(b,_)):Fe(op,"Ignoring outdated watch update for ",b,". Current version:",v.version," Watch version:",_.version)})),{ks:p,qs:l}}))}function rR(a,t){const r=ft(a);return r.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Qm),r.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function aR(a,t){const r=ft(a);return r.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return r.Pi.getTargetData(s,t).next((c=>c?(l=c,Te.resolve(l)):r.Pi.allocateTargetId(s).next((p=>(l=new qs(t,p,"TargetPurposeListen",s.currentSequenceNumber),r.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=r.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(s.targetId,s),r.xs.set(t,s.targetId)),s}))}async function Sm(a,t,r){const s=ft(a),l=s.Ms.get(t),c=r?"readwrite":"readwrite-primary";try{r||await s.persistence.runTransaction("Release target",c,(p=>s.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!Pl(p))throw p;Fe(op,`Failed to update sequence numbers for target ${t}: ${p}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function M0(a,t,r){const s=ft(a);let l=ut.min(),c=At();return s.persistence.runTransaction("Execute query","readwrite",(p=>(function(_,v,A){const N=ft(_),O=N.xs.get(A);return O!==void 0?Te.resolve(N.Ms.get(O)):N.Pi.getTargetData(v,A)})(s,p,yi(t)).next((b=>{if(b)return l=b.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(p,b.targetId).next((_=>{c=_}))})).next((()=>s.Fs.getDocumentsMatchingQuery(p,t,r?l:ut.min(),r?c:At()))).next((b=>(iR(s,HS(t),b),{documents:b,Qs:c})))))}function iR(a,t,r){let s=a.Os.get(t)||ut.min();r.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),a.Os.set(t,s)}class V0{constructor(){this.activeTargetIds=$S()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class sR{constructor(){this.Mo=new V0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,s){}addLocalQueryTarget(t,r=!0){return r&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,r,s){this.xo[t]=r}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new V0,Promise.resolve()}handleUserChange(t,r,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class oR{Oo(t){}shutdown(){}}const k0="ConnectivityMonitor";class P0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Fe(k0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Fe(k0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let rf=null;function Am(){return rf===null?rf=(function(){return 268435456+Math.round(2147483648*Math.random())})():rf++,"0x"+rf.toString(16)}const rm="RestConnection",lR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===wf?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,r,s,l,c){const p=Am(),b=this.zo(t,r.toUriEncodedString());Fe(rm,`Sending RPC '${t}' ${p}:`,b,s);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:v}=new URL(b),A=Hm(v);return this.Jo(t,b,_,s,A).then((N=>(Fe(rm,`Received RPC '${t}' ${p}: `,N),N)),(N=>{throw Do(rm,`RPC '${t}' ${p} failed with error: `,N,"url: ",b,"request:",s),N}))}Ho(t,r,s,l,c,p){return this.Go(t,r,s,l,c)}jo(t,r,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}zo(t,r){const s=lR[t];return`${this.Uo}/v1/${r}:${s}`}terminate(){}}class cR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const yr="WebChannelConnection";class fR extends uR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,r,s,l,c){const p=Am();return new Promise(((b,_)=>{const v=new F_;v.setWithCredentials(!0),v.listenOnce(H_.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case lf.NO_ERROR:const N=v.getResponseJson();Fe(yr,`XHR for RPC '${t}' ${p} received:`,JSON.stringify(N)),b(N);break;case lf.TIMEOUT:Fe(yr,`RPC '${t}' ${p} timed out`),_(new He(we.DEADLINE_EXCEEDED,"Request time out"));break;case lf.HTTP_ERROR:const O=v.getStatus();if(Fe(yr,`RPC '${t}' ${p} failed with status:`,O,"response text:",v.getResponseText()),O>0){let Q=v.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const me=Q?.error;if(me&&me.status&&me.message){const ue=(function(Y){const re=Y.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(re)>=0?re:we.UNKNOWN})(me.status);_(new He(ue,me.message))}else _(new He(we.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new He(we.UNAVAILABLE,"Connection failed."));break;default:it(9055,{l_:t,streamId:p,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{Fe(yr,`RPC '${t}' ${p} completed.`)}}));const A=JSON.stringify(l);Fe(yr,`RPC '${t}' ${p} sending request:`,l),v.send(r,"POST",A,s,15)}))}T_(t,r,s){const l=Am(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],p=Q_(),b=G_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,r,s),_.encodeInitMessageHeaders=!0;const A=c.join("");Fe(yr,`Creating RPC '${t}' stream ${l}: ${A}`,_);const N=p.createWebChannel(A,_);this.I_(N);let O=!1,Q=!1;const me=new cR({Yo:te=>{Q?Fe(yr,`Not sending because RPC '${t}' stream ${l} is closed:`,te):(O||(Fe(yr,`Opening RPC '${t}' stream ${l} transport.`),N.open(),O=!0),Fe(yr,`RPC '${t}' stream ${l} sending:`,te),N.send(te))},Zo:()=>N.close()}),ue=(te,Y,re)=>{te.listen(Y,(pe=>{try{re(pe)}catch(Ne){setTimeout((()=>{throw Ne}),0)}}))};return ue(N,Su.EventType.OPEN,(()=>{Q||(Fe(yr,`RPC '${t}' stream ${l} transport opened.`),me.o_())})),ue(N,Su.EventType.CLOSE,(()=>{Q||(Q=!0,Fe(yr,`RPC '${t}' stream ${l} transport closed`),me.a_(),this.E_(N))})),ue(N,Su.EventType.ERROR,(te=>{Q||(Q=!0,Do(yr,`RPC '${t}' stream ${l} transport errored. Name:`,te.name,"Message:",te.message),me.a_(new He(we.UNAVAILABLE,"The operation could not be completed")))})),ue(N,Su.EventType.MESSAGE,(te=>{if(!Q){const Y=te.data[0];Bt(!!Y,16349);const re=Y,pe=re?.error||re[0]?.error;if(pe){Fe(yr,`RPC '${t}' stream ${l} received error:`,pe);const Ne=pe.status;let qe=(function(j){const V=qn[j];if(V!==void 0)return Cb(V)})(Ne),Ye=pe.message;qe===void 0&&(qe=we.INTERNAL,Ye="Unknown error status: "+Ne+" with message "+pe.message),Q=!0,me.a_(new He(qe,Ye)),N.close()}else Fe(yr,`RPC '${t}' stream ${l} received:`,Y),me.u_(Y)}})),ue(b,K_.STAT_EVENT,(te=>{te.stat===dm.PROXY?Fe(yr,`RPC '${t}' stream ${l} detected buffering proxy`):te.stat===dm.NOPROXY&&Fe(yr,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{me.__()}),0),me}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((r=>r===t))}}function am(){return typeof document<"u"?document:null}function Xf(a){return new pA(a,!0)}class Fb{constructor(t,r,s=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=r,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const r=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,r-s);l>0&&Fe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const L0="PersistentStream";class Hb{constructor(t,r,s,l,c,p,b,_){this.Mi=t,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Fb(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===we.RESOURCE_EXHAUSTED?(es(r.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(r)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===r&&this.G_(s,l)}),(s=>{t((()=>{const l=new He(we.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,r){const s=this.W_(this.D_);this.stream=this.j_(t,r),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Fe(L0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return r=>{this.Mi.enqueueAndForget((()=>this.D_===t?r():(Fe(L0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hR extends Hb{constructor(t,r,s,l,c,p){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,l,p),this.serializer=c}j_(t,r){return this.connection.T_("Listen",t,r)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=vA(this.serializer,t),s=(function(c){if(!("targetChange"in c))return ut.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?ut.min():p.readTime?_i(p.readTime):ut.min()})(t);return this.listener.H_(r,s)}Y_(t){const r={};r.database=Tm(this.serializer),r.addTarget=(function(c,p){let b;const _=p.target;if(b=vm(_)?{documents:xA(c,_)}:{query:EA(c,_).ft},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){b.resumeToken=jb(c,p.resumeToken);const v=xm(c,p.expectedCount);v!==null&&(b.expectedCount=v)}else if(p.snapshotVersion.compareTo(ut.min())>0){b.readTime=Cf(c,p.snapshotVersion.toTimestamp());const v=xm(c,p.expectedCount);v!==null&&(b.expectedCount=v)}return b})(this.serializer,t);const s=TA(this.serializer,t);s&&(r.labels=s),this.q_(r)}Z_(t){const r={};r.database=Tm(this.serializer),r.removeTarget=t,this.q_(r)}}class dR extends Hb{constructor(t,r,s,l,c,p){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,l,p),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}J_(t){return Bt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Bt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Bt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=bA(t.writeResults,t.commitTime),s=_i(t.commitTime);return this.listener.na(s,r)}ra(){const t={};t.database=Tm(this.serializer),this.q_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map((s=>_A(this.serializer,s)))};this.q_(r)}}class mR{}class pR extends mR{constructor(t,r,s,l){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new He(we.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,r,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Go(t,Em(r,s),l,c,p))).catch((c=>{throw c.name==="FirebaseError"?(c.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new He(we.UNKNOWN,c.toString())}))}Ho(t,r,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,b])=>this.connection.Ho(t,Em(r,s),l,p,b,c))).catch((p=>{throw p.name==="FirebaseError"?(p.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new He(we.UNKNOWN,p.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class gR{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(es(r),this.aa=!1):Fe("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Io="RemoteStore";class yR{constructor(t,r,s,l,c){this.localStore=t,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((p=>{s.enqueueAndForget((async()=>{Vo(this)&&(Fe(Io,"Restarting streams for network reachability change."),await(async function(_){const v=ft(_);v.Ea.add(4),await Yu(v),v.Ra.set("Unknown"),v.Ea.delete(4),await $f(v)})(this))}))})),this.Ra=new gR(s,l)}}async function $f(a){if(Vo(a))for(const t of a.da)await t(!0)}async function Yu(a){for(const t of a.da)await t(!1)}function Kb(a,t){const r=ft(a);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),fp(r)?cp(r):Ll(r).O_()&&up(r,t))}function lp(a,t){const r=ft(a),s=Ll(r);r.Ia.delete(t),s.O_()&&Gb(r,t),r.Ia.size===0&&(s.O_()?s.L_():Vo(r)&&r.Ra.set("Unknown"))}function up(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ut.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Ll(a).Y_(t)}function Gb(a,t){a.Va.Ue(t),Ll(a).Z_(t)}function cp(a){a.Va=new fA({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),Ll(a).start(),a.Ra.ua()}function fp(a){return Vo(a)&&!Ll(a).x_()&&a.Ia.size>0}function Vo(a){return ft(a).Ea.size===0}function Qb(a){a.Va=void 0}async function vR(a){a.Ra.set("Online")}async function _R(a){a.Ia.forEach(((t,r)=>{up(a,t)}))}async function bR(a,t){Qb(a),fp(a)?(a.Ra.ha(t),cp(a)):a.Ra.set("Unknown")}async function xR(a,t,r){if(a.Ra.set("Online"),t instanceof Ib&&t.state===2&&t.cause)try{await(async function(l,c){const p=c.cause;for(const b of c.targetIds)l.Ia.has(b)&&(await l.remoteSyncer.rejectListen(b,p),l.Ia.delete(b),l.Va.removeTarget(b))})(a,t)}catch(s){Fe(Io,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await If(a,s)}else if(t instanceof hf?a.Va.Ze(t):t instanceof Db?a.Va.st(t):a.Va.tt(t),!r.isEqual(ut.min()))try{const s=await qb(a.localStore);r.compareTo(s)>=0&&await(function(c,p){const b=c.Va.Tt(p);return b.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(v);A&&c.Ia.set(v,A.withResumeToken(_.resumeToken,p))}})),b.targetMismatches.forEach(((_,v)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(rr.EMPTY_BYTE_STRING,A.snapshotVersion)),Gb(c,_);const N=new qs(A.target,_,v,A.sequenceNumber);up(c,N)})),c.remoteSyncer.applyRemoteEvent(b)})(a,r)}catch(s){Fe(Io,"Failed to raise snapshot:",s),await If(a,s)}}async function If(a,t,r){if(!Pl(t))throw t;a.Ea.add(1),await Yu(a),a.Ra.set("Offline"),r||(r=()=>qb(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{Fe(Io,"Retrying IndexedDB access"),await r(),a.Ea.delete(1),await $f(a)}))}function Yb(a,t){return t().catch((r=>If(a,r,t)))}async function Zf(a){const t=ft(a),r=Js(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Qm;for(;ER(t);)try{const l=await rR(t.localStore,s);if(l===null){t.Ta.length===0&&r.L_();break}s=l.batchId,wR(t,l)}catch(l){await If(t,l)}Xb(t)&&$b(t)}function ER(a){return Vo(a)&&a.Ta.length<10}function wR(a,t){a.Ta.push(t);const r=Js(a);r.O_()&&r.X_&&r.ea(t.mutations)}function Xb(a){return Vo(a)&&!Js(a).x_()&&a.Ta.length>0}function $b(a){Js(a).start()}async function TR(a){Js(a).ra()}async function SR(a){const t=Js(a);for(const r of a.Ta)t.ea(r.mutations)}async function AR(a,t,r){const s=a.Ta.shift(),l=tp.from(s,t,r);await Yb(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await Zf(a)}async function RR(a,t){t&&Js(a).X_&&await(async function(s,l){if((function(p){return lA(p)&&p!==we.ABORTED})(l.code)){const c=s.Ta.shift();Js(s).B_(),await Yb(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Zf(s)}})(a,t),Xb(a)&&$b(a)}async function U0(a,t){const r=ft(a);r.asyncQueue.verifyOperationInProgress(),Fe(Io,"RemoteStore received new credentials");const s=Vo(r);r.Ea.add(3),await Yu(r),s&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await $f(r)}async function NR(a,t){const r=ft(a);t?(r.Ea.delete(2),await $f(r)):t||(r.Ea.add(2),await Yu(r),r.Ra.set("Unknown"))}function Ll(a){return a.ma||(a.ma=(function(r,s,l){const c=ft(r);return c.sa(),new hR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:vR.bind(null,a),t_:_R.bind(null,a),r_:bR.bind(null,a),H_:xR.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),fp(a)?cp(a):a.Ra.set("Unknown")):(await a.ma.stop(),Qb(a))}))),a.ma}function Js(a){return a.fa||(a.fa=(function(r,s,l){const c=ft(r);return c.sa(),new dR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:TR.bind(null,a),r_:RR.bind(null,a),ta:SR.bind(null,a),na:AR.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await Zf(a)):(await a.fa.stop(),a.Ta.length>0&&(Fe(Io,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class hp{constructor(t,r,s,l,c){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Ao,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,r,s,l,c){const p=Date.now()+s,b=new hp(t,r,p,l,c);return b.start(s),b}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new He(we.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dp(a,t){if(es("AsyncQueue",`${t}: ${a}`),Pl(a))return new He(we.UNAVAILABLE,`${t}: ${a}`);throw a}class bl{static emptySet(t){return new bl(t.comparator)}constructor(t){this.comparator=t?(r,s)=>t(r,s)||Ze.comparator(r.key,s.key):(r,s)=>Ze.comparator(r.key,s.key),this.keyedMap=Au(),this.sortedSet=new _n(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((r,s)=>(t(r),!1)))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof bl)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((r=>{t.push(r.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const s=new bl;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=r,s}}class z0{constructor(){this.ga=new _n(Ze.comparator)}track(t){const r=t.doc.key,s=this.ga.get(r);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(r,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(r,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(r):t.type===1&&s.type===2?this.ga=this.ga.insert(r,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):it(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal(((r,s)=>{t.push(s)})),t}}class Rl{constructor(t,r,s,l,c,p,b,_,v){this.query=t,this.docs=r,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(t,r,s,l,c){const p=[];return r.forEach((b=>{p.push({type:0,doc:b})})),new Rl(t,r,bl.emptySet(r),p,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,s=t.docChanges;if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==s[l].type||!r[l].doc.isEqual(s[l].doc))return!1;return!0}}class CR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class DR{constructor(){this.queries=B0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,s){const l=ft(r),c=l.queries;l.queries=B0(),c.forEach(((p,b)=>{for(const _ of b.Sa)_.onError(s)}))})(this,new He(we.ABORTED,"Firestore shutting down"))}}function B0(){return new Oo((a=>yb(a)),Hf)}async function IR(a,t){const r=ft(a);let s=3;const l=t.query;let c=r.queries.get(l);c?!c.ba()&&t.Da()&&(s=2):(c=new CR,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await r.onListen(l,!0);break;case 1:c.wa=await r.onListen(l,!1);break;case 2:await r.onFirstRemoteStoreListen(l)}}catch(p){const b=dp(p,`Initialization of query '${pl(t.query)}' failed`);return void t.onError(b)}r.queries.set(l,c),c.Sa.push(t),t.va(r.onlineState),c.wa&&t.Fa(c.wa)&&mp(r)}async function jR(a,t){const r=ft(a),s=t.query;let l=3;const c=r.queries.get(s);if(c){const p=c.Sa.indexOf(t);p>=0&&(c.Sa.splice(p,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}}function OR(a,t){const r=ft(a);let s=!1;for(const l of t){const c=l.query,p=r.queries.get(c);if(p){for(const b of p.Sa)b.Fa(l)&&(s=!0);p.wa=l}}s&&mp(r)}function MR(a,t,r){const s=ft(a),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(r);s.queries.delete(t)}function mp(a){a.Ca.forEach((t=>{t.next()}))}var Rm,q0;(q0=Rm||(Rm={})).Ma="default",q0.Cache="cache";class VR{constructor(t,r,s){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Rl(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const s=r!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=Rl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Rm.Cache}}class Zb{constructor(t){this.key=t}}class Jb{constructor(t){this.key=t}}class kR{constructor(t,r){this.query=t,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=At(),this.mutatedKeys=At(),this.eu=vb(t),this.tu=new bl(this.eu)}get nu(){return this.Ya}ru(t,r){const s=r?r.iu:new z0,l=r?r.tu:this.tu;let c=r?r.mutatedKeys:this.mutatedKeys,p=l,b=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,N)=>{const O=l.get(A),Q=Kf(this.query,N)?N:null,me=!!O&&this.mutatedKeys.has(O.key),ue=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let te=!1;O&&Q?O.data.isEqual(Q.data)?me!==ue&&(s.track({type:3,doc:Q}),te=!0):this.su(O,Q)||(s.track({type:2,doc:Q}),te=!0,(_&&this.eu(Q,_)>0||v&&this.eu(Q,v)<0)&&(b=!0)):!O&&Q?(s.track({type:0,doc:Q}),te=!0):O&&!Q&&(s.track({type:1,doc:O}),te=!0,(_||v)&&(b=!0)),te&&(Q?(p=p.add(Q),c=ue?c.add(A):c.delete(A)):(p=p.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;p.size>this.query.limit;){const A=this.query.limitType==="F"?p.last():p.first();p=p.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{tu:p,iu:s,Cs:b,mutatedKeys:c}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const p=t.iu.ya();p.sort(((A,N)=>(function(Q,me){const ue=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it(20277,{Rt:te})}};return ue(Q)-ue(me)})(A.type,N.type)||this.eu(A.doc,N.doc))),this.ou(s),l=l??!1;const b=r&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,v=_!==this.Za;return this.Za=_,p.length!==0||v?{snapshot:new Rl(this.query,t.tu,c,p,t.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:b}:{au:b}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new z0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),t.modifiedDocuments.forEach((r=>{})),t.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=At(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const r=[];return t.forEach((s=>{this.Xa.has(s)||r.push(new Jb(s))})),this.Xa.forEach((s=>{t.has(s)||r.push(new Zb(s))})),r}cu(t){this.Ya=t.Qs,this.Xa=At();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return Rl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const pp="SyncEngine";class PR{constructor(t,r,s){this.query=t,this.targetId=r,this.view=s}}class LR{constructor(t){this.key=t,this.hu=!1}}class UR{constructor(t,r,s,l,c,p){this.localStore=t,this.remoteStore=r,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new Oo((b=>yb(b)),Hf),this.Iu=new Map,this.Eu=new Set,this.du=new _n(Ze.comparator),this.Au=new Map,this.Ru=new ap,this.Vu={},this.mu=new Map,this.fu=Al.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zR(a,t,r=!0){const s=a1(a);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await Wb(s,t,r,!0),l}async function BR(a,t){const r=a1(a);await Wb(r,t,!0,!1)}async function Wb(a,t,r,s){const l=await aR(a.localStore,yi(t)),c=l.targetId,p=a.sharedClientState.addLocalQueryTarget(c,r);let b;return s&&(b=await qR(a,t,c,p==="current",l.resumeToken)),a.isPrimaryClient&&r&&Kb(a.remoteStore,l),b}async function qR(a,t,r,s,l){a.pu=(N,O,Q)=>(async function(ue,te,Y,re){let pe=te.view.ru(Y);pe.Cs&&(pe=await M0(ue.localStore,te.query,!1).then((({documents:M})=>te.view.ru(M,pe))));const Ne=re&&re.targetChanges.get(te.targetId),qe=re&&re.targetMismatches.get(te.targetId)!=null,Ye=te.view.applyChanges(pe,ue.isPrimaryClient,Ne,qe);return H0(ue,te.targetId,Ye.au),Ye.snapshot})(a,N,O,Q);const c=await M0(a.localStore,t,!0),p=new kR(t,c.Qs),b=p.ru(c.documents),_=Qu.createSynthesizedTargetChangeForCurrentChange(r,s&&a.onlineState!=="Offline",l),v=p.applyChanges(b,a.isPrimaryClient,_);H0(a,r,v.au);const A=new PR(t,r,p);return a.Tu.set(t,A),a.Iu.has(r)?a.Iu.get(r).push(t):a.Iu.set(r,[t]),v.snapshot}async function FR(a,t,r){const s=ft(a),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((p=>!Hf(p,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Sm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),r&&lp(s.remoteStore,l.targetId),Nm(s,l.targetId)})).catch(kl)):(Nm(s,l.targetId),await Sm(s.localStore,l.targetId,!0))}async function HR(a,t){const r=ft(a),s=r.Tu.get(t),l=r.Iu.get(s.targetId);r.isPrimaryClient&&l.length===1&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),lp(r.remoteStore,s.targetId))}async function KR(a,t,r){const s=JR(a);try{const l=await(function(p,b){const _=ft(p),v=tn.now(),A=b.reduce(((Q,me)=>Q.add(me.key)),At());let N,O;return _.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let me=ts(),ue=At();return _.Ns.getEntries(Q,A).next((te=>{me=te,me.forEach(((Y,re)=>{re.isValidDocument()||(ue=ue.add(Y))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Q,me))).next((te=>{N=te;const Y=[];for(const re of b){const pe=rA(re,N.get(re.key).overlayedDocument);pe!=null&&Y.push(new Mo(re.key,pe,ub(pe.value.mapValue),vi.exists(!0)))}return _.mutationQueue.addMutationBatch(Q,v,Y,b)})).next((te=>{O=te;const Y=te.applyToLocalDocumentSet(N,ue);return _.documentOverlayCache.saveOverlays(Q,te.batchId,Y)}))})).then((()=>({batchId:O.batchId,changes:bb(N)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(p,b,_){let v=p.Vu[p.currentUser.toKey()];v||(v=new _n(St)),v=v.insert(b,_),p.Vu[p.currentUser.toKey()]=v})(s,l.batchId,r),await Xu(s,l.changes),await Zf(s.remoteStore)}catch(l){const c=dp(l,"Failed to persist write");r.reject(c)}}async function e1(a,t){const r=ft(a);try{const s=await tR(r.localStore,t);t.targetChanges.forEach(((l,c)=>{const p=r.Au.get(c);p&&(Bt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?Bt(p.hu,14607):l.removedDocuments.size>0&&(Bt(p.hu,42227),p.hu=!1))})),await Xu(r,s,t)}catch(s){await kl(s)}}function F0(a,t,r){const s=ft(a);if(s.isPrimaryClient&&r===0||!s.isPrimaryClient&&r===1){const l=[];s.Tu.forEach(((c,p)=>{const b=p.view.va(t);b.snapshot&&l.push(b.snapshot)})),(function(p,b){const _=ft(p);_.onlineState=b;let v=!1;_.queries.forEach(((A,N)=>{for(const O of N.Sa)O.va(b)&&(v=!0)})),v&&mp(_)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function GR(a,t,r){const s=ft(a);s.sharedClientState.updateQueryState(t,"rejected",r);const l=s.Au.get(t),c=l&&l.key;if(c){let p=new _n(Ze.comparator);p=p.insert(c,_r.newNoDocument(c,ut.min()));const b=At().add(c),_=new Yf(ut.min(),new Map,new _n(St),p,b);await e1(s,_),s.du=s.du.remove(c),s.Au.delete(t),gp(s)}else await Sm(s.localStore,t,!1).then((()=>Nm(s,t,r))).catch(kl)}async function QR(a,t){const r=ft(a),s=t.batch.batchId;try{const l=await eR(r.localStore,t);n1(r,s,null),t1(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),await Xu(r,l)}catch(l){await kl(l)}}async function YR(a,t,r){const s=ft(a);try{const l=await(function(p,b){const _=ft(p);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let A;return _.mutationQueue.lookupMutationBatch(v,b).next((N=>(Bt(N!==null,37113),A=N.keys(),_.mutationQueue.removeMutationBatch(v,N)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,b))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A))).next((()=>_.localDocuments.getDocuments(v,A)))}))})(s.localStore,t);n1(s,t,r),t1(s,t),s.sharedClientState.updateMutationState(t,"rejected",r),await Xu(s,l)}catch(l){await kl(l)}}function t1(a,t){(a.mu.get(t)||[]).forEach((r=>{r.resolve()})),a.mu.delete(t)}function n1(a,t,r){const s=ft(a);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(r?c.reject(r):c.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function Nm(a,t,r=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.Iu.get(t))a.Tu.delete(s),r&&a.Pu.yu(s,r);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((s=>{a.Ru.containsKey(s)||r1(a,s)}))}function r1(a,t){a.Eu.delete(t.path.canonicalString());const r=a.du.get(t);r!==null&&(lp(a.remoteStore,r),a.du=a.du.remove(t),a.Au.delete(r),gp(a))}function H0(a,t,r){for(const s of r)s instanceof Zb?(a.Ru.addReference(s.key,t),XR(a,s)):s instanceof Jb?(Fe(pp,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,t),a.Ru.containsKey(s.key)||r1(a,s.key)):it(19791,{wu:s})}function XR(a,t){const r=t.key,s=r.path.canonicalString();a.du.get(r)||a.Eu.has(s)||(Fe(pp,"New document in limbo: "+r),a.Eu.add(s),gp(a))}function gp(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const r=new Ze(en.fromString(t)),s=a.fu.next();a.Au.set(s,new LR(r)),a.du=a.du.insert(r,s),Kb(a.remoteStore,new qs(yi(Jm(r.path)),s,"TargetPurposeLimboResolution",Bf.ce))}}async function Xu(a,t,r){const s=ft(a),l=[],c=[],p=[];s.Tu.isEmpty()||(s.Tu.forEach(((b,_)=>{p.push(s.pu(_,t,r).then((v=>{if((v||r)&&s.isPrimaryClient){const A=v?!v.fromCache:r?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(v){l.push(v);const A=sp.As(_.targetId,v);c.push(A)}})))})),await Promise.all(p),s.Pu.H_(l),await(async function(_,v){const A=ft(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(N=>Te.forEach(v,(O=>Te.forEach(O.Es,(Q=>A.persistence.referenceDelegate.addReference(N,O.targetId,Q))).next((()=>Te.forEach(O.ds,(Q=>A.persistence.referenceDelegate.removeReference(N,O.targetId,Q)))))))))}catch(N){if(!Pl(N))throw N;Fe(op,"Failed to update sequence numbers: "+N)}for(const N of v){const O=N.targetId;if(!N.fromCache){const Q=A.Ms.get(O),me=Q.snapshotVersion,ue=Q.withLastLimboFreeSnapshotVersion(me);A.Ms=A.Ms.insert(O,ue)}}})(s.localStore,c))}async function $R(a,t){const r=ft(a);if(!r.currentUser.isEqual(t)){Fe(pp,"User change. New user:",t.toKey());const s=await Bb(r.localStore,t);r.currentUser=t,(function(c,p){c.mu.forEach((b=>{b.forEach((_=>{_.reject(new He(we.CANCELLED,p))}))})),c.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Xu(r,s.Ls)}}function ZR(a,t){const r=ft(a),s=r.Au.get(t);if(s&&s.hu)return At().add(s.key);{let l=At();const c=r.Iu.get(t);if(!c)return l;for(const p of c){const b=r.Tu.get(p);l=l.unionWith(b.view.nu)}return l}}function a1(a){const t=ft(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=e1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=GR.bind(null,t),t.Pu.H_=OR.bind(null,t.eventManager),t.Pu.yu=MR.bind(null,t.eventManager),t}function JR(a){const t=ft(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=QR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=YR.bind(null,t),t}class jf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Xf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return WA(this.persistence,new $A,t.initialUser,this.serializer)}Cu(t){return new zb(ip.mi,this.serializer)}Du(t){return new sR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jf.provider={build:()=>new jf};class WR extends jf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){Bt(this.persistence.referenceDelegate instanceof Df,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new VA(s,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?Qr.withCacheSize(this.cacheSizeBytes):Qr.DEFAULT;return new zb((s=>Df.mi(s,r)),this.serializer)}}class Cm{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>F0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=$R.bind(null,this.syncEngine),await NR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new DR})()}createDatastore(t){const r=Xf(t.databaseInfo.databaseId),s=(function(c){return new fR(c)})(t.databaseInfo);return(function(c,p,b,_){return new pR(c,p,b,_)})(t.authCredentials,t.appCheckCredentials,s,r)}createRemoteStore(t){return(function(s,l,c,p,b){return new yR(s,l,c,p,b)})(this.localStore,this.datastore,t.asyncQueue,(r=>F0(this.syncEngine,r,0)),(function(){return P0.v()?new P0:new oR})())}createSyncEngine(t,r){return(function(l,c,p,b,_,v,A){const N=new UR(l,c,p,b,_,v);return A&&(N.gu=!0),N})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const s=ft(r);Fe(Io,"RemoteStore shutting down."),s.Ea.add(5),await Yu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cm.provider={build:()=>new Cm};class eN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):es("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout((()=>{this.muted||t(r)}),0)}}const Ws="FirestoreClient";class tN{constructor(t,r,s,l,c){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=l,this.user=vr.UNAUTHENTICATED,this.clientId=Uf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async p=>{Fe(Ws,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(s,(p=>(Fe(Ws,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ao;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=dp(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function im(a,t){a.asyncQueue.verifyOperationInProgress(),Fe(Ws,"Initializing OfflineComponentProvider");const r=a.configuration;await t.initialize(r);let s=r.initialUser;a.setCredentialChangeListener((async l=>{s.isEqual(l)||(await Bb(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function K0(a,t){a.asyncQueue.verifyOperationInProgress();const r=await nN(a);Fe(Ws,"Initializing OnlineComponentProvider"),await t.initialize(r,a.configuration),a.setCredentialChangeListener((s=>U0(t.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,l)=>U0(t.remoteStore,l))),a._onlineComponents=t}async function nN(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){Fe(Ws,"Using user provided OfflineComponentProvider");try{await im(a,a._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!(function(l){return l.name==="FirebaseError"?l.code===we.FAILED_PRECONDITION||l.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(r))throw r;Do("Error using user provided cache. Falling back to memory cache: "+r),await im(a,new jf)}}else Fe(Ws,"Using default OfflineComponentProvider"),await im(a,new WR(void 0));return a._offlineComponents}async function i1(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(Fe(Ws,"Using user provided OnlineComponentProvider"),await K0(a,a._uninitializedComponentsProvider._online)):(Fe(Ws,"Using default OnlineComponentProvider"),await K0(a,new Cm))),a._onlineComponents}function rN(a){return i1(a).then((t=>t.syncEngine))}async function G0(a){const t=await i1(a),r=t.eventManager;return r.onListen=zR.bind(null,t.syncEngine),r.onUnlisten=FR.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=BR.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=HR.bind(null,t.syncEngine),r}function s1(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const Q0=new Map;const o1="firestore.googleapis.com",Y0=!0;class X0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new He(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=o1,this.ssl=Y0}else this.host=t.host,this.ssl=t.ssl??Y0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Ub;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<OA)throw new He(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}J_("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s1(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new He(we.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new He(we.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new He(we.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Jf{constructor(t,r,s,l){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new He(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new He(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new $_;switch(s.type){case"firstParty":return new hS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new He(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const s=Q0.get(r);s&&(Fe("ComponentProvider","Removing Datastore"),Q0.delete(r),s.terminate())})(this),Promise.resolve()}}function l1(a,t,r,s={}){a=Gs(a,Jf);const l=Hm(t),c=a._getSettings(),p={...c,emulatorOptions:a._getEmulatorOptions()},b=`${t}:${r}`;l&&(kT(`https://${b}`),zT("Firestore",!0)),c.host!==o1&&c.host!==b&&Do("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:b,ssl:l,emulatorOptions:s};if(!_f(_,p)&&(a._setSettings(_),s.mockUserToken)){let v,A;if(typeof s.mockUserToken=="string")v=s.mockUserToken,A=vr.MOCK_USER;else{v=PT(s.mockUserToken,a._app?.options.projectId);const N=s.mockUserToken.sub||s.mockUserToken.user_id;if(!N)throw new He(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new vr(N)}a._authCredentials=new uS(new X_(v,A))}}class ko{constructor(t,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ko(this.firestore,t,this._query)}}class jn{constructor(t,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new jn(this.firestore,t,this._key)}toJSON(){return{type:jn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,s){if(Hu(r,jn._jsonSchema))return new jn(t,s||null,new Ze(en.fromString(r.referencePath)))}}jn._jsonSchemaVersion="firestore/documentReference/1.0",jn._jsonSchema={type:Hn("string",jn._jsonSchemaVersion),referencePath:Hn("string")};class Zi extends ko{constructor(t,r,s){super(t,r,Jm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new jn(this.firestore,null,new Ze(t))}withConverter(t){return new Zi(this.firestore,t,this._path)}}function u1(a,t,...r){if(a=No(a),Z_("collection","path",t),a instanceof Jf){const s=en.fromString(t,...r);return o0(s),new Zi(a,null,s)}{if(!(a instanceof jn||a instanceof Zi))throw new He(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(en.fromString(t,...r));return o0(s),new Zi(a.firestore,null,s)}}function yp(a,t,...r){if(a=No(a),arguments.length===1&&(t=Uf.newId()),Z_("doc","path",t),a instanceof Jf){const s=en.fromString(t,...r);return s0(s),new jn(a,null,new Ze(s))}{if(!(a instanceof jn||a instanceof Zi))throw new He(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(en.fromString(t,...r));return s0(s),new jn(a.firestore,a instanceof Zi?a.converter:null,new Ze(s))}}const $0="AsyncQueue";class Z0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Fb(this,"async_queue_retry"),this._c=()=>{const s=am();s&&Fe($0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const r=am();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=am();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new Ao;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Pl(t))throw t;Fe($0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const r=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,es("INTERNAL UNHANDLED ERROR: ",J0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=r,r}enqueueAfterDelay(t,r,s){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const l=hp.createAndSchedule(this,t,r,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&it(47125,{Pc:J0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((r,s)=>r.targetTimeMs-s.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function J0(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}function W0(a){return(function(r,s){if(typeof r!="object"||r===null)return!1;const l=r;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(a,["next","error","complete"])}class Nl extends Jf{constructor(t,r,s,l){super(t,r,s,l),this.type="firestore",this._queue=new Z0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Z0(t),this._firestoreClient=void 0,await t}}}function c1(a,t){const r=typeof a=="object"?a:$2(),s=typeof a=="string"?a:wf,l=K2(r,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=MT("firestore");c&&l1(l,...c)}return l}function vp(a){if(a._terminated)throw new He(we.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||aN(a),a._firestoreClient}function aN(a){const t=a._freezeSettings(),r=(function(l,c,p,b){return new NS(l,c,p,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,s1(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new tN(a._authCredentials,a._appCheckCredentials,a._queue,r,a._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(a._componentsProvider))}class pa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new pa(rr.fromBase64String(t))}catch(r){throw new He(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new pa(rr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:pa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Hu(t,pa._jsonSchema))return pa.fromBase64String(t.bytes)}}pa._jsonSchemaVersion="firestore/bytes/1.0",pa._jsonSchema={type:Hn("string",pa._jsonSchemaVersion),bytes:Hn("string")};class Wf{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new He(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class _p{constructor(t){this._methodName=t}}class Ja{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new He(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new He(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return St(this._lat,t._lat)||St(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ja._jsonSchemaVersion}}static fromJSON(t){if(Hu(t,Ja._jsonSchema))return new Ja(t.latitude,t.longitude)}}Ja._jsonSchemaVersion="firestore/geoPoint/1.0",Ja._jsonSchema={type:Hn("string",Ja._jsonSchemaVersion),latitude:Hn("number"),longitude:Hn("number")};class Wa{constructor(t){this._values=(t||[]).map((r=>r))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Wa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Hu(t,Wa._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((r=>typeof r=="number")))return new Wa(t.vectorValues);throw new He(we.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wa._jsonSchemaVersion="firestore/vectorValue/1.0",Wa._jsonSchema={type:Hn("string",Wa._jsonSchemaVersion),vectorValues:Hn("object")};const iN=/^__.*__$/;class sN{constructor(t,r,s){this.data=t,this.fieldMask=r,this.fieldTransforms=s}toMutation(t,r){return this.fieldMask!==null?new Mo(t,this.data,this.fieldMask,r,this.fieldTransforms):new Gu(t,this.data,r,this.fieldTransforms)}}function f1(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it(40011,{Ac:a})}}class bp{constructor(t,r,s,l,c,p){this.settings=t,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new bp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const r=this.path?.child(t),s=this.Vc({path:r,fc:!1});return s.gc(t),s}yc(t){const r=this.path?.child(t),s=this.Vc({path:r,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Of(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((r=>t.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>t.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(f1(this.Ac)&&iN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class oN{constructor(t,r,s){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=s||Xf(t)}Cc(t,r,s,l=!1){return new bp({Ac:t,methodName:r,Dc:s,path:nr.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function h1(a){const t=a._freezeSettings(),r=Xf(a._databaseId);return new oN(a._databaseId,!!t.ignoreUndefinedProperties,r)}function lN(a,t,r,s,l,c={}){const p=a.Cc(c.merge||c.mergeFields?2:0,t,r,l);p1("Data must be an object, but it was:",p,s);const b=d1(s,p);let _,v;if(c.merge)_=new Za(p.fieldMask),v=p.fieldTransforms;else if(c.mergeFields){const A=[];for(const N of c.mergeFields){const O=cN(t,N,r);if(!p.contains(O))throw new He(we.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);hN(A,O)||A.push(O)}_=new Za(A),v=p.fieldTransforms.filter((N=>_.covers(N.field)))}else _=null,v=p.fieldTransforms;return new sN(new Pa(b),_,v)}function uN(a,t,r,s=!1){return xp(r,a.Cc(s?4:3,t))}function xp(a,t){if(m1(a=No(a)))return p1("Unsupported field value:",t,a),d1(a,t);if(a instanceof _p)return(function(s,l){if(!f1(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let p=0;for(const b of s){let _=xp(b,l.wc(p));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),p++}return{arrayValue:{values:c}}})(a,t)}return(function(s,l){if((s=No(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return ZS(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=tn.fromDate(s);return{timestampValue:Cf(l.serializer,c)}}if(s instanceof tn){const c=new tn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Cf(l.serializer,c)}}if(s instanceof Ja)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof pa)return{bytesValue:jb(l.serializer,s._byteString)};if(s instanceof jn){const c=l.databaseId,p=s.firestore._databaseId;if(!p.isEqual(c))throw l.Sc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:rp(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Wa)return(function(p,b){return{mapValue:{fields:{[ob]:{stringValue:lb},[Tf]:{arrayValue:{values:p.toArray().map((v=>{if(typeof v!="number")throw b.Sc("VectorValues must only contain numeric values.");return Wm(b.serializer,v)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${zf(s)}`)})(a,t)}function d1(a,t){const r={};return tb(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):jo(a,((s,l)=>{const c=xp(l,t.mc(s));c!=null&&(r[s]=c)})),{mapValue:{fields:r}}}function m1(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof tn||a instanceof Ja||a instanceof pa||a instanceof jn||a instanceof _p||a instanceof Wa)}function p1(a,t,r){if(!m1(r)||!W_(r)){const s=zf(r);throw s==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+s)}}function cN(a,t,r){if((t=No(t))instanceof Wf)return t._internalPath;if(typeof t=="string")return g1(a,t);throw Of("Field path arguments must be of type string or ",a,!1,void 0,r)}const fN=new RegExp("[~\\*/\\[\\]]");function g1(a,t,r){if(t.search(fN)>=0)throw Of(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new Wf(...t.split("."))._internalPath}catch{throw Of(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function Of(a,t,r,s,l){const c=s&&!s.isEmpty(),p=l!==void 0;let b=`Function ${t}() called with invalid data`;r&&(b+=" (via `toFirestore()`)"),b+=". ";let _="";return(c||p)&&(_+=" (found",c&&(_+=` in field ${s}`),p&&(_+=` in document ${l}`),_+=")"),new He(we.INVALID_ARGUMENT,b+a+_)}function hN(a,t){return a.some((r=>r.isEqual(t)))}class y1{constructor(t,r,s,l,c){this._firestore=t,this._userDataWriter=r,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new dN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(v1("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class dN extends y1{data(){return super.data()}}function v1(a,t){return typeof t=="string"?g1(a,t):t instanceof Wf?t._internalPath:t._delegate._internalPath}function mN(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new He(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ep{}class _1 extends Ep{}function b1(a,t,...r){let s=[];t instanceof Ep&&s.push(t),s=s.concat(r),(function(c){const p=c.filter((_=>_ instanceof th)).length,b=c.filter((_=>_ instanceof eh)).length;if(p>1||p>0&&b>0)throw new He(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)a=l._apply(a);return a}class eh extends _1{constructor(t,r,s){super(),this._field=t,this._op=r,this._value=s,this.type="where"}static _create(t,r,s){return new eh(t,r,s)}_apply(t){const r=this._parse(t);return x1(t._query,r),new ko(t.firestore,t.converter,_m(t._query,r))}_parse(t){const r=h1(t.firestore);return(function(c,p,b,_,v,A,N){let O;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new He(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){t_(N,A);const me=[];for(const ue of N)me.push(e_(_,c,ue));O={arrayValue:{values:me}}}else O=e_(_,c,N)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||t_(N,A),O=uN(b,p,N,A==="in"||A==="not-in");return Fn.create(v,A,O)})(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}class th extends Ep{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new th(t,r)}_parse(t){const r=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return r.length===1?r[0]:ei.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:((function(l,c){let p=l;const b=c.getFlattenedFilters();for(const _ of b)x1(p,_),p=_m(p,_)})(t._query,r),new ko(t.firestore,t.converter,_m(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function e_(a,t,r){if(typeof(r=No(r))=="string"){if(r==="")throw new He(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gb(t)&&r.indexOf("/")!==-1)throw new He(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=t.path.child(en.fromString(r));if(!Ze.isDocumentKey(s))throw new He(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return p0(a,new Ze(s))}if(r instanceof jn)return p0(a,r._key);throw new He(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zf(r)}.`)}function t_(a,t){if(!Array.isArray(a)||a.length===0)throw new He(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function x1(a,t){const r=(function(l,c){for(const p of l)for(const b of p.getFlattenedFilters())if(c.indexOf(b.op)>=0)return b.op;return null})(a.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(r!==null)throw r===t.op?new He(we.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new He(we.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class E1{convertValue(t,r="none"){switch(Zs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return In(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes($s(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw it(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const s={};return jo(t,((l,c)=>{s[l]=this.convertValue(c,r)})),s}convertVectorValue(t){const r=t.fields?.[Tf].arrayValue?.values?.map((s=>In(s.doubleValue)));return new Wa(r)}convertGeoPoint(t){return new Ja(In(t.latitude),In(t.longitude))}convertArray(t,r){return(t.values||[]).map((s=>this.convertValue(s,r)))}convertServerTimestamp(t,r){switch(r){case"previous":const s=Ff(t);return s==null?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Lu(t));default:return null}}convertTimestamp(t){const r=Xs(t);return new tn(r.seconds,r.nanos)}convertDocumentKey(t,r){const s=en.fromString(t);Bt(Lb(s),9688,{name:t});const l=new wl(s.get(1),s.get(3)),c=new Ze(s.popFirst(5));return l.isEqual(r)||es(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),c}}function pN(a,t,r){let s;return s=a?r&&(r.merge||r.mergeFields)?a.toFirestore(t,r):a.toFirestore(t):t,s}class vl{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qs extends y1{constructor(t,r,s,l,c,p){super(t,r,s,l,p),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Ou(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const s=this._document.data.field(v1("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new He(we.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=Qs._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qs._jsonSchema={type:Hn("string",Qs._jsonSchemaVersion),bundleSource:Hn("string","DocumentSnapshot"),bundleName:Hn("string"),bundle:Hn("string")};class Ou extends Qs{data(t={}){return super.data(t)}}class Ro{constructor(t,r,s,l){this._firestore=t,this._userDataWriter=r,this._snapshot=l,this.metadata=new vl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((r=>t.push(r))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach((s=>{t.call(r,new Ou(this._firestore,this._userDataWriter,s.key,s,new vl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new He(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map((b=>{const _=new Ou(l._firestore,l._userDataWriter,b.doc.key,b.doc,new vl(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);return b.doc,{type:"added",doc:_,oldIndex:-1,newIndex:p++}}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((b=>c||b.type!==3)).map((b=>{const _=new Ou(l._firestore,l._userDataWriter,b.doc.key,b.doc,new vl(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return b.type!==0&&(v=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),b.type!==1&&(p=p.add(b.doc),A=p.indexOf(b.doc.key)),{type:gN(b.type),doc:_,oldIndex:v,newIndex:A}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new He(we.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ro._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Uf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(r.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function gN(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it(61501,{type:a})}}Ro._jsonSchemaVersion="firestore/querySnapshot/1.0",Ro._jsonSchema={type:Hn("string",Ro._jsonSchemaVersion),bundleSource:Hn("string","QuerySnapshot"),bundleName:Hn("string"),bundle:Hn("string")};class w1 extends E1{constructor(t){super(),this.firestore=t}convertBytes(t){return new pa(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new jn(this.firestore,null,r)}}function T1(a,t,r){a=Gs(a,jn);const s=Gs(a.firestore,Nl),l=pN(a.converter,t,r);return wp(s,[lN(h1(s),"setDoc",a._key,l,a.converter!==null,r).toMutation(a._key,vi.none())])}function S1(a){return wp(Gs(a.firestore,Nl),[new ep(a._key,vi.none())])}function A1(a,...t){a=No(a);let r={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||W0(t[s])||(r=t[s++]);const l={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(W0(t[s])){const _=t[s];t[s]=_.next?.bind(_),t[s+1]=_.error?.bind(_),t[s+2]=_.complete?.bind(_)}let c,p,b;if(a instanceof jn)p=Gs(a.firestore,Nl),b=Jm(a._key.path),c={next:_=>{t[s]&&t[s](yN(p,a,_))},error:t[s+1],complete:t[s+2]};else{const _=Gs(a,ko);p=Gs(_.firestore,Nl),b=_._query;const v=new w1(p);c={next:A=>{t[s]&&t[s](new Ro(p,v,_,A))},error:t[s+1],complete:t[s+2]},mN(a._query)}return(function(v,A,N,O){const Q=new eN(O),me=new VR(A,Q,N);return v.asyncQueue.enqueueAndForget((async()=>IR(await G0(v),me))),()=>{Q.Nu(),v.asyncQueue.enqueueAndForget((async()=>jR(await G0(v),me)))}})(vp(p),b,l,c)}function wp(a,t){return(function(s,l){const c=new Ao;return s.asyncQueue.enqueueAndForget((async()=>KR(await rN(s),l,c))),c.promise})(vp(a),t)}function yN(a,t,r){const s=r.docs.get(t._key),l=new w1(a);return new Qs(a,l,t._key,s,new vl(r.hasPendingWrites,r.fromCache),t.converter)}(function(t,r=!0){(function(l){Vl=l})(X2),xf(new Vu("firestore",((s,{instanceIdentifier:l,options:c})=>{const p=s.getProvider("app").getImmediate(),b=new Nl(new cS(s.getProvider("auth-internal")),new dS(p,s.getProvider("app-check-internal")),(function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new He(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wl(v.options.projectId,A)})(p,l),p);return c={useFetchStreams:r,...c},b._setSettings(c),b}),"PUBLIC").setMultipleInstances(!0)),_l(n0,r0,t),_l(n0,r0,"esm2020")})();const vN=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:E1,Bytes:pa,CollectionReference:Zi,DocumentReference:jn,DocumentSnapshot:Qs,FieldPath:Wf,FieldValue:_p,Firestore:Nl,FirestoreError:He,GeoPoint:Ja,Query:ko,QueryCompositeFilterConstraint:th,QueryConstraint:_1,QueryDocumentSnapshot:Ou,QueryFieldFilterConstraint:eh,QuerySnapshot:Ro,SnapshotMetadata:vl,Timestamp:tn,VectorValue:Wa,_AutoId:Uf,_ByteString:rr,_DatabaseId:wl,_DocumentKey:Ze,_EmptyAuthCredentialsProvider:$_,_FieldPath:nr,_cast:Gs,_logWarn:Do,_validateIsNotUsedTogether:J_,collection:u1,connectFirestoreEmulator:l1,deleteDoc:S1,doc:yp,ensureFirestoreConfigured:vp,executeWrite:wp,getFirestore:c1,onSnapshot:A1,query:b1,setDoc:T1},Symbol.toStringTag,{value:"Module"})),_N={apiKey:"AIzaSyDUMSroR4ttcdohVK2Y8qq7yWIBrkAWKWQ",authDomain:"studio-7145332012-9a179.firebaseapp.com",projectId:"studio-7145332012-9a179",storageBucket:"studio-7145332012-9a179.firebasestorage.app",messagingSenderId:"832894479416",appId:"1:832894479416:web:2163932c408afeabdb8acd"},bN=U_(_N),nh=c1(bN),xN=Object.freeze(Object.defineProperty({__proto__:null,db:nh},Symbol.toStringTag,{value:"Module"}));var df={exports:{}},EN=df.exports,n_;function wN(){return n_||(n_=1,(function(a,t){(function(r,s){a.exports=s()})(EN,function(){var r=function(f,d){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,E){g.__proto__=E}||function(g,E){for(var S in E)Object.prototype.hasOwnProperty.call(E,S)&&(g[S]=E[S])})(f,d)},s=function(){return(s=Object.assign||function(f){for(var d,g=1,E=arguments.length;g<E;g++)for(var S in d=arguments[g])Object.prototype.hasOwnProperty.call(d,S)&&(f[S]=d[S]);return f}).apply(this,arguments)};function l(f,d,g){for(var E,S=0,R=d.length;S<R;S++)!E&&S in d||((E=E||Array.prototype.slice.call(d,0,S))[S]=d[S]);return f.concat(E||Array.prototype.slice.call(d))}var c=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Kx,p=Object.keys,b=Array.isArray;function _(f,d){return typeof d!="object"||p(d).forEach(function(g){f[g]=d[g]}),f}typeof Promise>"u"||c.Promise||(c.Promise=Promise);var v=Object.getPrototypeOf,A={}.hasOwnProperty;function N(f,d){return A.call(f,d)}function O(f,d){typeof d=="function"&&(d=d(v(f))),(typeof Reflect>"u"?p:Reflect.ownKeys)(d).forEach(function(g){me(f,g,d[g])})}var Q=Object.defineProperty;function me(f,d,g,E){Q(f,d,_(g&&N(g,"get")&&typeof g.get=="function"?{get:g.get,set:g.set,configurable:!0}:{value:g,configurable:!0,writable:!0},E))}function ue(f){return{from:function(d){return f.prototype=Object.create(d.prototype),me(f.prototype,"constructor",f),{extend:O.bind(null,f.prototype)}}}}var te=Object.getOwnPropertyDescriptor,Y=[].slice;function re(f,d,g){return Y.call(f,d,g)}function pe(f,d){return d(f)}function Ne(f){if(!f)throw new Error("Assertion Failed")}function qe(f){c.setImmediate?setImmediate(f):setTimeout(f,0)}function Ye(f,d){if(typeof d=="string"&&N(f,d))return f[d];if(!d)return f;if(typeof d!="string"){for(var g=[],E=0,S=d.length;E<S;++E){var R=Ye(f,d[E]);g.push(R)}return g}var I=d.indexOf(".");if(I!==-1){var P=f[d.substr(0,I)];return P==null?void 0:Ye(P,d.substr(I+1))}}function M(f,d,g){if(f&&d!==void 0&&!("isFrozen"in Object&&Object.isFrozen(f)))if(typeof d!="string"&&"length"in d){Ne(typeof g!="string"&&"length"in g);for(var E=0,S=d.length;E<S;++E)M(f,d[E],g[E])}else{var R,I,P=d.indexOf(".");P!==-1?(R=d.substr(0,P),(I=d.substr(P+1))===""?g===void 0?b(f)&&!isNaN(parseInt(R))?f.splice(R,1):delete f[R]:f[R]=g:M(P=!(P=f[R])||!N(f,R)?f[R]={}:P,I,g)):g===void 0?b(f)&&!isNaN(parseInt(d))?f.splice(d,1):delete f[d]:f[d]=g}}function j(f){var d,g={};for(d in f)N(f,d)&&(g[d]=f[d]);return g}var V=[].concat;function B(f){return V.apply([],f)}var Xr="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(B([8,16,32,64].map(function(f){return["Int","Uint","Float"].map(function(d){return d+f+"Array"})}))).filter(function(f){return c[f]}),z=new Set(Xr.map(function(f){return c[f]})),Z=null;function k(f){return Z=new WeakMap,f=(function d(g){if(!g||typeof g!="object")return g;var E=Z.get(g);if(E)return E;if(b(g)){E=[],Z.set(g,E);for(var S=0,R=g.length;S<R;++S)E.push(d(g[S]))}else if(z.has(g.constructor))E=g;else{var I,P=v(g);for(I in E=P===Object.prototype?{}:Object.create(P),Z.set(g,E),g)N(g,I)&&(E[I]=d(g[I]))}return E})(f),Z=null,f}var yt={}.toString;function Rt(f){return yt.call(f).slice(8,-1)}var J=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Se=typeof J=="symbol"?function(f){var d;return f!=null&&(d=f[J])&&d.apply(f)}:function(){return null};function Ae(f,d){return d=f.indexOf(d),0<=d&&f.splice(d,1),0<=d}var at={};function tt(f){var d,g,E,S;if(arguments.length===1){if(b(f))return f.slice();if(this===at&&typeof f=="string")return[f];if(S=Se(f)){for(g=[];!(E=S.next()).done;)g.push(E.value);return g}if(f==null)return[f];if(typeof(d=f.length)!="number")return[f];for(g=new Array(d);d--;)g[d]=f[d];return g}for(d=arguments.length,g=new Array(d);d--;)g[d]=arguments[d];return g}var q=typeof Symbol<"u"?function(f){return f[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Yr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Tr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Yr),_e={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function je(f,d){this.name=f,this.message=d}function Re(f,d){return f+". Errors: "+Object.keys(d).map(function(g){return d[g].toString()}).filter(function(g,E,S){return S.indexOf(g)===E}).join(`
`)}function Be(f,d,g,E){this.failures=d,this.failedKeys=E,this.successCount=g,this.message=Re(f,d)}function $e(f,d){this.name="BulkError",this.failures=Object.keys(d).map(function(g){return d[g]}),this.failuresByPos=d,this.message=Re(f,this.failures)}ue(je).from(Error).extend({toString:function(){return this.name+": "+this.message}}),ue(Be).from(je),ue($e).from(je);var rt=Tr.reduce(function(f,d){return f[d]=d+"Error",f},{}),qt=je,Oe=Tr.reduce(function(f,d){var g=d+"Error";function E(S,R){this.name=g,S?typeof S=="string"?(this.message="".concat(S).concat(R?`
 `+R:""),this.inner=R||null):typeof S=="object"&&(this.message="".concat(S.name," ").concat(S.message),this.inner=S):(this.message=_e[d]||g,this.inner=null)}return ue(E).from(qt),f[d]=E,f},{});Oe.Syntax=SyntaxError,Oe.Type=TypeError,Oe.Range=RangeError;var hn=Yr.reduce(function(f,d){return f[d+"Error"]=Oe[d],f},{}),On=Tr.reduce(function(f,d){return["Syntax","Type","Range"].indexOf(d)===-1&&(f[d+"Error"]=Oe[d]),f},{});function Ke(){}function Je(f){return f}function Ft(f,d){return f==null||f===Je?d:function(g){return d(f(g))}}function pt(f,d){return function(){f.apply(this,arguments),d.apply(this,arguments)}}function Ut(f,d){return f===Ke?d:function(){var g=f.apply(this,arguments);g!==void 0&&(arguments[0]=g);var E=this.onsuccess,S=this.onerror;this.onsuccess=null,this.onerror=null;var R=d.apply(this,arguments);return E&&(this.onsuccess=this.onsuccess?pt(E,this.onsuccess):E),S&&(this.onerror=this.onerror?pt(S,this.onerror):S),R!==void 0?R:g}}function on(f,d){return f===Ke?d:function(){f.apply(this,arguments);var g=this.onsuccess,E=this.onerror;this.onsuccess=this.onerror=null,d.apply(this,arguments),g&&(this.onsuccess=this.onsuccess?pt(g,this.onsuccess):g),E&&(this.onerror=this.onerror?pt(E,this.onerror):E)}}function Yn(f,d){return f===Ke?d:function(g){var E=f.apply(this,arguments);_(g,E);var S=this.onsuccess,R=this.onerror;return this.onsuccess=null,this.onerror=null,g=d.apply(this,arguments),S&&(this.onsuccess=this.onsuccess?pt(S,this.onsuccess):S),R&&(this.onerror=this.onerror?pt(R,this.onerror):R),E===void 0?g===void 0?void 0:g:_(E,g)}}function Nt(f,d){return f===Ke?d:function(){return d.apply(this,arguments)!==!1&&f.apply(this,arguments)}}function Mt(f,d){return f===Ke?d:function(){var g=f.apply(this,arguments);if(g&&typeof g.then=="function"){for(var E=this,S=arguments.length,R=new Array(S);S--;)R[S]=arguments[S];return g.then(function(){return d.apply(E,R)})}return d.apply(this,arguments)}}On.ModifyError=Be,On.DexieError=je,On.BulkError=$e;var wn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Po(f){wn=f}var ni={},Xn=100,Xr=typeof Promise>"u"?[]:(function(){var f=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[f,v(f),f];var d=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[d,v(d),f]})(),Yr=Xr[0],Tr=Xr[1],Xr=Xr[2],Tr=Tr&&Tr.then,$r=Yr&&Yr.constructor,ya=!!Xr,Ei=function(f,d){ri.push([f,d]),wi&&(queueMicrotask(Lo),wi=!1)},rs=!0,wi=!0,va=[],fr=[],Tn=Je,Sn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ke,pgp:!1,env:{},finalize:Ke},Ue=Sn,ri=[],Ar=0,Ti=[];function ke(f){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var d=this._PSD=Ue;if(typeof f!="function"){if(f!==ni)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Rr(this,this._value))}this._state=null,this._value=null,++d.ref,(function g(E,S){try{S(function(R){if(E._state===null){if(R===E)throw new TypeError("A promise cannot be resolved with itself.");var I=E._lib&&ar();R&&typeof R.then=="function"?g(E,function(P,F){R instanceof ke?R._then(P,F):R.then(P,F)}):(E._state=!0,E._value=R,Zr(E)),I&&Nr()}},Rr.bind(null,E))}catch(R){Rr(E,R)}})(this,f)}var za={get:function(){var f=Ue,d=hr;function g(E,S){var R=this,I=!f.global&&(f!==Ue||d!==hr),P=I&&!Kn(),F=new ke(function(H,W){br(R,new dn(Ri(E,f,I,P),Ri(S,f,I,P),H,W,f))});return this._consoleTask&&(F._consoleTask=this._consoleTask),F}return g.prototype=ni,g},set:function(f){me(this,"then",f&&f.prototype===ni?za:{get:function(){return f},set:za.set})}};function dn(f,d,g,E,S){this.onFulfilled=typeof f=="function"?f:null,this.onRejected=typeof d=="function"?d:null,this.resolve=g,this.reject=E,this.psd=S}function Rr(f,d){var g,E;fr.push(d),f._state===null&&(g=f._lib&&ar(),d=Tn(d),f._state=!1,f._value=d,E=f,va.some(function(S){return S._value===E._value})||va.push(E),Zr(f),g&&Nr())}function Zr(f){var d=f._listeners;f._listeners=[];for(var g=0,E=d.length;g<E;++g)br(f,d[g]);var S=f._PSD;--S.ref||S.finalize(),Ar===0&&(++Ar,Ei(function(){--Ar==0&&eo()},[]))}function br(f,d){if(f._state!==null){var g=f._state?d.onFulfilled:d.onRejected;if(g===null)return(f._state?d.resolve:d.reject)(f._value);++d.psd.ref,++Ar,Ei(Ul,[g,f,d])}else f._listeners.push(d)}function Ul(f,d,g){try{var E,S=d._value;!d._state&&fr.length&&(fr=[]),E=wn&&d._consoleTask?d._consoleTask.run(function(){return f(S)}):f(S),d._state||fr.indexOf(S)!==-1||(function(R){for(var I=va.length;I;)if(va[--I]._value===R._value)return va.splice(I,1)})(d),g.resolve(E)}catch(R){g.reject(R)}finally{--Ar==0&&eo(),--g.psd.ref||g.psd.finalize()}}function Lo(){$n(Sn,function(){ar()&&Nr()})}function ar(){var f=rs;return wi=rs=!1,f}function Nr(){var f,d,g;do for(;0<ri.length;)for(f=ri,ri=[],g=f.length,d=0;d<g;++d){var E=f[d];E[0].apply(null,E[1])}while(0<ri.length);wi=rs=!0}function eo(){var f=va;va=[],f.forEach(function(E){E._PSD.onunhandled.call(null,E._value,E)});for(var d=Ti.slice(0),g=d.length;g;)d[--g]()}function _a(f){return new ke(ni,!1,f)}function zt(f,d){var g=Ue;return function(){var E=ar(),S=Ue;try{return Wr(g,!0),f.apply(this,arguments)}catch(R){d&&d(R)}finally{Wr(S,!1),E&&Nr()}}}O(ke.prototype,{then:za,_then:function(f,d){br(this,new dn(null,null,f,d,Ue))},catch:function(f){if(arguments.length===1)return this.then(null,f);var d=f,g=arguments[1];return typeof d=="function"?this.then(null,function(E){return(E instanceof d?g:_a)(E)}):this.then(null,function(E){return(E&&E.name===d?g:_a)(E)})},finally:function(f){return this.then(function(d){return ke.resolve(f()).then(function(){return d})},function(d){return ke.resolve(f()).then(function(){return _a(d)})})},timeout:function(f,d){var g=this;return f<1/0?new ke(function(E,S){var R=setTimeout(function(){return S(new Oe.Timeout(d))},f);g.then(E,S).finally(clearTimeout.bind(null,R))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&me(ke.prototype,Symbol.toStringTag,"Dexie.Promise"),Sn.env=to(),O(ke,{all:function(){var f=tt.apply(null,arguments).map(Ba);return new ke(function(d,g){f.length===0&&d([]);var E=f.length;f.forEach(function(S,R){return ke.resolve(S).then(function(I){f[R]=I,--E||d(f)},g)})})},resolve:function(f){return f instanceof ke?f:f&&typeof f.then=="function"?new ke(function(d,g){f.then(d,g)}):new ke(ni,!0,f)},reject:_a,race:function(){var f=tt.apply(null,arguments).map(Ba);return new ke(function(d,g){f.map(function(E){return ke.resolve(E).then(d,g)})})},PSD:{get:function(){return Ue},set:function(f){return Ue=f}},totalEchoes:{get:function(){return hr}},newPSD:Ht,usePSD:$n,scheduler:{get:function(){return Ei},set:function(f){Ei=f}},rejectionMapper:{get:function(){return Tn},set:function(f){Tn=f}},follow:function(f,d){return new ke(function(g,E){return Ht(function(S,R){var I=Ue;I.unhandleds=[],I.onunhandled=R,I.finalize=pt(function(){var P,F=this;P=function(){F.unhandleds.length===0?S():R(F.unhandleds[0])},Ti.push(function H(){P(),Ti.splice(Ti.indexOf(H),1)}),++Ar,Ei(function(){--Ar==0&&eo()},[])},I.finalize),f()},d,g,E)})}}),$r&&($r.allSettled&&me(ke,"allSettled",function(){var f=tt.apply(null,arguments).map(Ba);return new ke(function(d){f.length===0&&d([]);var g=f.length,E=new Array(g);f.forEach(function(S,R){return ke.resolve(S).then(function(I){return E[R]={status:"fulfilled",value:I}},function(I){return E[R]={status:"rejected",reason:I}}).then(function(){return--g||d(E)})})})}),$r.any&&typeof AggregateError<"u"&&me(ke,"any",function(){var f=tt.apply(null,arguments).map(Ba);return new ke(function(d,g){f.length===0&&g(new AggregateError([]));var E=f.length,S=new Array(E);f.forEach(function(R,I){return ke.resolve(R).then(function(P){return d(P)},function(P){S[I]=P,--E||g(new AggregateError(S))})})})}),$r.withResolvers&&(ke.withResolvers=$r.withResolvers));var ln={awaits:0,echoes:0,id:0},Si=0,Cr=[],Ai=0,hr=0,Jr=0;function Ht(f,d,g,E){var S=Ue,R=Object.create(S);return R.parent=S,R.ref=0,R.global=!1,R.id=++Jr,Sn.env,R.env=ya?{Promise:ke,PromiseProp:{value:ke,configurable:!0,writable:!0},all:ke.all,race:ke.race,allSettled:ke.allSettled,any:ke.any,resolve:ke.resolve,reject:ke.reject}:{},d&&_(R,d),++S.ref,R.finalize=function(){--this.parent.ref||this.parent.finalize()},E=$n(R,f,g,E),R.ref===0&&R.finalize(),E}function nn(){return ln.id||(ln.id=++Si),++ln.awaits,ln.echoes+=Xn,ln.id}function Kn(){return!!ln.awaits&&(--ln.awaits==0&&(ln.id=0),ln.echoes=ln.awaits*Xn,!0)}function Ba(f){return ln.echoes&&f&&f.constructor===$r?(nn(),f.then(function(d){return Kn(),d},function(d){return Kn(),It(d)})):f}function zl(){var f=Cr[Cr.length-1];Cr.pop(),Wr(f,!1)}function Wr(f,d){var g,E=Ue;(d?!ln.echoes||Ai++&&f===Ue:!Ai||--Ai&&f===Ue)||queueMicrotask(d?(function(S){++hr,ln.echoes&&--ln.echoes!=0||(ln.echoes=ln.awaits=ln.id=0),Cr.push(Ue),Wr(S,!0)}).bind(null,f):zl),f!==Ue&&(Ue=f,E===Sn&&(Sn.env=to()),ya&&(g=Sn.env.Promise,d=f.env,(E.global||f.global)&&(Object.defineProperty(c,"Promise",d.PromiseProp),g.all=d.all,g.race=d.race,g.resolve=d.resolve,g.reject=d.reject,d.allSettled&&(g.allSettled=d.allSettled),d.any&&(g.any=d.any))))}function to(){var f=c.Promise;return ya?{Promise:f,PromiseProp:Object.getOwnPropertyDescriptor(c,"Promise"),all:f.all,race:f.race,allSettled:f.allSettled,any:f.any,resolve:f.resolve,reject:f.reject}:{}}function $n(f,d,g,E,S){var R=Ue;try{return Wr(f,!0),d(g,E,S)}finally{Wr(R,!1)}}function Ri(f,d,g,E){return typeof f!="function"?f:function(){var S=Ue;g&&nn(),Wr(d,!0);try{return f.apply(this,arguments)}finally{Wr(S,!1),E&&queueMicrotask(Kn)}}}function Dr(f){Promise===$r&&ln.echoes===0?Ai===0?f():enqueueNativeMicroTask(f):setTimeout(f,0)}(""+Tr).indexOf("[native code]")===-1&&(nn=Kn=Ke);var It=ke.reject,An="",Mn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",mn="String expected.",ba=[],ai="__dbnames",Ir="readonly",jr="readwrite";function ea(f,d){return f?d?function(){return f.apply(this,arguments)&&d.apply(this,arguments)}:f:d}var as={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ii(f){return typeof f!="string"||/\./.test(f)?function(d){return d}:function(d){return d[f]===void 0&&f in d&&delete(d=k(d))[f],d}}function no(){throw Oe.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function ht(f,d){try{var g=dr(f),E=dr(d);if(g!==E)return g==="Array"?1:E==="Array"?-1:g==="binary"?1:E==="binary"?-1:g==="string"?1:E==="string"?-1:g==="Date"?1:E!=="Date"?NaN:-1;switch(g){case"number":case"Date":case"string":return d<f?1:f<d?-1:0;case"binary":return(function(S,R){for(var I=S.length,P=R.length,F=I<P?I:P,H=0;H<F;++H)if(S[H]!==R[H])return S[H]<R[H]?-1:1;return I===P?0:I<P?-1:1})(pn(f),pn(d));case"Array":return(function(S,R){for(var I=S.length,P=R.length,F=I<P?I:P,H=0;H<F;++H){var W=ht(S[H],R[H]);if(W!==0)return W}return I===P?0:I<P?-1:1})(f,d)}}catch{}return NaN}function dr(f){var d=typeof f;return d!="object"?d:ArrayBuffer.isView(f)?"binary":(f=Rt(f),f==="ArrayBuffer"?"binary":f)}function pn(f){return f instanceof Uint8Array?f:ArrayBuffer.isView(f)?new Uint8Array(f.buffer,f.byteOffset,f.byteLength):new Uint8Array(f)}function gn(f,d,g){var E=f.schema.yProps;return E?(d&&0<g.numFailures&&(d=d.filter(function(S,R){return!g.failures[R]})),Promise.all(E.map(function(S){return S=S.updatesTable,d?f.db.table(S).where("k").anyOf(d).delete():f.db.table(S).clear()})).then(function(){return g})):g}var Or=(is.prototype.execute=function(f){var d=this["@@propmod"];if(d.add!==void 0){var g=d.add;if(b(g))return l(l([],b(f)?f:[],!0),g).sort();if(typeof g=="number")return(Number(f)||0)+g;if(typeof g=="bigint")try{return BigInt(f)+g}catch{return BigInt(0)+g}throw new TypeError("Invalid term ".concat(g))}if(d.remove!==void 0){var E=d.remove;if(b(E))return b(f)?f.filter(function(S){return!E.includes(S)}).sort():[];if(typeof E=="number")return Number(f)-E;if(typeof E=="bigint")try{return BigInt(f)-E}catch{return BigInt(0)-E}throw new TypeError("Invalid subtrahend ".concat(E))}return g=(g=d.replacePrefix)===null||g===void 0?void 0:g[0],g&&typeof f=="string"&&f.startsWith(g)?d.replacePrefix[1]+f.substring(g.length):f},is);function is(f){this["@@propmod"]=f}function Vt(f,d){for(var g=p(d),E=g.length,S=!1,R=0;R<E;++R){var I=g[R],P=d[I],F=Ye(f,I);P instanceof Or?(M(f,I,P.execute(F)),S=!0):F!==P&&(M(f,I,P),S=!0)}return S}var si=(bt.prototype._trans=function(f,d,g){var E=this._tx||Ue.trans,S=this.name,R=wn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(f==="readonly"?"read":"write"," ").concat(this.name));function I(H,W,U){if(!U.schema[S])throw new Oe.NotFound("Table "+S+" not part of transaction");return d(U.idbtrans,U)}var P=ar();try{var F=E&&E.db._novip===this.db._novip?E===Ue.trans?E._promise(f,I,g):Ht(function(){return E._promise(f,I,g)},{trans:E,transless:Ue.transless||Ue}):(function H(W,U,ne,K){if(W.idbdb&&(W._state.openComplete||Ue.letThrough||W._vip)){var X=W._createTransaction(U,ne,W._dbSchema);try{X.create(),W._state.PR1398_maxLoop=3}catch($){return $.name===rt.InvalidState&&W.isOpen()&&0<--W._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),W.close({disableAutoOpen:!1}),W.open().then(function(){return H(W,U,ne,K)})):It($)}return X._promise(U,function($,ee){return Ht(function(){return Ue.trans=X,K($,ee,X)})}).then(function($){if(U==="readwrite")try{X.idbtrans.commit()}catch{}return U==="readonly"?$:X._completion.then(function(){return $})})}if(W._state.openComplete)return It(new Oe.DatabaseClosed(W._state.dbOpenError));if(!W._state.isBeingOpened){if(!W._state.autoOpen)return It(new Oe.DatabaseClosed);W.open().catch(Ke)}return W._state.dbReadyPromise.then(function(){return H(W,U,ne,K)})})(this.db,f,[this.name],I);return R&&(F._consoleTask=R,F=F.catch(function(H){return console.trace(H),It(H)})),F}finally{P&&Nr()}},bt.prototype.get=function(f,d){var g=this;return f&&f.constructor===Object?this.where(f).first(d):f==null?It(new Oe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(E){return g.core.get({trans:E,key:f}).then(function(S){return g.hook.reading.fire(S)})}).then(d)},bt.prototype.where=function(f){if(typeof f=="string")return new this.db.WhereClause(this,f);if(b(f))return new this.db.WhereClause(this,"[".concat(f.join("+"),"]"));var d=p(f);if(d.length===1)return this.where(d[0]).equals(f[d[0]]);var g=this.schema.indexes.concat(this.schema.primKey).filter(function(P){if(P.compound&&d.every(function(H){return 0<=P.keyPath.indexOf(H)})){for(var F=0;F<d.length;++F)if(d.indexOf(P.keyPath[F])===-1)return!1;return!0}return!1}).sort(function(P,F){return P.keyPath.length-F.keyPath.length})[0];if(g&&this.db._maxKey!==An){var R=g.keyPath.slice(0,d.length);return this.where(R).equals(R.map(function(F){return f[F]}))}!g&&wn&&console.warn("The query ".concat(JSON.stringify(f)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(d.join("+"),"]"));var E=this.schema.idxByName;function S(P,F){return ht(P,F)===0}var I=d.reduce(function(U,F){var H=U[0],W=U[1],U=E[F],ne=f[F];return[H||U,H||!U?ea(W,U&&U.multi?function(K){return K=Ye(K,F),b(K)&&K.some(function(X){return S(ne,X)})}:function(K){return S(ne,Ye(K,F))}):W]},[null,null]),R=I[0],I=I[1];return R?this.where(R.name).equals(f[R.keyPath]).filter(I):g?this.filter(I):this.where(d).equals("")},bt.prototype.filter=function(f){return this.toCollection().and(f)},bt.prototype.count=function(f){return this.toCollection().count(f)},bt.prototype.offset=function(f){return this.toCollection().offset(f)},bt.prototype.limit=function(f){return this.toCollection().limit(f)},bt.prototype.each=function(f){return this.toCollection().each(f)},bt.prototype.toArray=function(f){return this.toCollection().toArray(f)},bt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},bt.prototype.orderBy=function(f){return new this.db.Collection(new this.db.WhereClause(this,b(f)?"[".concat(f.join("+"),"]"):f))},bt.prototype.reverse=function(){return this.toCollection().reverse()},bt.prototype.mapToClass=function(f){var d,g=this.db,E=this.name;function S(){return d!==null&&d.apply(this,arguments)||this}(this.schema.mappedClass=f).prototype instanceof no&&((function(F,H){if(typeof H!="function"&&H!==null)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");function W(){this.constructor=F}r(F,H),F.prototype=H===null?Object.create(H):(W.prototype=H.prototype,new W)})(S,d=f),Object.defineProperty(S.prototype,"db",{get:function(){return g},enumerable:!1,configurable:!0}),S.prototype.table=function(){return E},f=S);for(var R=new Set,I=f.prototype;I;I=v(I))Object.getOwnPropertyNames(I).forEach(function(F){return R.add(F)});function P(F){if(!F)return F;var H,W=Object.create(f.prototype);for(H in F)if(!R.has(H))try{W[H]=F[H]}catch{}return W}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=P,this.hook("reading",P),f},bt.prototype.defineClass=function(){return this.mapToClass(function(f){_(this,f)})},bt.prototype.add=function(f,d){var g=this,E=this.schema.primKey,S=E.auto,R=E.keyPath,I=f;return R&&S&&(I=ii(R)(f)),this._trans("readwrite",function(P){return g.core.mutate({trans:P,type:"add",keys:d!=null?[d]:null,values:[I]})}).then(function(P){return P.numFailures?ke.reject(P.failures[0]):P.lastResult}).then(function(P){if(R)try{M(f,R,P)}catch{}return P})},bt.prototype.upsert=function(f,d){var g=this,E=this.schema.primKey.keyPath;return this._trans("readwrite",function(S){return g.core.get({trans:S,key:f}).then(function(R){var I=R??{};return Vt(I,d),E&&M(I,E,f),g.core.mutate({trans:S,type:"put",values:[I],keys:[f],upsert:!0,updates:{keys:[f],changeSpecs:[d]}}).then(function(P){return P.numFailures?ke.reject(P.failures[0]):!!R})})})},bt.prototype.update=function(f,d){return typeof f!="object"||b(f)?this.where(":id").equals(f).modify(d):(f=Ye(f,this.schema.primKey.keyPath),f===void 0?It(new Oe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(f).modify(d))},bt.prototype.put=function(f,d){var g=this,E=this.schema.primKey,S=E.auto,R=E.keyPath,I=f;return R&&S&&(I=ii(R)(f)),this._trans("readwrite",function(P){return g.core.mutate({trans:P,type:"put",values:[I],keys:d!=null?[d]:null})}).then(function(P){return P.numFailures?ke.reject(P.failures[0]):P.lastResult}).then(function(P){if(R)try{M(f,R,P)}catch{}return P})},bt.prototype.delete=function(f){var d=this;return this._trans("readwrite",function(g){return d.core.mutate({trans:g,type:"delete",keys:[f]}).then(function(E){return gn(d,[f],E)}).then(function(E){return E.numFailures?ke.reject(E.failures[0]):void 0})})},bt.prototype.clear=function(){var f=this;return this._trans("readwrite",function(d){return f.core.mutate({trans:d,type:"deleteRange",range:as}).then(function(g){return gn(f,null,g)})}).then(function(d){return d.numFailures?ke.reject(d.failures[0]):void 0})},bt.prototype.bulkGet=function(f){var d=this;return this._trans("readonly",function(g){return d.core.getMany({keys:f,trans:g}).then(function(E){return E.map(function(S){return d.hook.reading.fire(S)})})})},bt.prototype.bulkAdd=function(f,d,g){var E=this,S=Array.isArray(d)?d:void 0,R=(g=g||(S?void 0:d))?g.allKeys:void 0;return this._trans("readwrite",function(I){var H=E.schema.primKey,P=H.auto,H=H.keyPath;if(H&&S)throw new Oe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(S&&S.length!==f.length)throw new Oe.InvalidArgument("Arguments objects and keys must have the same length");var F=f.length,H=H&&P?f.map(ii(H)):f;return E.core.mutate({trans:I,type:"add",keys:S,values:H,wantResults:R}).then(function(X){var U=X.numFailures,ne=X.results,K=X.lastResult,X=X.failures;if(U===0)return R?ne:K;throw new $e("".concat(E.name,".bulkAdd(): ").concat(U," of ").concat(F," operations failed"),X)})})},bt.prototype.bulkPut=function(f,d,g){var E=this,S=Array.isArray(d)?d:void 0,R=(g=g||(S?void 0:d))?g.allKeys:void 0;return this._trans("readwrite",function(I){var H=E.schema.primKey,P=H.auto,H=H.keyPath;if(H&&S)throw new Oe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(S&&S.length!==f.length)throw new Oe.InvalidArgument("Arguments objects and keys must have the same length");var F=f.length,H=H&&P?f.map(ii(H)):f;return E.core.mutate({trans:I,type:"put",keys:S,values:H,wantResults:R}).then(function(X){var U=X.numFailures,ne=X.results,K=X.lastResult,X=X.failures;if(U===0)return R?ne:K;throw new $e("".concat(E.name,".bulkPut(): ").concat(U," of ").concat(F," operations failed"),X)})})},bt.prototype.bulkUpdate=function(f){var d=this,g=this.core,E=f.map(function(I){return I.key}),S=f.map(function(I){return I.changes}),R=[];return this._trans("readwrite",function(I){return g.getMany({trans:I,keys:E,cache:"clone"}).then(function(P){var F=[],H=[];f.forEach(function(U,ne){var K=U.key,X=U.changes,$=P[ne];if($){for(var ee=0,oe=Object.keys(X);ee<oe.length;ee++){var fe=oe[ee],ye=X[fe];if(fe===d.schema.primKey.keyPath){if(ht(ye,K)!==0)throw new Oe.Constraint("Cannot update primary key in bulkUpdate()")}else M($,fe,ye)}R.push(ne),F.push(K),H.push($)}});var W=F.length;return g.mutate({trans:I,type:"put",keys:F,values:H,updates:{keys:E,changeSpecs:S}}).then(function(U){var ne=U.numFailures,K=U.failures;if(ne===0)return W;for(var X=0,$=Object.keys(K);X<$.length;X++){var ee,oe=$[X],fe=R[Number(oe)];fe!=null&&(ee=K[oe],delete K[oe],K[fe]=ee)}throw new $e("".concat(d.name,".bulkUpdate(): ").concat(ne," of ").concat(W," operations failed"),K)})})})},bt.prototype.bulkDelete=function(f){var d=this,g=f.length;return this._trans("readwrite",function(E){return d.core.mutate({trans:E,type:"delete",keys:f}).then(function(S){return gn(d,f,S)})}).then(function(I){var S=I.numFailures,R=I.lastResult,I=I.failures;if(S===0)return R;throw new $e("".concat(d.name,".bulkDelete(): ").concat(S," of ").concat(g," operations failed"),I)})},bt);function bt(){}function ta(f){function d(I,P){if(P){for(var F=arguments.length,H=new Array(F-1);--F;)H[F-1]=arguments[F];return g[I].subscribe.apply(null,H),f}if(typeof I=="string")return g[I]}var g={};d.addEventType=R;for(var E=1,S=arguments.length;E<S;++E)R(arguments[E]);return d;function R(I,P,F){if(typeof I!="object"){var H;P=P||Nt;var W={subscribers:[],fire:F=F||Ke,subscribe:function(U){W.subscribers.indexOf(U)===-1&&(W.subscribers.push(U),W.fire=P(W.fire,U))},unsubscribe:function(U){W.subscribers=W.subscribers.filter(function(ne){return ne!==U}),W.fire=W.subscribers.reduce(P,F)}};return g[I]=d[I]=W}p(H=I).forEach(function(U){var ne=H[U];if(b(ne))R(U,H[U][0],H[U][1]);else{if(ne!=="asap")throw new Oe.InvalidArgument("Invalid event config");var K=R(U,Je,function(){for(var X=arguments.length,$=new Array(X);X--;)$[X]=arguments[X];K.subscribers.forEach(function(ee){qe(function(){ee.apply(null,$)})})})}})}}function Vn(f,d){return ue(d).from({prototype:f}),d}function na(f,d){return!(f.filter||f.algorithm||f.or)&&(d?f.justLimit:!f.replayFilter)}function ss(f,d){f.filter=ea(f.filter,d)}function Ni(f,d,g){var E=f.replayFilter;f.replayFilter=E?function(){return ea(E(),d())}:d,f.justLimit=g&&!E}function ra(f,d){if(f.isPrimKey)return d.primaryKey;var g=d.getIndexByKeyPath(f.index);if(!g)throw new Oe.Schema("KeyPath "+f.index+" on object store "+d.name+" is not indexed");return g}function ro(f,d,g){var E=ra(f,d.schema);return d.openCursor({trans:g,values:!f.keysOnly,reverse:f.dir==="prev",unique:!!f.unique,query:{index:E,range:f.range}})}function aa(f,d,g,E){var S=f.replayFilter?ea(f.filter,f.replayFilter()):f.filter;if(f.or){var R={},I=function(P,F,H){var W,U;S&&!S(F,H,function(ne){return F.stop(ne)},function(ne){return F.fail(ne)})||((U=""+(W=F.primaryKey))=="[object ArrayBuffer]"&&(U=""+new Uint8Array(W)),N(R,U)||(R[U]=!0,d(P,F,H)))};return Promise.all([f.or._iterate(I,g),ir(ro(f,E,g),f.algorithm,I,!f.keysOnly&&f.valueMapper)])}return ir(ro(f,E,g),ea(f.algorithm,S),d,!f.keysOnly&&f.valueMapper)}function ir(f,d,g,E){var S=zt(E?function(R,I,P){return g(E(R),I,P)}:g);return f.then(function(R){if(R)return R.start(function(){var I=function(){return R.continue()};d&&!d(R,function(P){return I=P},function(P){R.stop(P),I=Ke},function(P){R.fail(P),I=Ke})||S(R.value,R,function(P){return I=P}),I()})})}var Uo=(_t.prototype._read=function(f,d){var g=this._ctx;return g.error?g.table._trans(null,It.bind(null,g.error)):g.table._trans("readonly",f).then(d)},_t.prototype._write=function(f){var d=this._ctx;return d.error?d.table._trans(null,It.bind(null,d.error)):d.table._trans("readwrite",f,"locked")},_t.prototype._addAlgorithm=function(f){var d=this._ctx;d.algorithm=ea(d.algorithm,f)},_t.prototype._iterate=function(f,d){return aa(this._ctx,f,d,this._ctx.table.core)},_t.prototype.clone=function(f){var d=Object.create(this.constructor.prototype),g=Object.create(this._ctx);return f&&_(g,f),d._ctx=g,d},_t.prototype.raw=function(){return this._ctx.valueMapper=null,this},_t.prototype.each=function(f){var d=this._ctx;return this._read(function(g){return aa(d,f,g,d.table.core)})},_t.prototype.count=function(f){var d=this;return this._read(function(g){var E=d._ctx,S=E.table.core;if(na(E,!0))return S.count({trans:g,query:{index:ra(E,S.schema),range:E.range}}).then(function(I){return Math.min(I,E.limit)});var R=0;return aa(E,function(){return++R,!1},g,S).then(function(){return R})}).then(f)},_t.prototype.sortBy=function(f,d){var g=f.split(".").reverse(),E=g[0],S=g.length-1;function R(F,H){return H?R(F[g[H]],H-1):F[E]}var I=this._ctx.dir==="next"?1:-1;function P(F,H){return ht(R(F,S),R(H,S))*I}return this.toArray(function(F){return F.sort(P)}).then(d)},_t.prototype.toArray=function(f){var d=this;return this._read(function(g){var E=d._ctx;if(E.dir==="next"&&na(E,!0)&&0<E.limit){var S=E.valueMapper,R=ra(E,E.table.core.schema);return E.table.core.query({trans:g,limit:E.limit,values:!0,query:{index:R,range:E.range}}).then(function(P){return P=P.result,S?P.map(S):P})}var I=[];return aa(E,function(P){return I.push(P)},g,E.table.core).then(function(){return I})},f)},_t.prototype.offset=function(f){var d=this._ctx;return f<=0||(d.offset+=f,na(d)?Ni(d,function(){var g=f;return function(E,S){return g===0||(g===1?--g:S(function(){E.advance(g),g=0}),!1)}}):Ni(d,function(){var g=f;return function(){return--g<0}})),this},_t.prototype.limit=function(f){return this._ctx.limit=Math.min(this._ctx.limit,f),Ni(this._ctx,function(){var d=f;return function(g,E,S){return--d<=0&&E(S),0<=d}},!0),this},_t.prototype.until=function(f,d){return ss(this._ctx,function(g,E,S){return!f(g.value)||(E(S),d)}),this},_t.prototype.first=function(f){return this.limit(1).toArray(function(d){return d[0]}).then(f)},_t.prototype.last=function(f){return this.reverse().first(f)},_t.prototype.filter=function(f){var d;return ss(this._ctx,function(g){return f(g.value)}),(d=this._ctx).isMatch=ea(d.isMatch,f),this},_t.prototype.and=function(f){return this.filter(f)},_t.prototype.or=function(f){return new this.db.WhereClause(this._ctx.table,f,this)},_t.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},_t.prototype.desc=function(){return this.reverse()},_t.prototype.eachKey=function(f){var d=this._ctx;return d.keysOnly=!d.isMatch,this.each(function(g,E){f(E.key,E)})},_t.prototype.eachUniqueKey=function(f){return this._ctx.unique="unique",this.eachKey(f)},_t.prototype.eachPrimaryKey=function(f){var d=this._ctx;return d.keysOnly=!d.isMatch,this.each(function(g,E){f(E.primaryKey,E)})},_t.prototype.keys=function(f){var d=this._ctx;d.keysOnly=!d.isMatch;var g=[];return this.each(function(E,S){g.push(S.key)}).then(function(){return g}).then(f)},_t.prototype.primaryKeys=function(f){var d=this._ctx;if(d.dir==="next"&&na(d,!0)&&0<d.limit)return this._read(function(E){var S=ra(d,d.table.core.schema);return d.table.core.query({trans:E,values:!1,limit:d.limit,query:{index:S,range:d.range}})}).then(function(E){return E.result}).then(f);d.keysOnly=!d.isMatch;var g=[];return this.each(function(E,S){g.push(S.primaryKey)}).then(function(){return g}).then(f)},_t.prototype.uniqueKeys=function(f){return this._ctx.unique="unique",this.keys(f)},_t.prototype.firstKey=function(f){return this.limit(1).keys(function(d){return d[0]}).then(f)},_t.prototype.lastKey=function(f){return this.reverse().firstKey(f)},_t.prototype.distinct=function(){var f=this._ctx,f=f.index&&f.table.schema.idxByName[f.index];if(!f||!f.multi)return this;var d={};return ss(this._ctx,function(S){var E=S.primaryKey.toString(),S=N(d,E);return d[E]=!0,!S}),this},_t.prototype.modify=function(f){var d=this,g=this._ctx;return this._write(function(E){var S=typeof f=="function"?f:function($){return Vt($,f)},R=g.table.core,H=R.schema.primaryKey,I=H.outbound,P=H.extractKey,F=200,H=d.db._options.modifyChunkSize;H&&(F=typeof H=="object"?H[R.name]||H["*"]||200:H);function W($,fe){var oe=fe.failures,fe=fe.numFailures;ne+=$-fe;for(var ye=0,xe=p(oe);ye<xe.length;ye++){var Ie=xe[ye];U.push(oe[Ie])}}var U=[],ne=0,K=[],X=f===os;return d.clone().primaryKeys().then(function($){function ee(fe){var ye=Math.min(F,$.length-fe),xe=$.slice(fe,fe+ye);return(X?Promise.resolve([]):R.getMany({trans:E,keys:xe,cache:"immutable"})).then(function(Ie){var Le=[],Ce=[],Ve=I?[]:null,Pe=X?xe:[];if(!X)for(var De=0;De<ye;++De){var ze=Ie[De],We={value:k(ze),primKey:$[fe+De]};S.call(We,We.value,We)!==!1&&(We.value==null?Pe.push($[fe+De]):I||ht(P(ze),P(We.value))===0?(Ce.push(We.value),I&&Ve.push($[fe+De])):(Pe.push($[fe+De]),Le.push(We.value)))}return Promise.resolve(0<Le.length&&R.mutate({trans:E,type:"add",values:Le}).then(function(ot){for(var dt in ot.failures)Pe.splice(parseInt(dt),1);W(Le.length,ot)})).then(function(){return(0<Ce.length||oe&&typeof f=="object")&&R.mutate({trans:E,type:"put",keys:Ve,values:Ce,criteria:oe,changeSpec:typeof f!="function"&&f,isAdditionalChunk:0<fe}).then(function(ot){return W(Ce.length,ot)})}).then(function(){return(0<Pe.length||oe&&X)&&R.mutate({trans:E,type:"delete",keys:Pe,criteria:oe,isAdditionalChunk:0<fe}).then(function(ot){return gn(g.table,Pe,ot)}).then(function(ot){return W(Pe.length,ot)})}).then(function(){return $.length>fe+ye&&ee(fe+F)})})}var oe=na(g)&&g.limit===1/0&&(typeof f!="function"||X)&&{index:g.index,range:g.range};return ee(0).then(function(){if(0<U.length)throw new Be("Error modifying one or more objects",U,ne,K);return $.length})})})},_t.prototype.delete=function(){var f=this._ctx,d=f.range;return!na(f)||f.table.schema.yProps||!f.isPrimKey&&d.type!==3?this.modify(os):this._write(function(g){var E=f.table.core.schema.primaryKey,S=d;return f.table.core.count({trans:g,query:{index:E,range:S}}).then(function(R){return f.table.core.mutate({trans:g,type:"deleteRange",range:S}).then(function(F){var P=F.failures,F=F.numFailures;if(F)throw new Be("Could not delete some values",Object.keys(P).map(function(H){return P[H]}),R-F);return R-F})})})},_t);function _t(){}var os=function(f,d){return d.value=null};function ls(f,d){return f<d?-1:f===d?0:1}function zo(f,d){return d<f?-1:f===d?0:1}function bn(f,d,g){return f=f instanceof qa?new f.Collection(f):f,f._ctx.error=new(g||TypeError)(d),f}function ia(f){return new f.Collection(f,function(){return xr("")}).limit(0)}function mr(f,d,g,E){var S,R,I,P,F,H,W,U=g.length;if(!g.every(function(X){return typeof X=="string"}))return bn(f,mn);function ne(X){S=X==="next"?function(ee){return ee.toUpperCase()}:function(ee){return ee.toLowerCase()},R=X==="next"?function(ee){return ee.toLowerCase()}:function(ee){return ee.toUpperCase()},I=X==="next"?ls:zo;var $=g.map(function(ee){return{lower:R(ee),upper:S(ee)}}).sort(function(ee,oe){return I(ee.lower,oe.lower)});P=$.map(function(ee){return ee.upper}),F=$.map(function(ee){return ee.lower}),W=(H=X)==="next"?"":E}ne("next"),f=new f.Collection(f,function(){return Mr(P[0],F[U-1]+E)}),f._ondirectionchange=function(X){ne(X)};var K=0;return f._addAlgorithm(function(X,$,ee){var oe=X.key;if(typeof oe!="string")return!1;var fe=R(oe);if(d(fe,F,K))return!0;for(var ye=null,xe=K;xe<U;++xe){var Ie=(function(Le,Ce,Ve,Pe,De,ze){for(var We=Math.min(Le.length,Pe.length),ot=-1,dt=0;dt<We;++dt){var Wn=Ce[dt];if(Wn!==Pe[dt])return De(Le[dt],Ve[dt])<0?Le.substr(0,dt)+Ve[dt]+Ve.substr(dt+1):De(Le[dt],Pe[dt])<0?Le.substr(0,dt)+Pe[dt]+Ve.substr(dt+1):0<=ot?Le.substr(0,ot)+Ce[ot]+Ve.substr(ot+1):null;De(Le[dt],Wn)<0&&(ot=dt)}return We<Pe.length&&ze==="next"?Le+Ve.substr(Le.length):We<Le.length&&ze==="prev"?Le.substr(0,Ve.length):ot<0?null:Le.substr(0,ot)+Pe[ot]+Ve.substr(ot+1)})(oe,fe,P[xe],F[xe],I,H);Ie===null&&ye===null?K=xe+1:(ye===null||0<I(ye,Ie))&&(ye=Ie)}return $(ye!==null?function(){X.continue(ye+W)}:ee),!1}),f}function Mr(f,d,g,E){return{type:2,lower:f,upper:d,lowerOpen:g,upperOpen:E}}function xr(f){return{type:1,lower:f,upper:f}}var qa=(Object.defineProperty(Kt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Kt.prototype.between=function(f,d,g,E){g=g!==!1,E=E===!0;try{return 0<this._cmp(f,d)||this._cmp(f,d)===0&&(g||E)&&(!g||!E)?ia(this):new this.Collection(this,function(){return Mr(f,d,!g,!E)})}catch{return bn(this,Mn)}},Kt.prototype.equals=function(f){return f==null?bn(this,Mn):new this.Collection(this,function(){return xr(f)})},Kt.prototype.above=function(f){return f==null?bn(this,Mn):new this.Collection(this,function(){return Mr(f,void 0,!0)})},Kt.prototype.aboveOrEqual=function(f){return f==null?bn(this,Mn):new this.Collection(this,function(){return Mr(f,void 0,!1)})},Kt.prototype.below=function(f){return f==null?bn(this,Mn):new this.Collection(this,function(){return Mr(void 0,f,!1,!0)})},Kt.prototype.belowOrEqual=function(f){return f==null?bn(this,Mn):new this.Collection(this,function(){return Mr(void 0,f)})},Kt.prototype.startsWith=function(f){return typeof f!="string"?bn(this,mn):this.between(f,f+An,!0,!0)},Kt.prototype.startsWithIgnoreCase=function(f){return f===""?this.startsWith(f):mr(this,function(d,g){return d.indexOf(g[0])===0},[f],An)},Kt.prototype.equalsIgnoreCase=function(f){return mr(this,function(d,g){return d===g[0]},[f],"")},Kt.prototype.anyOfIgnoreCase=function(){var f=tt.apply(at,arguments);return f.length===0?ia(this):mr(this,function(d,g){return g.indexOf(d)!==-1},f,"")},Kt.prototype.startsWithAnyOfIgnoreCase=function(){var f=tt.apply(at,arguments);return f.length===0?ia(this):mr(this,function(d,g){return g.some(function(E){return d.indexOf(E)===0})},f,An)},Kt.prototype.anyOf=function(){var f=this,d=tt.apply(at,arguments),g=this._cmp;try{d.sort(g)}catch{return bn(this,Mn)}if(d.length===0)return ia(this);var E=new this.Collection(this,function(){return Mr(d[0],d[d.length-1])});E._ondirectionchange=function(R){g=R==="next"?f._ascending:f._descending,d.sort(g)};var S=0;return E._addAlgorithm(function(R,I,P){for(var F=R.key;0<g(F,d[S]);)if(++S===d.length)return I(P),!1;return g(F,d[S])===0||(I(function(){R.continue(d[S])}),!1)}),E},Kt.prototype.notEqual=function(f){return this.inAnyRange([[-1/0,f],[f,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Kt.prototype.noneOf=function(){var f=tt.apply(at,arguments);if(f.length===0)return new this.Collection(this);try{f.sort(this._ascending)}catch{return bn(this,Mn)}var d=f.reduce(function(g,E){return g?g.concat([[g[g.length-1][1],E]]):[[-1/0,E]]},null);return d.push([f[f.length-1],this.db._maxKey]),this.inAnyRange(d,{includeLowers:!1,includeUppers:!1})},Kt.prototype.inAnyRange=function(oe,d){var g=this,E=this._cmp,S=this._ascending,R=this._descending,I=this._min,P=this._max;if(oe.length===0)return ia(this);if(!oe.every(function(fe){return fe[0]!==void 0&&fe[1]!==void 0&&S(fe[0],fe[1])<=0}))return bn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Oe.InvalidArgument);var F=!d||d.includeLowers!==!1,H=d&&d.includeUppers===!0,W,U=S;function ne(fe,ye){return U(fe[0],ye[0])}try{(W=oe.reduce(function(fe,ye){for(var xe=0,Ie=fe.length;xe<Ie;++xe){var Le=fe[xe];if(E(ye[0],Le[1])<0&&0<E(ye[1],Le[0])){Le[0]=I(Le[0],ye[0]),Le[1]=P(Le[1],ye[1]);break}}return xe===Ie&&fe.push(ye),fe},[])).sort(ne)}catch{return bn(this,Mn)}var K=0,X=H?function(fe){return 0<S(fe,W[K][1])}:function(fe){return 0<=S(fe,W[K][1])},$=F?function(fe){return 0<R(fe,W[K][0])}:function(fe){return 0<=R(fe,W[K][0])},ee=X,oe=new this.Collection(this,function(){return Mr(W[0][0],W[W.length-1][1],!F,!H)});return oe._ondirectionchange=function(fe){U=fe==="next"?(ee=X,S):(ee=$,R),W.sort(ne)},oe._addAlgorithm(function(fe,ye,xe){for(var Ie,Le=fe.key;ee(Le);)if(++K===W.length)return ye(xe),!1;return!X(Ie=Le)&&!$(Ie)||(g._cmp(Le,W[K][1])===0||g._cmp(Le,W[K][0])===0||ye(function(){U===S?fe.continue(W[K][0]):fe.continue(W[K][1])}),!1)}),oe},Kt.prototype.startsWithAnyOf=function(){var f=tt.apply(at,arguments);return f.every(function(d){return typeof d=="string"})?f.length===0?ia(this):this.inAnyRange(f.map(function(d){return[d,d+An]})):bn(this,"startsWithAnyOf() only works with strings")},Kt);function Kt(){}function Zn(f){return zt(function(d){return xa(d),f(d.target.error),!1})}function xa(f){f.stopPropagation&&f.stopPropagation(),f.preventDefault&&f.preventDefault()}var Vr="storagemutated",Er="x-storagemutated-1",Rn=ta(null,Vr),Ci=(vt.prototype._lock=function(){return Ne(!Ue.global),++this._reculock,this._reculock!==1||Ue.global||(Ue.lockOwnerFor=this),this},vt.prototype._unlock=function(){if(Ne(!Ue.global),--this._reculock==0)for(Ue.global||(Ue.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var f=this._blockedFuncs.shift();try{$n(f[1],f[0])}catch{}}return this},vt.prototype._locked=function(){return this._reculock&&Ue.lockOwnerFor!==this},vt.prototype.create=function(f){var d=this;if(!this.mode)return this;var g=this.db.idbdb,E=this.db._state.dbOpenError;if(Ne(!this.idbtrans),!f&&!g)switch(E&&E.name){case"DatabaseClosedError":throw new Oe.DatabaseClosed(E);case"MissingAPIError":throw new Oe.MissingAPI(E.message,E);default:throw new Oe.OpenFailed(E)}if(!this.active)throw new Oe.TransactionInactive;return Ne(this._completion._state===null),(f=this.idbtrans=f||(this.db.core||g).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=zt(function(S){xa(S),d._reject(f.error)}),f.onabort=zt(function(S){xa(S),d.active&&d._reject(new Oe.Abort(f.error)),d.active=!1,d.on("abort").fire(S)}),f.oncomplete=zt(function(){d.active=!1,d._resolve(),"mutatedParts"in f&&Rn.storagemutated.fire(f.mutatedParts)}),this},vt.prototype._promise=function(f,d,g){var E=this;if(f==="readwrite"&&this.mode!=="readwrite")return It(new Oe.ReadOnly("Transaction is readonly"));if(!this.active)return It(new Oe.TransactionInactive);if(this._locked())return new ke(function(R,I){E._blockedFuncs.push([function(){E._promise(f,d,g).then(R,I)},Ue])});if(g)return Ht(function(){var R=new ke(function(I,P){E._lock();var F=d(I,P,E);F&&F.then&&F.then(I,P)});return R.finally(function(){return E._unlock()}),R._lib=!0,R});var S=new ke(function(R,I){var P=d(R,I,E);P&&P.then&&P.then(R,I)});return S._lib=!0,S},vt.prototype._root=function(){return this.parent?this.parent._root():this},vt.prototype.waitFor=function(f){var d,g=this._root(),E=ke.resolve(f);g._waitingFor?g._waitingFor=g._waitingFor.then(function(){return E}):(g._waitingFor=E,g._waitingQueue=[],d=g.idbtrans.objectStore(g.storeNames[0]),(function R(){for(++g._spinCount;g._waitingQueue.length;)g._waitingQueue.shift()();g._waitingFor&&(d.get(-1/0).onsuccess=R)})());var S=g._waitingFor;return new ke(function(R,I){E.then(function(P){return g._waitingQueue.push(zt(R.bind(null,P)))},function(P){return g._waitingQueue.push(zt(I.bind(null,P)))}).finally(function(){g._waitingFor===S&&(g._waitingFor=null)})})},vt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Oe.Abort))},vt.prototype.table=function(f){var d=this._memoizedTables||(this._memoizedTables={});if(N(d,f))return d[f];var g=this.schema[f];if(!g)throw new Oe.NotFound("Table "+f+" not part of transaction");return g=new this.db.Table(f,g,this),g.core=this.db.core.table(f),d[f]=g},vt);function vt(){}function kr(f,d,g,E,S,R,I,P){return{name:f,keyPath:d,unique:g,multi:E,auto:S,compound:R,src:(g&&!I?"&":"")+(E?"*":"")+(S?"++":"")+us(d),type:P}}function us(f){return typeof f=="string"?f:f?"["+[].join.call(f,"+")+"]":""}function Fa(f,d,g){return{name:f,primKey:d,indexes:g,mappedClass:null,idxByName:(E=function(S){return[S.name,S]},g.reduce(function(S,R,I){return I=E(R,I),I&&(S[I[0]]=I[1]),S},{}))};var E}var Ha=function(f){try{return f.only([[]]),Ha=function(){return[[]]},[[]]}catch{return Ha=function(){return An},An}};function Ka(f){return f==null?function(){}:typeof f=="string"?(d=f).split(".").length===1?function(g){return g[d]}:function(g){return Ye(g,d)}:function(g){return Ye(g,f)};var d}function Ea(f){return[].slice.call(f)}var sa=0;function yn(f){return f==null?":id":typeof f=="string"?f:"[".concat(f.join("+"),"]")}function Ga(f,d,F){function E(ee){if(ee.type===3)return null;if(ee.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var K=ee.lower,X=ee.upper,$=ee.lowerOpen,ee=ee.upperOpen;return K===void 0?X===void 0?null:d.upperBound(X,!!ee):X===void 0?d.lowerBound(K,!!$):d.bound(K,X,!!$,!!ee)}function S(ne){var K,X=ne.name;return{name:X,schema:ne,mutate:function($){var ee=$.trans,oe=$.type,fe=$.keys,ye=$.values,xe=$.range;return new Promise(function(Ie,Le){Ie=zt(Ie);var Ce=ee.objectStore(X),Ve=Ce.keyPath==null,Pe=oe==="put"||oe==="add";if(!Pe&&oe!=="delete"&&oe!=="deleteRange")throw new Error("Invalid operation type: "+oe);var De,ze=(fe||ye||{length:1}).length;if(fe&&ye&&fe.length!==ye.length)throw new Error("Given keys array must have same length as given values array.");if(ze===0)return Ie({numFailures:0,failures:{},results:[],lastResult:void 0});function We(Pn){++Wn,xa(Pn)}var ot=[],dt=[],Wn=0;if(oe==="deleteRange"){if(xe.type===4)return Ie({numFailures:Wn,failures:dt,results:[],lastResult:void 0});xe.type===3?ot.push(De=Ce.clear()):ot.push(De=Ce.delete(E(xe)))}else{var Ve=Pe?Ve?[ye,fe]:[ye,null]:[fe,null],st=Ve[0],kn=Ve[1];if(Pe)for(var un=0;un<ze;++un)ot.push(De=kn&&kn[un]!==void 0?Ce[oe](st[un],kn[un]):Ce[oe](st[un])),De.onerror=We;else for(un=0;un<ze;++un)ot.push(De=Ce[oe](st[un])),De.onerror=We}function uo(Pn){Pn=Pn.target.result,ot.forEach(function(Br,Fl){return Br.error!=null&&(dt[Fl]=Br.error)}),Ie({numFailures:Wn,failures:dt,results:oe==="delete"?fe:ot.map(function(Br){return Br.result}),lastResult:Pn})}De.onerror=function(Pn){We(Pn),uo(Pn)},De.onsuccess=uo})},getMany:function($){var ee=$.trans,oe=$.keys;return new Promise(function(fe,ye){fe=zt(fe);for(var xe,Ie=ee.objectStore(X),Le=oe.length,Ce=new Array(Le),Ve=0,Pe=0,De=function(ot){ot=ot.target,Ce[ot._pos]=ot.result,++Pe===Ve&&fe(Ce)},ze=Zn(ye),We=0;We<Le;++We)oe[We]!=null&&((xe=Ie.get(oe[We]))._pos=We,xe.onsuccess=De,xe.onerror=ze,++Ve);Ve===0&&fe(Ce)})},get:function($){var ee=$.trans,oe=$.key;return new Promise(function(fe,ye){fe=zt(fe);var xe=ee.objectStore(X).get(oe);xe.onsuccess=function(Ie){return fe(Ie.target.result)},xe.onerror=Zn(ye)})},query:(K=H,function($){return new Promise(function(ee,oe){ee=zt(ee);var fe,ye,xe,Ve=$.trans,Ie=$.values,Le=$.limit,De=$.query,Ce=Le===1/0?void 0:Le,Pe=De.index,De=De.range,Ve=Ve.objectStore(X),Pe=Pe.isPrimaryKey?Ve:Ve.index(Pe.name),De=E(De);if(Le===0)return ee({result:[]});K?((Ce=Ie?Pe.getAll(De,Ce):Pe.getAllKeys(De,Ce)).onsuccess=function(ze){return ee({result:ze.target.result})},Ce.onerror=Zn(oe)):(fe=0,ye=!Ie&&"openKeyCursor"in Pe?Pe.openKeyCursor(De):Pe.openCursor(De),xe=[],ye.onsuccess=function(ze){var We=ye.result;return We?(xe.push(Ie?We.value:We.primaryKey),++fe===Le?ee({result:xe}):void We.continue()):ee({result:xe})},ye.onerror=Zn(oe))})}),openCursor:function($){var ee=$.trans,oe=$.values,fe=$.query,ye=$.reverse,xe=$.unique;return new Promise(function(Ie,Le){Ie=zt(Ie);var Pe=fe.index,Ce=fe.range,Ve=ee.objectStore(X),Ve=Pe.isPrimaryKey?Ve:Ve.index(Pe.name),Pe=ye?xe?"prevunique":"prev":xe?"nextunique":"next",De=!oe&&"openKeyCursor"in Ve?Ve.openKeyCursor(E(Ce),Pe):Ve.openCursor(E(Ce),Pe);De.onerror=Zn(Le),De.onsuccess=zt(function(ze){var We,ot,dt,Wn,st=De.result;st?(st.___id=++sa,st.done=!1,We=st.continue.bind(st),ot=(ot=st.continuePrimaryKey)&&ot.bind(st),dt=st.advance.bind(st),Wn=function(){throw new Error("Cursor not stopped")},st.trans=ee,st.stop=st.continue=st.continuePrimaryKey=st.advance=function(){throw new Error("Cursor not started")},st.fail=zt(Le),st.next=function(){var kn=this,un=1;return this.start(function(){return un--?kn.continue():kn.stop()}).then(function(){return kn})},st.start=function(kn){function un(){if(De.result)try{kn()}catch(Pn){st.fail(Pn)}else st.done=!0,st.start=function(){throw new Error("Cursor behind last entry")},st.stop()}var uo=new Promise(function(Pn,Br){Pn=zt(Pn),De.onerror=Zn(Br),st.fail=Br,st.stop=function(Fl){st.stop=st.continue=st.continuePrimaryKey=st.advance=Wn,Pn(Fl)}});return De.onsuccess=zt(function(Pn){De.onsuccess=un,un()}),st.continue=We,st.continuePrimaryKey=ot,st.advance=dt,un(),uo},Ie(st)):Ie(null)},Le)})},count:function($){var ee=$.query,oe=$.trans,fe=ee.index,ye=ee.range;return new Promise(function(xe,Ie){var Le=oe.objectStore(X),Ce=fe.isPrimaryKey?Le:Le.index(fe.name),Le=E(ye),Ce=Le?Ce.count(Le):Ce.count();Ce.onsuccess=zt(function(Ve){return xe(Ve.target.result)}),Ce.onerror=Zn(Ie)})}}}var R,I,P,W=(I=F,P=Ea((R=f).objectStoreNames),{schema:{name:R.name,tables:P.map(function(ne){return I.objectStore(ne)}).map(function(ne){var K=ne.keyPath,ee=ne.autoIncrement,X=b(K),$={},ee={name:ne.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:K==null,compound:X,keyPath:K,autoIncrement:ee,unique:!0,extractKey:Ka(K)},indexes:Ea(ne.indexNames).map(function(oe){return ne.index(oe)}).map(function(xe){var fe=xe.name,ye=xe.unique,Ie=xe.multiEntry,xe=xe.keyPath,Ie={name:fe,compound:b(xe),keyPath:xe,unique:ye,multiEntry:Ie,extractKey:Ka(xe)};return $[yn(xe)]=Ie}),getIndexByKeyPath:function(oe){return $[yn(oe)]}};return $[":id"]=ee.primaryKey,K!=null&&($[yn(K)]=ee.primaryKey),ee})},hasGetAll:0<P.length&&"getAll"in I.objectStore(P[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),F=W.schema,H=W.hasGetAll,W=F.tables.map(S),U={};return W.forEach(function(ne){return U[ne.name]=ne}),{stack:"dbcore",transaction:f.transaction.bind(f),table:function(ne){if(!U[ne])throw new Error("Table '".concat(ne,"' not found"));return U[ne]},MIN_KEY:-1/0,MAX_KEY:Ha(d),schema:F}}function wa(f,d,g,E){var S=g.IDBKeyRange;return g.indexedDB,{dbcore:(E=Ga(d,S,E),f.dbcore.reduce(function(R,I){return I=I.create,s(s({},R),I(R))},E))}}function oa(f,E){var g=E.db,E=wa(f._middlewares,g,f._deps,E);f.core=E.dbcore,f.tables.forEach(function(S){var R=S.name;f.core.schema.tables.some(function(I){return I.name===R})&&(S.core=f.core.table(R),f[R]instanceof f.Table&&(f[R].core=S.core))})}function oi(f,d,g,E){g.forEach(function(S){var R=E[S];d.forEach(function(I){var P=(function F(H,W){return te(H,W)||(H=v(H))&&F(H,W)})(I,S);(!P||"value"in P&&P.value===void 0)&&(I===f.Transaction.prototype||I instanceof f.Transaction?me(I,S,{get:function(){return this.table(S)},set:function(F){Q(this,S,{value:F,writable:!0,configurable:!0,enumerable:!0})}}):I[S]=new f.Table(S,R))})})}function Ta(f,d){d.forEach(function(g){for(var E in g)g[E]instanceof f.Table&&delete g[E]})}function cs(f,d){return f._cfg.version-d._cfg.version}function Sa(f,d,g,E){var S=f._dbSchema;g.objectStoreNames.contains("$meta")&&!S.$meta&&(S.$meta=Fa("$meta",io("")[0],[]),f._storeNames.push("$meta"));var R=f._createTransaction("readwrite",f._storeNames,S);R.create(g),R._completion.catch(E);var I=R._reject.bind(R),P=Ue.transless||Ue;Ht(function(){return Ue.trans=R,Ue.transless=P,d!==0?(oa(f,g),H=d,((F=R).storeNames.includes("$meta")?F.table("$meta").get("version").then(function(W){return W??H}):ke.resolve(H)).then(function(W){return ne=W,K=R,X=g,$=[],W=(U=f)._versions,ee=U._dbSchema=Aa(0,U.idbdb,X),(W=W.filter(function(oe){return oe._cfg.version>=ne})).length!==0?(W.forEach(function(oe){$.push(function(){var fe=ee,ye=oe._cfg.dbschema;li(U,fe,X),li(U,ye,X),ee=U._dbSchema=ye;var xe=Di(fe,ye);xe.add.forEach(function(Pe){Qa(X,Pe[0],Pe[1].primKey,Pe[1].indexes)}),xe.change.forEach(function(Pe){if(Pe.recreate)throw new Oe.Upgrade("Not yet support for changing primary key");var De=X.objectStore(Pe.name);Pe.add.forEach(function(ze){return Ii(De,ze)}),Pe.change.forEach(function(ze){De.deleteIndex(ze.name),Ii(De,ze)}),Pe.del.forEach(function(ze){return De.deleteIndex(ze)})});var Ie=oe._cfg.contentUpgrade;if(Ie&&oe._cfg.version>ne){oa(U,X),K._memoizedTables={};var Le=j(ye);xe.del.forEach(function(Pe){Le[Pe]=fe[Pe]}),Ta(U,[U.Transaction.prototype]),oi(U,[U.Transaction.prototype],p(Le),Le),K.schema=Le;var Ce,Ve=q(Ie);return Ve&&nn(),xe=ke.follow(function(){var Pe;(Ce=Ie(K))&&Ve&&(Pe=Kn.bind(null,null),Ce.then(Pe,Pe))}),Ce&&typeof Ce.then=="function"?ke.resolve(Ce):xe.then(function(){return Ce})}}),$.push(function(fe){var ye,xe,Ie=oe._cfg.dbschema;ye=Ie,xe=fe,[].slice.call(xe.db.objectStoreNames).forEach(function(Le){return ye[Le]==null&&xe.db.deleteObjectStore(Le)}),Ta(U,[U.Transaction.prototype]),oi(U,[U.Transaction.prototype],U._storeNames,U._dbSchema),K.schema=U._dbSchema}),$.push(function(fe){U.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(U.idbdb.version/10)===oe._cfg.version?(U.idbdb.deleteObjectStore("$meta"),delete U._dbSchema.$meta,U._storeNames=U._storeNames.filter(function(ye){return ye!=="$meta"})):fe.objectStore("$meta").put(oe._cfg.version,"version"))})}),(function oe(){return $.length?ke.resolve($.shift()(K.idbtrans)).then(oe):ke.resolve()})().then(function(){ao(ee,X)})):ke.resolve();var U,ne,K,X,$,ee}).catch(I)):(p(S).forEach(function(W){Qa(g,W,S[W].primKey,S[W].indexes)}),oa(f,g),void ke.follow(function(){return f.on.populate.fire(R)}).catch(I));var F,H})}function fs(f,d){ao(f._dbSchema,d),d.db.version%10!=0||d.objectStoreNames.contains("$meta")||d.db.createObjectStore("$meta").add(Math.ceil(d.db.version/10-1),"version");var g=Aa(0,f.idbdb,d);li(f,f._dbSchema,d);for(var E=0,S=Di(g,f._dbSchema).change;E<S.length;E++){var R=(function(I){if(I.change.length||I.recreate)return console.warn("Unable to patch indexes of table ".concat(I.name," because it has changes on the type of index or primary key.")),{value:void 0};var P=d.objectStore(I.name);I.add.forEach(function(F){wn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(I.name,".").concat(F.src)),Ii(P,F)})})(S[E]);if(typeof R=="object")return R.value}}function Di(f,d){var g,E={del:[],add:[],change:[]};for(g in f)d[g]||E.del.push(g);for(g in d){var S=f[g],R=d[g];if(S){var I={name:g,def:R,recreate:!1,del:[],add:[],change:[]};if(""+(S.primKey.keyPath||"")!=""+(R.primKey.keyPath||"")||S.primKey.auto!==R.primKey.auto)I.recreate=!0,E.change.push(I);else{var P=S.idxByName,F=R.idxByName,H=void 0;for(H in P)F[H]||I.del.push(H);for(H in F){var W=P[H],U=F[H];W?W.src!==U.src&&I.change.push(U):I.add.push(U)}(0<I.del.length||0<I.add.length||0<I.change.length)&&E.change.push(I)}}else E.add.push([g,R])}return E}function Qa(f,d,g,E){var S=f.db.createObjectStore(d,g.keyPath?{keyPath:g.keyPath,autoIncrement:g.auto}:{autoIncrement:g.auto});return E.forEach(function(R){return Ii(S,R)}),S}function ao(f,d){p(f).forEach(function(g){d.db.objectStoreNames.contains(g)||(wn&&console.debug("Dexie: Creating missing table",g),Qa(d,g,f[g].primKey,f[g].indexes))})}function Ii(f,d){f.createIndex(d.name,d.keyPath,{unique:d.unique,multiEntry:d.multi})}function Aa(f,d,g){var E={};return re(d.objectStoreNames,0).forEach(function(S){for(var R=g.objectStore(S),I=kr(us(H=R.keyPath),H||"",!0,!1,!!R.autoIncrement,H&&typeof H!="string",!0),P=[],F=0;F<R.indexNames.length;++F){var W=R.index(R.indexNames[F]),H=W.keyPath,W=kr(W.name,H,!!W.unique,!!W.multiEntry,!1,H&&typeof H!="string",!1);P.push(W)}E[S]=Fa(S,I,P)}),E}function li(f,d,g){for(var E=g.db.objectStoreNames,S=0;S<E.length;++S){var R=E[S],I=g.objectStore(R);f._hasGetAll="getAll"in I;for(var P=0;P<I.indexNames.length;++P){var F=I.indexNames[P],H=I.index(F).keyPath,W=typeof H=="string"?H:"["+re(H).join("+")+"]";!d[R]||(H=d[R].idxByName[W])&&(H.name=F,delete d[R].idxByName[W],d[R].idxByName[F]=H)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&c.WorkerGlobalScope&&c instanceof c.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(f._hasGetAll=!1)}function io(f){return f.split(",").map(function(d,g){var R=d.split(":"),E=(S=R[1])===null||S===void 0?void 0:S.trim(),S=(d=R[0].trim()).replace(/([&*]|\+\+)/g,""),R=/^\[/.test(S)?S.match(/^\[(.*)\]$/)[1].split("+"):S;return kr(S,R||null,/\&/.test(d),/\*/.test(d),/\+\+/.test(d),b(R),g===0,E)})}var hs=(Ya.prototype._createTableSchema=Fa,Ya.prototype._parseIndexSyntax=io,Ya.prototype._parseStoresSpec=function(f,d){var g=this;p(f).forEach(function(E){if(f[E]!==null){var S=g._parseIndexSyntax(f[E]),R=S.shift();if(!R)throw new Oe.Schema("Invalid schema for table "+E+": "+f[E]);if(R.unique=!0,R.multi)throw new Oe.Schema("Primary key cannot be multiEntry*");S.forEach(function(I){if(I.auto)throw new Oe.Schema("Only primary key can be marked as autoIncrement (++)");if(!I.keyPath)throw new Oe.Schema("Index must have a name and cannot be an empty string")}),S=g._createTableSchema(E,R,S),d[E]=S}})},Ya.prototype.stores=function(g){var d=this.db;this._cfg.storesSource=this._cfg.storesSource?_(this._cfg.storesSource,g):g;var g=d._versions,E={},S={};return g.forEach(function(R){_(E,R._cfg.storesSource),S=R._cfg.dbschema={},R._parseStoresSpec(E,S)}),d._dbSchema=S,Ta(d,[d._allTables,d,d.Transaction.prototype]),oi(d,[d._allTables,d,d.Transaction.prototype,this._cfg.tables],p(S),S),d._storeNames=p(S),this},Ya.prototype.upgrade=function(f){return this._cfg.contentUpgrade=Mt(this._cfg.contentUpgrade||Ke,f),this},Ya);function Ya(){}function ds(f,d){var g=f._dbNamesDB;return g||(g=f._dbNamesDB=new Na(ai,{addons:[],indexedDB:f,IDBKeyRange:d})).version(1).stores({dbnames:"name"}),g.table("dbnames")}function Pr(f){return f&&typeof f.databases=="function"}function ms(f){return Ht(function(){return Ue.letThrough=!0,f()})}function ps(f){return!("from"in f)}var Nn=function(f,d){if(!this){var g=new Nn;return f&&"d"in f&&_(g,f),g}_(this,arguments.length?{d:1,from:f,to:1<arguments.length?d:f}:{d:0})};function ui(f,d,g){var E=ht(d,g);if(!isNaN(E)){if(0<E)throw RangeError();if(ps(f))return _(f,{from:d,to:g,d:1});var S=f.l,E=f.r;if(ht(g,f.from)<0)return S?ui(S,d,g):f.l={from:d,to:g,d:1,l:null,r:null},so(f);if(0<ht(d,f.to))return E?ui(E,d,g):f.r={from:d,to:g,d:1,l:null,r:null},so(f);ht(d,f.from)<0&&(f.from=d,f.l=null,f.d=E?E.d+1:1),0<ht(g,f.to)&&(f.to=g,f.r=null,f.d=f.l?f.l.d+1:1),g=!f.r,S&&!f.l&&Lr(f,S),E&&g&&Lr(f,E)}}function Lr(f,d){ps(d)||(function g(E,F){var R=F.from,I=F.to,P=F.l,F=F.r;ui(E,R,I),P&&g(E,P),F&&g(E,F)})(f,d)}function Jn(f,d){var g=ji(d),E=g.next();if(E.done)return!1;for(var S=E.value,R=ji(f),I=R.next(S.from),P=I.value;!E.done&&!I.done;){if(ht(P.from,S.to)<=0&&0<=ht(P.to,S.from))return!0;ht(S.from,P.from)<0?S=(E=g.next(P.from)).value:P=(I=R.next(S.from)).value}return!1}function ji(f){var d=ps(f)?null:{s:0,n:f};return{next:function(g){for(var E=0<arguments.length;d;)switch(d.s){case 0:if(d.s=1,E)for(;d.n.l&&ht(g,d.n.from)<0;)d={up:d,n:d.n.l,s:1};else for(;d.n.l;)d={up:d,n:d.n.l,s:1};case 1:if(d.s=2,!E||ht(g,d.n.to)<=0)return{value:d.n,done:!1};case 2:if(d.n.r){d.s=3,d={up:d,n:d.n.r,s:0};continue}case 3:d=d.up}return{done:!0}}}}function so(f){var d,g,E=(((d=f.r)===null||d===void 0?void 0:d.d)||0)-(((g=f.l)===null||g===void 0?void 0:g.d)||0),S=1<E?"r":E<-1?"l":"";S&&(d=S=="r"?"l":"r",g=s({},f),E=f[S],f.from=E.from,f.to=E.to,f[S]=E[S],g[S]=E[d],(f[d]=g).d=Ra(g)),f.d=Ra(f)}function Ra(g){var d=g.r,g=g.l;return(d?g?Math.max(d.d,g.d):d.d:g?g.d:0)+1}function u(f,d){return p(d).forEach(function(g){f[g]?Lr(f[g],d[g]):f[g]=(function E(S){var R,I,P={};for(R in S)N(S,R)&&(I=S[R],P[R]=!I||typeof I!="object"||z.has(I.constructor)?I:E(I));return P})(d[g])}),f}function x(f,d){return f.all||d.all||Object.keys(f).some(function(g){return d[g]&&Jn(d[g],f[g])})}O(Nn.prototype,((Tr={add:function(f){return Lr(this,f),this},addKey:function(f){return ui(this,f,f),this},addKeys:function(f){var d=this;return f.forEach(function(g){return ui(d,g,g)}),this},hasKey:function(f){var d=ji(this).next(f).value;return d&&ht(d.from,f)<=0&&0<=ht(d.to,f)}})[J]=function(){return ji(this)},Tr));var T={},D={},ie=!1;function de(f){u(D,f),ie||(ie=!0,setTimeout(function(){ie=!1,Me(D,!(D={}))},0))}function Me(f,d){d===void 0&&(d=!1);var g=new Set;if(f.all)for(var E=0,S=Object.values(T);E<S.length;E++)lt(I=S[E],f,g,d);else for(var R in f){var I,P=/^idb\:\/\/(.*)\/(.*)\//.exec(R);P&&(R=P[1],P=P[2],(I=T["idb://".concat(R,"/").concat(P)])&&lt(I,f,g,d))}g.forEach(function(F){return F()})}function lt(f,d,g,E){for(var S=[],R=0,I=Object.entries(f.queries.query);R<I.length;R++){for(var P=I[R],F=P[0],H=[],W=0,U=P[1];W<U.length;W++){var ne=U[W];x(d,ne.obsSet)?ne.subscribers.forEach(function(ee){return g.add(ee)}):E&&H.push(ne)}E&&S.push([F,H])}if(E)for(var K=0,X=S;K<X.length;K++){var $=X[K],F=$[0],H=$[1];f.queries.query[F]=H}}function vn(f){var d=f._state,g=f._deps.indexedDB;if(d.isBeingOpened||f.idbdb)return d.dbReadyPromise.then(function(){return d.dbOpenError?It(d.dbOpenError):f});d.isBeingOpened=!0,d.dbOpenError=null,d.openComplete=!1;var E=d.openCanceller,S=Math.round(10*f.verno),R=!1;function I(){if(d.openCanceller!==E)throw new Oe.DatabaseClosed("db.open() was cancelled")}function P(){return new ke(function(ne,K){if(I(),!g)throw new Oe.MissingAPI;var X=f.name,$=d.autoSchema||!S?g.open(X):g.open(X,S);if(!$)throw new Oe.MissingAPI;$.onerror=Zn(K),$.onblocked=zt(f._fireOnBlocked),$.onupgradeneeded=zt(function(ee){var oe;W=$.transaction,d.autoSchema&&!f._options.allowEmptyDB?($.onerror=xa,W.abort(),$.result.close(),(oe=g.deleteDatabase(X)).onsuccess=oe.onerror=zt(function(){K(new Oe.NoSuchDatabase("Database ".concat(X," doesnt exist")))})):(W.onerror=Zn(K),ee=ee.oldVersion>Math.pow(2,62)?0:ee.oldVersion,U=ee<1,f.idbdb=$.result,R&&fs(f,W),Sa(f,ee/10,W,K))},K),$.onsuccess=zt(function(){W=null;var ee,oe,fe,ye,xe,Ie=f.idbdb=$.result,Le=re(Ie.objectStoreNames);if(0<Le.length)try{var Ce=Ie.transaction((ye=Le).length===1?ye[0]:ye,"readonly");if(d.autoSchema)oe=Ie,fe=Ce,(ee=f).verno=oe.version/10,fe=ee._dbSchema=Aa(0,oe,fe),ee._storeNames=re(oe.objectStoreNames,0),oi(ee,[ee._allTables],p(fe),fe);else if(li(f,f._dbSchema,Ce),((xe=Di(Aa(0,(xe=f).idbdb,Ce),xe._dbSchema)).add.length||xe.change.some(function(Ve){return Ve.add.length||Ve.change.length}))&&!R)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ie.close(),S=Ie.version+1,R=!0,ne(P());oa(f,Ce)}catch{}ba.push(f),Ie.onversionchange=zt(function(Ve){d.vcFired=!0,f.on("versionchange").fire(Ve)}),Ie.onclose=zt(function(){f.close({disableAutoOpen:!1})}),U&&(xe=f._deps,Ce=X,Ie=xe.indexedDB,xe=xe.IDBKeyRange,Pr(Ie)||Ce===ai||ds(Ie,xe).put({name:Ce}).catch(Ke)),ne()},K)}).catch(function(ne){switch(ne?.name){case"UnknownError":if(0<d.PR1398_maxLoop)return d.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),P();break;case"VersionError":if(0<S)return S=0,P()}return ke.reject(ne)})}var F,H=d.dbReadyResolve,W=null,U=!1;return ke.race([E,(typeof navigator>"u"?ke.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(ne){function K(){return indexedDB.databases().finally(ne)}F=setInterval(K,100),K()}).finally(function(){return clearInterval(F)}):Promise.resolve()).then(P)]).then(function(){return I(),d.onReadyBeingFired=[],ke.resolve(ms(function(){return f.on.ready.fire(f.vip)})).then(function ne(){if(0<d.onReadyBeingFired.length){var K=d.onReadyBeingFired.reduce(Mt,Ke);return d.onReadyBeingFired=[],ke.resolve(ms(function(){return K(f.vip)})).then(ne)}})}).finally(function(){d.openCanceller===E&&(d.onReadyBeingFired=null,d.isBeingOpened=!1)}).catch(function(ne){d.dbOpenError=ne;try{W&&W.abort()}catch{}return E===d.openCanceller&&f._close(),It(ne)}).finally(function(){d.openComplete=!0,H()}).then(function(){var ne;return U&&(ne={},f.tables.forEach(function(K){K.schema.indexes.forEach(function(X){X.name&&(ne["idb://".concat(f.name,"/").concat(K.name,"/").concat(X.name)]=new Nn(-1/0,[[[]]]))}),ne["idb://".concat(f.name,"/").concat(K.name,"/")]=ne["idb://".concat(f.name,"/").concat(K.name,"/:dels")]=new Nn(-1/0,[[[]]])}),Rn(Vr).fire(ne),Me(ne,!0)),f})}function Ct(f){function d(R){return f.next(R)}var g=S(d),E=S(function(R){return f.throw(R)});function S(R){return function(F){var P=R(F),F=P.value;return P.done?F:F&&typeof F.then=="function"?F.then(g,E):b(F)?Promise.all(F).then(g,E):g(F)}}return S(d)()}function Gt(f,d,g){for(var E=b(f)?f.slice():[f],S=0;S<g;++S)E.push(d);return E}var Ur={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(f){return s(s({},f),{table:function(d){var g=f.table(d),E=g.schema,S={},R=[];function I(U,ne,K){var X=yn(U),$=S[X]=S[X]||[],ee=U==null?0:typeof U=="string"?1:U.length,oe=0<ne,oe=s(s({},K),{name:oe?"".concat(X,"(virtual-from:").concat(K.name,")"):K.name,lowLevelIndex:K,isVirtual:oe,keyTail:ne,keyLength:ee,extractKey:Ka(U),unique:!oe&&K.unique});return $.push(oe),oe.isPrimaryKey||R.push(oe),1<ee&&I(ee===2?U[0]:U.slice(0,ee-1),ne+1,K),$.sort(function(fe,ye){return fe.keyTail-ye.keyTail}),oe}d=I(E.primaryKey.keyPath,0,E.primaryKey),S[":id"]=[d];for(var P=0,F=E.indexes;P<F.length;P++){var H=F[P];I(H.keyPath,0,H)}function W(U){var ne,K=U.query.index;return K.isVirtual?s(s({},U),{query:{index:K.lowLevelIndex,range:(ne=U.query.range,K=K.keyTail,{type:ne.type===1?2:ne.type,lower:Gt(ne.lower,ne.lowerOpen?f.MAX_KEY:f.MIN_KEY,K),lowerOpen:!0,upper:Gt(ne.upper,ne.upperOpen?f.MIN_KEY:f.MAX_KEY,K),upperOpen:!0})}}):U}return s(s({},g),{schema:s(s({},E),{primaryKey:d,indexes:R,getIndexByKeyPath:function(U){return(U=S[yn(U)])&&U[0]}}),count:function(U){return g.count(W(U))},query:function(U){return g.query(W(U))},openCursor:function(U){var ne=U.query.index,K=ne.keyTail,X=ne.isVirtual,$=ne.keyLength;return X?g.openCursor(W(U)).then(function(oe){return oe&&ee(oe)}):g.openCursor(U);function ee(oe){return Object.create(oe,{continue:{value:function(fe){fe!=null?oe.continue(Gt(fe,U.reverse?f.MAX_KEY:f.MIN_KEY,K)):U.unique?oe.continue(oe.key.slice(0,$).concat(U.reverse?f.MIN_KEY:f.MAX_KEY,K)):oe.continue()}},continuePrimaryKey:{value:function(fe,ye){oe.continuePrimaryKey(Gt(fe,f.MAX_KEY,K),ye)}},primaryKey:{get:function(){return oe.primaryKey}},key:{get:function(){var fe=oe.key;return $===1?fe[0]:fe.slice(0,$)}},value:{get:function(){return oe.value}}})}}})}})}};function zr(f,d,g,E){return g=g||{},E=E||"",p(f).forEach(function(S){var R,I,P;N(d,S)?(R=f[S],I=d[S],typeof R=="object"&&typeof I=="object"&&R&&I?(P=Rt(R))!==Rt(I)?g[E+S]=d[S]:P==="Object"?zr(R,I,g,E+S+"."):R!==I&&(g[E+S]=d[S]):R!==I&&(g[E+S]=d[S])):g[E+S]=void 0}),p(d).forEach(function(S){N(f,S)||(g[E+S]=d[S])}),g}function wr(f,d){return d.type==="delete"?d.keys:d.keys||d.values.map(f.extractKey)}var la={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(f){return s(s({},f),{table:function(d){var g=f.table(d),E=g.schema.primaryKey;return s(s({},g),{mutate:function(S){var R=Ue.trans,I=R.table(d).hook,P=I.deleting,F=I.creating,H=I.updating;switch(S.type){case"add":if(F.fire===Ke)break;return R._promise("readwrite",function(){return W(S)},!0);case"put":if(F.fire===Ke&&H.fire===Ke)break;return R._promise("readwrite",function(){return W(S)},!0);case"delete":if(P.fire===Ke)break;return R._promise("readwrite",function(){return W(S)},!0);case"deleteRange":if(P.fire===Ke)break;return R._promise("readwrite",function(){return(function U(ne,K,X){return g.query({trans:ne,values:!1,query:{index:E,range:K},limit:X}).then(function($){var ee=$.result;return W({type:"delete",keys:ee,trans:ne}).then(function(oe){return 0<oe.numFailures?Promise.reject(oe.failures[0]):ee.length<X?{failures:[],numFailures:0,lastResult:void 0}:U(ne,s(s({},K),{lower:ee[ee.length-1],lowerOpen:!0}),X)})})})(S.trans,S.range,1e4)},!0)}return g.mutate(S);function W(U){var ne,K,X,$=Ue.trans,ee=U.keys||wr(E,U);if(!ee)throw new Error("Keys missing");return(U=U.type==="add"||U.type==="put"?s(s({},U),{keys:ee}):s({},U)).type!=="delete"&&(U.values=l([],U.values)),U.keys&&(U.keys=l([],U.keys)),ne=g,X=ee,((K=U).type==="add"?Promise.resolve([]):ne.getMany({trans:K.trans,keys:X,cache:"immutable"})).then(function(oe){var fe=ee.map(function(ye,xe){var Ie,Le,Ce,Ve=oe[xe],Pe={onerror:null,onsuccess:null};return U.type==="delete"?P.fire.call(Pe,ye,Ve,$):U.type==="add"||Ve===void 0?(Ie=F.fire.call(Pe,ye,U.values[xe],$),ye==null&&Ie!=null&&(U.keys[xe]=ye=Ie,E.outbound||M(U.values[xe],E.keyPath,ye))):(Ie=zr(Ve,U.values[xe]),(Le=H.fire.call(Pe,Ie,ye,Ve,$))&&(Ce=U.values[xe],Object.keys(Le).forEach(function(De){N(Ce,De)?Ce[De]=Le[De]:M(Ce,De,Le[De])}))),Pe});return g.mutate(U).then(function(ye){for(var xe=ye.failures,Ie=ye.results,Le=ye.numFailures,ye=ye.lastResult,Ce=0;Ce<ee.length;++Ce){var Ve=(Ie||ee)[Ce],Pe=fe[Ce];Ve==null?Pe.onerror&&Pe.onerror(xe[Ce]):Pe.onsuccess&&Pe.onsuccess(U.type==="put"&&oe[Ce]?U.values[Ce]:Ve)}return{failures:xe,results:Ie,numFailures:Le,lastResult:ye}}).catch(function(ye){return fe.forEach(function(xe){return xe.onerror&&xe.onerror(ye)}),Promise.reject(ye)})})}}})}})}};function ci(f,d,g){try{if(!d||d.keys.length<f.length)return null;for(var E=[],S=0,R=0;S<d.keys.length&&R<f.length;++S)ht(d.keys[S],f[R])===0&&(E.push(g?k(d.values[S]):d.values[S]),++R);return E.length===f.length?E:null}catch{return null}}var gs={stack:"dbcore",level:-1,create:function(f){return{table:function(d){var g=f.table(d);return s(s({},g),{getMany:function(E){if(!E.cache)return g.getMany(E);var S=ci(E.keys,E.trans._cache,E.cache==="clone");return S?ke.resolve(S):g.getMany(E).then(function(R){return E.trans._cache={keys:E.keys,values:E.cache==="clone"?k(R):R},R})},mutate:function(E){return E.type!=="add"&&(E.trans._cache=null),g.mutate(E)}})}}}};function Oi(f,d){return f.trans.mode==="readonly"&&!!f.subscr&&!f.trans.explicit&&f.trans.db._options.cache!=="disabled"&&!d.schema.primaryKey.outbound}function $u(f,d){switch(f){case"query":return d.values&&!d.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var rh={stack:"dbcore",level:0,name:"Observability",create:function(f){var d=f.schema.name,g=new Nn(f.MIN_KEY,f.MAX_KEY);return s(s({},f),{transaction:function(E,S,R){if(Ue.subscr&&S!=="readonly")throw new Oe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ue.querier));return f.transaction(E,S,R)},table:function(E){var S=f.table(E),R=S.schema,I=R.primaryKey,U=R.indexes,P=I.extractKey,F=I.outbound,H=I.autoIncrement&&U.filter(function(K){return K.compound&&K.keyPath.includes(I.keyPath)}),W=s(s({},S),{mutate:function(K){function X(De){return De="idb://".concat(d,"/").concat(E,"/").concat(De),ye[De]||(ye[De]=new Nn)}var $,ee,oe,fe=K.trans,ye=K.mutatedParts||(K.mutatedParts={}),xe=X(""),Ie=X(":dels"),Le=K.type,Pe=K.type==="deleteRange"?[K.range]:K.type==="delete"?[K.keys]:K.values.length<50?[wr(I,K).filter(function(De){return De}),K.values]:[],Ce=Pe[0],Ve=Pe[1],Pe=K.trans._cache;return b(Ce)?(xe.addKeys(Ce),(Pe=Le==="delete"||Ce.length===Ve.length?ci(Ce,Pe):null)||Ie.addKeys(Ce),(Pe||Ve)&&($=X,ee=Pe,oe=Ve,R.indexes.forEach(function(De){var ze=$(De.name||"");function We(dt){return dt!=null?De.extractKey(dt):null}function ot(dt){return De.multiEntry&&b(dt)?dt.forEach(function(Wn){return ze.addKey(Wn)}):ze.addKey(dt)}(ee||oe).forEach(function(dt,kn){var st=ee&&We(ee[kn]),kn=oe&&We(oe[kn]);ht(st,kn)!==0&&(st!=null&&ot(st),kn!=null&&ot(kn))})}))):Ce?(Ve={from:(Ve=Ce.lower)!==null&&Ve!==void 0?Ve:f.MIN_KEY,to:(Ve=Ce.upper)!==null&&Ve!==void 0?Ve:f.MAX_KEY},Ie.add(Ve),xe.add(Ve)):(xe.add(g),Ie.add(g),R.indexes.forEach(function(De){return X(De.name).add(g)})),S.mutate(K).then(function(De){return!Ce||K.type!=="add"&&K.type!=="put"||(xe.addKeys(De.results),H&&H.forEach(function(ze){for(var We=K.values.map(function(st){return ze.extractKey(st)}),ot=ze.keyPath.findIndex(function(st){return st===I.keyPath}),dt=0,Wn=De.results.length;dt<Wn;++dt)We[dt][ot]=De.results[dt];X(ze.name).addKeys(We)})),fe.mutatedParts=u(fe.mutatedParts||{},ye),De})}}),U=function(X){var $=X.query,X=$.index,$=$.range;return[X,new Nn((X=$.lower)!==null&&X!==void 0?X:f.MIN_KEY,($=$.upper)!==null&&$!==void 0?$:f.MAX_KEY)]},ne={get:function(K){return[I,new Nn(K.key)]},getMany:function(K){return[I,new Nn().addKeys(K.keys)]},count:U,query:U,openCursor:U};return p(ne).forEach(function(K){W[K]=function(X){var $=Ue.subscr,ee=!!$,oe=Oi(Ue,S)&&$u(K,X)?X.obsSet={}:$;if(ee){var fe=function(Ve){return Ve="idb://".concat(d,"/").concat(E,"/").concat(Ve),oe[Ve]||(oe[Ve]=new Nn)},ye=fe(""),xe=fe(":dels"),$=ne[K](X),ee=$[0],$=$[1];if((K==="query"&&ee.isPrimaryKey&&!X.values?xe:fe(ee.name||"")).add($),!ee.isPrimaryKey){if(K!=="count"){var Ie=K==="query"&&F&&X.values&&S.query(s(s({},X),{values:!1}));return S[K].apply(this,arguments).then(function(Ve){if(K==="query"){if(F&&X.values)return Ie.then(function(We){return We=We.result,ye.addKeys(We),Ve});var Pe=X.values?Ve.result.map(P):Ve.result;(X.values?ye:xe).addKeys(Pe)}else if(K==="openCursor"){var De=Ve,ze=X.values;return De&&Object.create(De,{key:{get:function(){return xe.addKey(De.primaryKey),De.key}},primaryKey:{get:function(){var We=De.primaryKey;return xe.addKey(We),We}},value:{get:function(){return ze&&ye.addKey(De.primaryKey),De.value}}})}return Ve})}xe.add(g)}}return S[K].apply(this,arguments)}}),W}})}};function Zu(f,d,g){if(g.numFailures===0)return d;if(d.type==="deleteRange")return null;var E=d.keys?d.keys.length:"values"in d&&d.values?d.values.length:1;return g.numFailures===E?null:(d=s({},d),b(d.keys)&&(d.keys=d.keys.filter(function(S,R){return!(R in g.failures)})),"values"in d&&b(d.values)&&(d.values=d.values.filter(function(S,R){return!(R in g.failures)})),d)}function Bo(f,d){return g=f,((E=d).lower===void 0||(E.lowerOpen?0<ht(g,E.lower):0<=ht(g,E.lower)))&&(f=f,(d=d).upper===void 0||(d.upperOpen?ht(f,d.upper)<0:ht(f,d.upper)<=0));var g,E}function Bl(f,d,ne,E,S,R){if(!ne||ne.length===0)return f;var I=d.query.index,P=I.multiEntry,F=d.query.range,H=E.schema.primaryKey.extractKey,W=I.extractKey,U=(I.lowLevelIndex||I).extractKey,ne=ne.reduce(function(K,X){var $=K,ee=[];if(X.type==="add"||X.type==="put")for(var oe=new Nn,fe=X.values.length-1;0<=fe;--fe){var ye,xe=X.values[fe],Ie=H(xe);oe.hasKey(Ie)||(ye=W(xe),(P&&b(ye)?ye.some(function(De){return Bo(De,F)}):Bo(ye,F))&&(oe.addKey(Ie),ee.push(xe)))}switch(X.type){case"add":var Le=new Nn().addKeys(d.values?K.map(function(ze){return H(ze)}):K),$=K.concat(d.values?ee.filter(function(ze){return ze=H(ze),!Le.hasKey(ze)&&(Le.addKey(ze),!0)}):ee.map(function(ze){return H(ze)}).filter(function(ze){return!Le.hasKey(ze)&&(Le.addKey(ze),!0)}));break;case"put":var Ce=new Nn().addKeys(X.values.map(function(ze){return H(ze)}));$=K.filter(function(ze){return!Ce.hasKey(d.values?H(ze):ze)}).concat(d.values?ee:ee.map(function(ze){return H(ze)}));break;case"delete":var Ve=new Nn().addKeys(X.keys);$=K.filter(function(ze){return!Ve.hasKey(d.values?H(ze):ze)});break;case"deleteRange":var Pe=X.range;$=K.filter(function(ze){return!Bo(H(ze),Pe)})}return $},f);return ne===f?f:(ne.sort(function(K,X){return ht(U(K),U(X))||ht(H(K),H(X))}),d.limit&&d.limit<1/0&&(ne.length>d.limit?ne.length=d.limit:f.length===d.limit&&ne.length<d.limit&&(S.dirty=!0)),R?Object.freeze(ne):ne)}function ys(f,d){return ht(f.lower,d.lower)===0&&ht(f.upper,d.upper)===0&&!!f.lowerOpen==!!d.lowerOpen&&!!f.upperOpen==!!d.upperOpen}function oo(f,d){return(function(g,E,S,R){if(g===void 0)return E!==void 0?-1:0;if(E===void 0)return 1;if((E=ht(g,E))===0){if(S&&R)return 0;if(S)return 1;if(R)return-1}return E})(f.lower,d.lower,f.lowerOpen,d.lowerOpen)<=0&&0<=(function(g,E,S,R){if(g===void 0)return E!==void 0?1:0;if(E===void 0)return-1;if((E=ht(g,E))===0){if(S&&R)return 0;if(S)return-1;if(R)return 1}return E})(f.upper,d.upper,f.upperOpen,d.upperOpen)}function ah(f,d,g,E){f.subscribers.add(g),E.addEventListener("abort",function(){var S,R;f.subscribers.delete(g),f.subscribers.size===0&&(S=f,R=d,setTimeout(function(){S.subscribers.size===0&&Ae(R,S)},3e3))})}var qo={stack:"dbcore",level:0,name:"Cache",create:function(f){var d=f.schema.name;return s(s({},f),{transaction:function(g,E,S){var R,I,P=f.transaction(g,E,S);return E==="readwrite"&&(I=(R=new AbortController).signal,S=function(F){return function(){if(R.abort(),E==="readwrite"){for(var H=new Set,W=0,U=g;W<U.length;W++){var ne=U[W],K=T["idb://".concat(d,"/").concat(ne)];if(K){var X=f.table(ne),$=K.optimisticOps.filter(function(ze){return ze.trans===P});if(P._explicit&&F&&P.mutatedParts)for(var ee=0,oe=Object.values(K.queries.query);ee<oe.length;ee++)for(var fe=0,ye=(Le=oe[ee]).slice();fe<ye.length;fe++)x((Ce=ye[fe]).obsSet,P.mutatedParts)&&(Ae(Le,Ce),Ce.subscribers.forEach(function(ze){return H.add(ze)}));else if(0<$.length){K.optimisticOps=K.optimisticOps.filter(function(ze){return ze.trans!==P});for(var xe=0,Ie=Object.values(K.queries.query);xe<Ie.length;xe++)for(var Le,Ce,Ve,Pe=0,De=(Le=Ie[xe]).slice();Pe<De.length;Pe++)(Ce=De[Pe]).res!=null&&P.mutatedParts&&(F&&!Ce.dirty?(Ve=Object.isFrozen(Ce.res),Ve=Bl(Ce.res,Ce.req,$,X,Ce,Ve),Ce.dirty?(Ae(Le,Ce),Ce.subscribers.forEach(function(ze){return H.add(ze)})):Ve!==Ce.res&&(Ce.res=Ve,Ce.promise=ke.resolve({result:Ve}))):(Ce.dirty&&Ae(Le,Ce),Ce.subscribers.forEach(function(ze){return H.add(ze)})))}}}H.forEach(function(ze){return ze()})}}},P.addEventListener("abort",S(!1),{signal:I}),P.addEventListener("error",S(!1),{signal:I}),P.addEventListener("complete",S(!0),{signal:I})),P},table:function(g){var E=f.table(g),S=E.schema.primaryKey;return s(s({},E),{mutate:function(R){var I=Ue.trans;if(S.outbound||I.db._options.cache==="disabled"||I.explicit||I.idbtrans.mode!=="readwrite")return E.mutate(R);var P=T["idb://".concat(d,"/").concat(g)];return P?(I=E.mutate(R),R.type!=="add"&&R.type!=="put"||!(50<=R.values.length||wr(S,R).some(function(F){return F==null}))?(P.optimisticOps.push(R),R.mutatedParts&&de(R.mutatedParts),I.then(function(F){0<F.numFailures&&(Ae(P.optimisticOps,R),(F=Zu(0,R,F))&&P.optimisticOps.push(F),R.mutatedParts&&de(R.mutatedParts))}),I.catch(function(){Ae(P.optimisticOps,R),R.mutatedParts&&de(R.mutatedParts)})):I.then(function(F){var H=Zu(0,s(s({},R),{values:R.values.map(function(W,U){var ne;return F.failures[U]?W:(W=(ne=S.keyPath)!==null&&ne!==void 0&&ne.includes(".")?k(W):s({},W),M(W,S.keyPath,F.results[U]),W)})}),F);P.optimisticOps.push(H),queueMicrotask(function(){return R.mutatedParts&&de(R.mutatedParts)})}),I):E.mutate(R)},query:function(R){if(!Oi(Ue,E)||!$u("query",R))return E.query(R);var I=((H=Ue.trans)===null||H===void 0?void 0:H.db._options.cache)==="immutable",U=Ue,P=U.requery,F=U.signal,H=(function(X,$,ee,oe){var fe=T["idb://".concat(X,"/").concat($)];if(!fe)return[];if(!($=fe.queries[ee]))return[null,!1,fe,null];var ye=$[(oe.query?oe.query.index.name:null)||""];if(!ye)return[null,!1,fe,null];switch(ee){case"query":var xe=ye.find(function(Ie){return Ie.req.limit===oe.limit&&Ie.req.values===oe.values&&ys(Ie.req.query.range,oe.query.range)});return xe?[xe,!0,fe,ye]:[ye.find(function(Ie){return("limit"in Ie.req?Ie.req.limit:1/0)>=oe.limit&&(!oe.values||Ie.req.values)&&oo(Ie.req.query.range,oe.query.range)}),!1,fe,ye];case"count":return xe=ye.find(function(Ie){return ys(Ie.req.query.range,oe.query.range)}),[xe,!!xe,fe,ye]}})(d,g,"query",R),W=H[0],U=H[1],ne=H[2],K=H[3];return W&&U?W.obsSet=R.obsSet:(U=E.query(R).then(function(X){var $=X.result;if(W&&(W.res=$),I){for(var ee=0,oe=$.length;ee<oe;++ee)Object.freeze($[ee]);Object.freeze($)}else X.result=k($);return X}).catch(function(X){return K&&W&&Ae(K,W),Promise.reject(X)}),W={obsSet:R.obsSet,promise:U,subscribers:new Set,type:"query",req:R,dirty:!1},K?K.push(W):(K=[W],(ne=ne||(T["idb://".concat(d,"/").concat(g)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[R.query.index.name||""]=K)),ah(W,K,P,F),W.promise.then(function(X){return{result:Bl(X.result,R,ne?.optimisticOps,E,W,I)}})}})}})}};function lo(f,d){return new Proxy(f,{get:function(g,E,S){return E==="db"?d:Reflect.get(g,E,S)}})}var Na=(rn.prototype.version=function(f){if(isNaN(f)||f<.1)throw new Oe.Type("Given version is not a positive number");if(f=Math.round(10*f)/10,this.idbdb||this._state.isBeingOpened)throw new Oe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,f);var d=this._versions,g=d.filter(function(E){return E._cfg.version===f})[0];return g||(g=new this.Version(f),d.push(g),d.sort(cs),g.stores({}),this._state.autoSchema=!1,g)},rn.prototype._whenReady=function(f){var d=this;return this.idbdb&&(this._state.openComplete||Ue.letThrough||this._vip)?f():new ke(function(g,E){if(d._state.openComplete)return E(new Oe.DatabaseClosed(d._state.dbOpenError));if(!d._state.isBeingOpened){if(!d._state.autoOpen)return void E(new Oe.DatabaseClosed);d.open().catch(Ke)}d._state.dbReadyPromise.then(g,E)}).then(f)},rn.prototype.use=function(f){var d=f.stack,g=f.create,E=f.level,S=f.name;return S&&this.unuse({stack:d,name:S}),f=this._middlewares[d]||(this._middlewares[d]=[]),f.push({stack:d,create:g,level:E??10,name:S}),f.sort(function(R,I){return R.level-I.level}),this},rn.prototype.unuse=function(f){var d=f.stack,g=f.name,E=f.create;return d&&this._middlewares[d]&&(this._middlewares[d]=this._middlewares[d].filter(function(S){return E?S.create!==E:!!g&&S.name!==g})),this},rn.prototype.open=function(){var f=this;return $n(Sn,function(){return vn(f)})},rn.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var f=this._state,d=ba.indexOf(this);if(0<=d&&ba.splice(d,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}f.isBeingOpened||(f.dbReadyPromise=new ke(function(g){f.dbReadyResolve=g}),f.openCanceller=new ke(function(g,E){f.cancelOpen=E}))},rn.prototype.close=function(g){var d=(g===void 0?{disableAutoOpen:!0}:g).disableAutoOpen,g=this._state;d?(g.isBeingOpened&&g.cancelOpen(new Oe.DatabaseClosed),this._close(),g.autoOpen=!1,g.dbOpenError=new Oe.DatabaseClosed):(this._close(),g.autoOpen=this._options.autoOpen||g.isBeingOpened,g.openComplete=!1,g.dbOpenError=null)},rn.prototype.delete=function(f){var d=this;f===void 0&&(f={disableAutoOpen:!0});var g=0<arguments.length&&typeof arguments[0]!="object",E=this._state;return new ke(function(S,R){function I(){d.close(f);var P=d._deps.indexedDB.deleteDatabase(d.name);P.onsuccess=zt(function(){var F,H,W;F=d._deps,H=d.name,W=F.indexedDB,F=F.IDBKeyRange,Pr(W)||H===ai||ds(W,F).delete(H).catch(Ke),S()}),P.onerror=Zn(R),P.onblocked=d._fireOnBlocked}if(g)throw new Oe.InvalidArgument("Invalid closeOptions argument to db.delete()");E.isBeingOpened?E.dbReadyPromise.then(I):I()})},rn.prototype.backendDB=function(){return this.idbdb},rn.prototype.isOpen=function(){return this.idbdb!==null},rn.prototype.hasBeenClosed=function(){var f=this._state.dbOpenError;return f&&f.name==="DatabaseClosed"},rn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},rn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(rn.prototype,"tables",{get:function(){var f=this;return p(this._allTables).map(function(d){return f._allTables[d]})},enumerable:!1,configurable:!0}),rn.prototype.transaction=function(){var f=(function(d,g,E){var S=arguments.length;if(S<2)throw new Oe.InvalidArgument("Too few arguments");for(var R=new Array(S-1);--S;)R[S-1]=arguments[S];return E=R.pop(),[d,B(R),E]}).apply(this,arguments);return this._transaction.apply(this,f)},rn.prototype._transaction=function(f,d,g){var E=this,S=Ue.trans;S&&S.db===this&&f.indexOf("!")===-1||(S=null);var R,I,P=f.indexOf("?")!==-1;f=f.replace("!","").replace("?","");try{if(I=d.map(function(H){if(H=H instanceof E.Table?H.name:H,typeof H!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return H}),f=="r"||f===Ir)R=Ir;else{if(f!="rw"&&f!=jr)throw new Oe.InvalidArgument("Invalid transaction mode: "+f);R=jr}if(S){if(S.mode===Ir&&R===jr){if(!P)throw new Oe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");S=null}S&&I.forEach(function(H){if(S&&S.storeNames.indexOf(H)===-1){if(!P)throw new Oe.SubTransaction("Table "+H+" not included in parent transaction.");S=null}}),P&&S&&!S.active&&(S=null)}}catch(H){return S?S._promise(null,function(W,U){U(H)}):It(H)}var F=(function H(W,U,ne,K,X){return ke.resolve().then(function(){var $=Ue.transless||Ue,ee=W._createTransaction(U,ne,W._dbSchema,K);if(ee.explicit=!0,$={trans:ee,transless:$},K)ee.idbtrans=K.idbtrans;else try{ee.create(),ee.idbtrans._explicit=!0,W._state.PR1398_maxLoop=3}catch(ye){return ye.name===rt.InvalidState&&W.isOpen()&&0<--W._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),W.close({disableAutoOpen:!1}),W.open().then(function(){return H(W,U,ne,null,X)})):It(ye)}var oe,fe=q(X);return fe&&nn(),$=ke.follow(function(){var ye;(oe=X.call(ee,ee))&&(fe?(ye=Kn.bind(null,null),oe.then(ye,ye)):typeof oe.next=="function"&&typeof oe.throw=="function"&&(oe=Ct(oe)))},$),(oe&&typeof oe.then=="function"?ke.resolve(oe).then(function(ye){return ee.active?ye:It(new Oe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):$.then(function(){return oe})).then(function(ye){return K&&ee._resolve(),ee._completion.then(function(){return ye})}).catch(function(ye){return ee._reject(ye),It(ye)})})}).bind(null,this,R,I,S,g);return S?S._promise(R,F,"lock"):Ue.trans?$n(Ue.transless,function(){return E._whenReady(F)}):this._whenReady(F)},rn.prototype.table=function(f){if(!N(this._allTables,f))throw new Oe.InvalidTable("Table ".concat(f," does not exist"));return this._allTables[f]},rn);function rn(f,d){var g=this;this._middlewares={},this.verno=0;var E=rn.dependencies;this._options=d=s({addons:rn.addons,autoOpen:!0,indexedDB:E.indexedDB,IDBKeyRange:E.IDBKeyRange,cache:"cloned"},d),this._deps={indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange},E=d.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var S,R,I,P,F,H={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ke,dbReadyPromise:null,cancelOpen:Ke,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:d.autoOpen};H.dbReadyPromise=new ke(function(U){H.dbReadyResolve=U}),H.openCanceller=new ke(function(U,ne){H.cancelOpen=ne}),this._state=H,this.name=f,this.on=ta(this,"populate","blocked","versionchange","close",{ready:[Mt,Ke]}),this.once=function(U,ne){var K=function(){for(var X=[],$=0;$<arguments.length;$++)X[$]=arguments[$];g.on(U).unsubscribe(K),ne.apply(g,X)};return g.on(U,K)},this.on.ready.subscribe=pe(this.on.ready.subscribe,function(U){return function(ne,K){rn.vip(function(){var X,$=g._state;$.openComplete?($.dbOpenError||ke.resolve().then(ne),K&&U(ne)):$.onReadyBeingFired?($.onReadyBeingFired.push(ne),K&&U(ne)):(U(ne),X=g,K||U(function ee(){X.on.ready.unsubscribe(ne),X.on.ready.unsubscribe(ee)}))})}}),this.Collection=(S=this,Vn(Uo.prototype,function(oe,ee){this.db=S;var K=as,X=null;if(ee)try{K=ee()}catch(fe){X=fe}var $=oe._ctx,ee=$.table,oe=ee.hook.reading.fire;this._ctx={table:ee,index:$.index,isPrimKey:!$.index||ee.schema.primKey.keyPath&&$.index===ee.schema.primKey.name,range:K,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:X,or:$.or,valueMapper:oe!==Je?oe:null}})),this.Table=(R=this,Vn(si.prototype,function(U,ne,K){this.db=R,this._tx=K,this.name=U,this.schema=ne,this.hook=R._allTables[U]?R._allTables[U].hook:ta(null,{creating:[Ut,Ke],reading:[Ft,Je],updating:[Yn,Ke],deleting:[on,Ke]})})),this.Transaction=(I=this,Vn(Ci.prototype,function(U,ne,K,X,$){var ee=this;U!=="readonly"&&ne.forEach(function(oe){oe=(oe=K[oe])===null||oe===void 0?void 0:oe.yProps,oe&&(ne=ne.concat(oe.map(function(fe){return fe.updatesTable})))}),this.db=I,this.mode=U,this.storeNames=ne,this.schema=K,this.chromeTransactionDurability=X,this.idbtrans=null,this.on=ta(this,"complete","error","abort"),this.parent=$||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ke(function(oe,fe){ee._resolve=oe,ee._reject=fe}),this._completion.then(function(){ee.active=!1,ee.on.complete.fire()},function(oe){var fe=ee.active;return ee.active=!1,ee.on.error.fire(oe),ee.parent?ee.parent._reject(oe):fe&&ee.idbtrans&&ee.idbtrans.abort(),It(oe)})})),this.Version=(P=this,Vn(hs.prototype,function(U){this.db=P,this._cfg={version:U,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(F=this,Vn(qa.prototype,function(U,ne,K){if(this.db=F,this._ctx={table:U,index:ne===":id"?null:ne,or:K},this._cmp=this._ascending=ht,this._descending=function(X,$){return ht($,X)},this._max=function(X,$){return 0<ht(X,$)?X:$},this._min=function(X,$){return ht(X,$)<0?X:$},this._IDBKeyRange=F._deps.IDBKeyRange,!this._IDBKeyRange)throw new Oe.MissingAPI})),this.on("versionchange",function(U){0<U.newVersion?console.warn("Another connection wants to upgrade database '".concat(g.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(g.name,"'. Closing db now to resume the delete request.")),g.close({disableAutoOpen:!1})}),this.on("blocked",function(U){!U.newVersion||U.newVersion<U.oldVersion?console.warn("Dexie.delete('".concat(g.name,"') was blocked")):console.warn("Upgrade '".concat(g.name,"' blocked by other connection holding version ").concat(U.oldVersion/10))}),this._maxKey=Ha(d.IDBKeyRange),this._createTransaction=function(U,ne,K,X){return new g.Transaction(U,ne,K,g._options.chromeTransactionDurability,X)},this._fireOnBlocked=function(U){g.on("blocked").fire(U),ba.filter(function(ne){return ne.name===g.name&&ne!==g&&!ne._state.vcFired}).map(function(ne){return ne.on("versionchange").fire(U)})},this.use(gs),this.use(qo),this.use(rh),this.use(Ur),this.use(la);var W=new Proxy(this,{get:function(U,ne,K){if(ne==="_vip")return!0;if(ne==="table")return function($){return lo(g.table($),W)};var X=Reflect.get(U,ne,K);return X instanceof si?lo(X,W):ne==="tables"?X.map(function($){return lo($,W)}):ne==="_createTransaction"?function(){return lo(X.apply(this,arguments),W)}:X}});this.vip=W,E.forEach(function(U){return U(g)})}var vs,Tr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ju=(Fo.prototype.subscribe=function(f,d,g){return this._subscribe(f&&typeof f!="function"?f:{next:f,error:d,complete:g})},Fo.prototype[Tr]=function(){return this},Fo);function Fo(f){this._subscribe=f}try{vs={indexedDB:c.indexedDB||c.mozIndexedDB||c.webkitIndexedDB||c.msIndexedDB,IDBKeyRange:c.IDBKeyRange||c.webkitIDBKeyRange}}catch{vs={indexedDB:null,IDBKeyRange:null}}function Wu(f){var d,g=!1,E=new Ju(function(S){var R=q(f),I,P=!1,F={},H={},W={get closed(){return P},unsubscribe:function(){P||(P=!0,I&&I.abort(),U&&Rn.storagemutated.unsubscribe(K))}};S.start&&S.start(W);var U=!1,ne=function(){return Dr(X)},K=function($){u(F,$),x(H,F)&&ne()},X=function(){var $,ee,oe;!P&&vs.indexedDB&&(F={},$={},I&&I.abort(),I=new AbortController,oe=(function(fe){var ye=ar();try{R&&nn();var xe=Ht(f,fe);return xe=R?xe.finally(Kn):xe}finally{ye&&Nr()}})(ee={subscr:$,signal:I.signal,requery:ne,querier:f,trans:null}),Promise.resolve(oe).then(function(fe){g=!0,d=fe,P||ee.signal.aborted||(F={},(function(ye){for(var xe in ye)if(N(ye,xe))return;return 1})(H=$)||U||(Rn(Vr,K),U=!0),Dr(function(){return!P&&S.next&&S.next(fe)}))},function(fe){g=!1,["DatabaseClosedError","AbortError"].includes(fe?.name)||P||Dr(function(){P||S.error&&S.error(fe)})}))};return setTimeout(ne,0),W});return E.hasValue=function(){return g},E.getValue=function(){return d},E}var Mi=Na;function ql(f){var d=fi;try{fi=!0,Rn.storagemutated.fire(f),Me(f,!0)}finally{fi=d}}O(Mi,s(s({},On),{delete:function(f){return new Mi(f,{addons:[]}).delete()},exists:function(f){return new Mi(f,{addons:[]}).open().then(function(d){return d.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(f){try{return d=Mi.dependencies,g=d.indexedDB,d=d.IDBKeyRange,(Pr(g)?Promise.resolve(g.databases()).then(function(E){return E.map(function(S){return S.name}).filter(function(S){return S!==ai})}):ds(g,d).toCollection().primaryKeys()).then(f)}catch{return It(new Oe.MissingAPI)}var d,g},defineClass:function(){return function(f){_(this,f)}},ignoreTransaction:function(f){return Ue.trans?$n(Ue.transless,f):f()},vip:ms,async:function(f){return function(){try{var d=Ct(f.apply(this,arguments));return d&&typeof d.then=="function"?d:ke.resolve(d)}catch(g){return It(g)}}},spawn:function(f,d,g){try{var E=Ct(f.apply(g,d||[]));return E&&typeof E.then=="function"?E:ke.resolve(E)}catch(S){return It(S)}},currentTransaction:{get:function(){return Ue.trans||null}},waitFor:function(f,d){return d=ke.resolve(typeof f=="function"?Mi.ignoreTransaction(f):f).timeout(d||6e4),Ue.trans?Ue.trans.waitFor(d):d},Promise:ke,debug:{get:function(){return wn},set:function(f){Po(f)}},derive:ue,extend:_,props:O,override:pe,Events:ta,on:Rn,liveQuery:Wu,extendObservabilitySet:u,getByKeyPath:Ye,setByKeyPath:M,delByKeyPath:function(f,d){typeof d=="string"?M(f,d,void 0):"length"in d&&[].map.call(d,function(g){M(f,g,void 0)})},shallowClone:j,deepClone:k,getObjectDiff:zr,cmp:ht,asap:qe,minKey:-1/0,addons:[],connections:ba,errnames:rt,dependencies:vs,cache:T,semVer:"4.2.1",version:"4.2.1".split(".").map(function(f){return parseInt(f)}).reduce(function(f,d,g){return f+d/Math.pow(10,2*g)})})),Mi.maxKey=Ha(Mi.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Rn(Vr,function(f){fi||(f=new CustomEvent(Er,{detail:f}),fi=!0,dispatchEvent(f),fi=!1)}),addEventListener(Er,function(f){f=f.detail,fi||ql(f)}));var _s,fi=!1,pr=function(){};return typeof BroadcastChannel<"u"&&((pr=function(){(_s=new BroadcastChannel(Er)).onmessage=function(f){return f.data&&ql(f.data)}})(),typeof _s.unref=="function"&&_s.unref(),Rn(Vr,function(f){fi||_s.postMessage(f)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(f){if(!Na.disableBfCache&&f.persisted){wn&&console.debug("Dexie: handling persisted pagehide"),_s?.close();for(var d=0,g=ba;d<g.length;d++)g[d].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(f){!Na.disableBfCache&&f.persisted&&(wn&&console.debug("Dexie: handling persisted pageshow"),pr(),ql({all:new Nn(-1/0,[[]])}))})),ke.rejectionMapper=function(f,d){return!f||f instanceof je||f instanceof TypeError||f instanceof SyntaxError||!f.name||!hn[f.name]?f:(d=new hn[f.name](d||f.message,f),"stack"in f&&me(d,"stack",{get:function(){return this.inner.stack}}),d)},Po(wn),s(Na,Object.freeze({__proto__:null,Dexie:Na,liveQuery:Wu,Entity:no,cmp:ht,PropModification:Or,replacePrefix:function(f,d){return new Or({replacePrefix:[f,d]})},add:function(f){return new Or({add:f})},remove:function(f){return new Or({remove:f})},default:Na,RangeSet:Nn,mergeRanges:Lr,rangesOverlap:Jn}),{default:Na}),Na})})(df)),df.exports}var TN=wN();const Dm=Im(TN),r_=Symbol.for("Dexie"),Cl=globalThis[r_]||(globalThis[r_]=Dm);if(Dm.semVer!==Cl.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Dm.semVer} and ${Cl.semVer}`);const{liveQuery:iC,mergeRanges:sC,rangesOverlap:oC,RangeSet:lC,cmp:uC,Entity:cC,PropModification:fC,replacePrefix:hC,add:dC,remove:mC,DexieYProvider:pC}=Cl;function SN(a,t,r){var s,l;typeof a=="function"?(s=t||[],l=r):(s=[],l=t);var c=To.useRef({hasResult:!1,result:l,error:null}),p=To.useReducer(function(v){return v+1},0);p[0];var b=p[1],_=To.useMemo(function(){var v=typeof a=="function"?a():a;if(!v||typeof v.subscribe!="function")throw a===v?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!c.current.hasResult&&typeof window<"u"&&(typeof v.hasValue!="function"||v.hasValue()))if(typeof v.getValue=="function")c.current.result=v.getValue(),c.current.hasResult=!0;else{var A=v.subscribe(function(N){c.current.result=N,c.current.hasResult=!0});typeof A=="function"?A():A.unsubscribe()}return v},s);if(To.useDebugValue(c.current.result),To.useEffect(function(){var v=_.subscribe(function(A){var N=c.current;(N.error!==null||N.result!==A)&&(N.error=null,N.result=A,N.hasResult=!0,b())},function(A){var N=c.current;N.error!==A&&(N.error=A,b())});return typeof v=="function"?v:v.unsubscribe.bind(v)},s),c.current.error)throw c.current.error;return c.current.result}function ga(a,t,r){return SN(function(){return Cl.liveQuery(a)},t||[],r)}typeof FinalizationRegistry<"u"&&new FinalizationRegistry(function(a){var t=Cl.DexieYProvider;t&&t.release(a)});const Qe=new Cl("SPFamilyVenturesDB");Qe.version(1).stores({settings:"++id",customers:"++id, name, email",products:"++id, name",sales:"++id, customerId, date",users:"++id, username"});["customers","products","sales","settings","users"].forEach(a=>{Qe[a].hook("creating",function(t,r,s){this.onsuccess=function(l){a_(a,{...r,id:l})}}),Qe[a].hook("updating",function(t,r,s,l){const c={...s,...t,id:r};a_(a,c)}),Qe[a].hook("deleting",function(t,r,s){CN(a,t)})});Qe.on("populate",()=>{Qe.settings.add({companyName:"SP FAMILY VENTURES EST ENTERPRISE",regNum:"(002905563-H)",desc1:"PEMBORONG AYAM HIDUP / AYAM PROSES",desc2:"AYAM DAGING(BROILER), AYAM KAMPUNG & AYAM TUA (TELOR)",contact:"H/P (012)627-3691",logoLeft:null,logoRight:null}),Qe.users.add({username:"svanathan75",password:"sp1234"})});Qe.on("ready",async()=>{try{await Qe.users.count()===0&&(await Qe.users.add({username:"svanathan75",password:"sp1234"}),console.log("Default user seeded via ready hook"))}catch(a){console.error("Error checking/seeding users:",a)}});function Tp(){return ga(()=>Qe.settings.toArray())?.[0]||{}}const AN=["customers","products","sales","settings"],RN=async a=>{const t=b1(u1(nh,a));return A1(t,async s=>{const l=s.docChanges();l.length!==0&&(await Qe.transaction("rw",Qe[a],async()=>{for(const c of l){const p=c.doc.data();p.id=parseInt(c.doc.id)||c.doc.id,c.type==="added"||c.type==="modified"?await Qe[a].put(p):c.type==="removed"&&await Qe[a].delete(p.id)}}),console.log(`Synced ${l.length} changes for ${a} from Cloud.`))})},NN=async()=>{const a=[];for(const t of AN){const r=await RN(t);a.push(r)}return()=>a.forEach(t=>t())},a_=async(a,t)=>{try{const r=yp(nh,a,String(t.id));await T1(r,t),console.log(`Pushed ${a}/${t.id} to Cloud.`)}catch(r){console.error("Failed to push to cloud:",r)}},CN=async(a,t)=>{try{await S1(yp(nh,a,String(t))),console.log(`Deleted ${a}/${t} from Cloud.`)}catch(r){console.error("Failed to delete from cloud:",r)}};function DN(){const a=ns();se.useEffect(()=>{const r=NN();return()=>{r.then(s=>s&&s())}},[]);const t=[{path:"/",icon:Zw,label:"Sales"},{path:"/products",icon:gf,label:"Products"},{path:"/customers",icon:yf,label:"Customers"},{path:"/reports",icon:Bm,label:"Reports"},{path:"/settings",icon:mT,label:"Settings"}];return y.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 print:h-auto print:block",children:[y.jsx("main",{className:"flex-1 overflow-y-auto pb-20 print:pb-0 print:h-auto print:overflow-visible",children:y.jsx(__,{})}),y.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2 flex justify-around items-center z-50 no-print",children:t.map(r=>{const s=r.icon,l=a.pathname===r.path;return y.jsxs(Pf,{to:r.path,className:wT("flex flex-col items-center p-2 rounded-lg transition-colors",l?"text-blue-600":"text-gray-500 hover:text-gray-900"),children:[y.jsx(s,{size:24}),y.jsx("span",{className:"text-xs mt-1 font-medium",children:r.label})]},r.path)})})]})}function IN(a,t={}){const r={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:"Asia/Kuala_Lumpur",hour12:!1,...t};return new Intl.DateTimeFormat("en-MY",r).format(a)}function bi(a){const t=new Date(a.toLocaleString("en-US",{timeZone:"Asia/Kuala_Lumpur"})),r=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),l=String(t.getDate()).padStart(2,"0");return`${r}-${s}-${l}`}const jN=[{name:"KANTIN (PARKLAND)",contact:"0176335879",email:"",address:"",id:6},{name:"Kantin Empire Code Parkland",contact:"0165105419",email:"",address:"",id:7},{name:"Kantin Hossain Ali (KJawa)",contact:"0189554212",email:"",address:"",id:8},{name:"Kantin KALAM (Telok Gong)",contact:"0163040557",email:"",address:"",id:9},{name:"KANTIN KEBUN CLC ",contact:"01139307848",email:"",address:"Jln Johan Setia",id:10},{name:"Kantin Wafiq(TelokGong)",contact:"0183703384",email:"",address:"",id:11},{name:"Kantin2 Telok Gong",contact:"0173285626",email:"",address:"",id:12},{name:"KEDAI AYAM ECONSAVE (KANNAN)",contact:"01137654211",email:"",address:"",id:13},{name:"KEDAI AYAM PAMAKO",contact:"0136774960",email:"",address:"",id:14},{name:"KEDAI AYAM PANDIAN",contact:"0163567484",email:"",address:"",id:15},{name:"KEDAI AYAM PRAKASH",contact:"0124560655",email:"",address:"",id:16},{name:"KEDAI AYAM YAZID",contact:"0182166964",email:"",address:"",id:17},{name:"KANTIN MAKAN Abdullah ",contact:"0175783216",email:"",address:"Jln Universiti",id:18},{name:"KEDAI MAKAN IMRAN (GARDENIA)",contact:"001141164909",email:"",address:"",id:19},{name:"KEDAI MAKAN MEENA'S",contact:"0169643450",email:"",address:"",id:20},{name:"KEDAI MASAK Hossain (BT.8 )",contact:"+8801709143499",email:"",address:"",id:21},{name:"Kedai NK WIN ENTERPRISE",contact:"0102531902",email:"",address:"",id:22},{name:"KEDAI RUNCIT 100PLUS",contact:"01111935575",email:"",address:"",id:23},{name:"KEDAI RUNCIT B.PUTERA",contact:"0109657446",email:"",address:"",id:24},{name:"KEDAI RUNCIT DHESIGA",contact:"0162743503",email:"",address:"",id:25},{name:"KEDAI RUNCIT FORID (JLN GAMBUT)",contact:"+8801889111881",email:"",address:"",id:26},{name:"KEDAI RUNCIT MERANTI NIL",contact:"0183910436",email:"",address:"",id:27},{name:"KEDAI RUNCIT SOFIQ BT.8",contact:"01112219170",email:"",address:"",id:28},{name:"KEDAI RUNCIT W.Z LEGACY",contact:"0102652140",email:"",address:"",id:29},{name:"Kedai SJ FRESHMART",contact:"0129022533",email:"",address:"",id:30},{name:"PASAR MINI AROMA SUPERMART",contact:"01133798249",email:"",address:"",id:31},{name:"PASAR MINI SHBBIR",contact:"0149159733",email:"",address:"",id:32},{name:"PASAR MINI SR SMA",contact:"0169368535",email:"",address:"",id:33},{name:"PasarMini Berjaya(Wafiq)",contact:"0183703354",email:"",address:"",id:34},{name:"PasarMini SubangMas(Wafiq)",contact:"0183703354",email:"",address:"",id:35}],ON=[{name:"Ayam Putih (H)",price:8.6,id:8},{name:"Ayam Putih (P)",price:8.9,id:9},{name:"Ayam Gajah (H)",price:25,id:10},{name:"Ayam Tua (H)",price:6.8,id:11},{name:"Ayam Kpg Jantan (H",price:11.3,id:12},{name:"Ayam Kpg Betina (H)",price:10.5,id:13}],MN="/spfamilyventuresbook/assets/logo_company-dgHSd-ed.jpg",VN="/spfamilyventuresbook/assets/logo_poultry-RsWDEZrg.jpg",kN=jN,PN=ON.map(a=>({...a,unit:a.unit||"Kg"})),LN={id:1,companyName:"SP Family Venture EST Enterprise",regNum:"(002905563-H)",desc1:"PEMBORONG AYAM HIDUP / AYAM SEGAR (PROSES)",desc2:"AYAM DAGING (BROILER), AYAM KAMPUNG & AYAM TUA (TELOR)",contact:"H/P (012)627-3691 (Mr.SELVA)",logoLeft:MN,logoRight:VN,invoiceStart:1e4},R1=async()=>{try{const a=await Qe.customers.count(),t=await Qe.products.count();if(await Qe.settings.put(LN),a>0||t>0)return console.log("Database already has data. Skipping seed."),{success:!1,message:"Database already contains data. Settings updated."};await Qe.customers.bulkAdd(kN),await Qe.products.bulkAdd(PN);const r=await Qe.customers.toArray(),s=await Qe.products.toArray(),l=[],c=new Date;for(let p=0;p<15;p++){const b=new Date(c);b.setDate(c.getDate()-Math.floor(Math.random()*7));const _=r[Math.floor(Math.random()*r.length)],v=Math.floor(Math.random()*3)+1,A=[];let N=0;for(let O=0;O<v;O++){const Q=s[Math.floor(Math.random()*s.length)],me=Math.floor(Math.random()*10)+1,ue=me*Q.price;A.push({productId:Q.id,qty:me,unit:Q.unit,price:Q.price}),N+=ue}l.push({date:b.toISOString().split("T")[0],customerId:_.id,items:A,subtotal:N,prevBalance:0,memo:"",grandTotal:N})}return await Qe.sales.bulkAdd(l),{success:!0,message:"Sample data and logos added successfully!"}}catch(a){return console.error("Error seeding database:",a),{success:!1,message:"Failed to seed data."}}},i_=async()=>{try{return await Qe.delete(),await Qe.open(),{success:!0,message:"Database cleared and reset."}}catch(a){return console.error("Error clearing database:",a),{success:!1,message:"Failed to clear database."}}};function UN(){const a=Ol(),t=Tp(),[r,s]=se.useState({todaySales:0,totalSales:0,customerCount:0,productCount:0}),[l,c]=se.useState([]),[p,b]=se.useState(!1),_=ga(()=>Qe.customers.toArray()),v=ga(()=>Qe.products.toArray()),A=ga(()=>Qe.sales.toArray());se.useEffect(()=>{if(A&&_&&v){const Q=bi(new Date),me=A.filter(Y=>Y.date===Q).reduce((Y,re)=>Y+(re.subtotal||0),0),ue=A.reduce((Y,re)=>Y+(re.subtotal||0),0);s({todaySales:me,totalSales:ue,customerCount:_.length,productCount:v.length});const te=[...A].sort((Y,re)=>new Date(re.date)-new Date(Y.date)).slice(0,5);c(te)}},[A,_,v]);const N=async()=>{if(confirm("This will populate the database with sample data. Continue?")){b(!0);const Q=await R1();alert(Q.message),b(!1)}},O=Q=>_?.find(me=>me.id===Q)?.name||"Unknown";return y.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[y.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white p-8 pb-32",children:y.jsxs("div",{className:"max-w-5xl mx-auto",children:[y.jsxs("div",{className:"flex justify-between items-center mb-8",children:[y.jsxs("div",{className:"flex items-center gap-5",children:[t.logoLeft&&y.jsx("div",{className:"w-20 h-20 bg-white/10 backdrop-blur-sm rounded-2xl p-2 border border-white/20 shadow-xl flex items-center justify-center",children:y.jsx("img",{src:t.logoLeft,alt:"Logo",className:"w-full h-full object-contain drop-shadow-md"})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white drop-shadow-sm",children:t.companyName||"Welcome Back!"}),y.jsx("p",{className:"text-blue-100 mt-1 font-medium opacity-90",children:"Dashboard Overview"})]})]}),y.jsx("div",{className:"text-right hidden md:block",children:y.jsx("p",{className:"text-2xl font-bold",children:IN(new Date)})})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[y.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/20",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx("div",{className:"p-2 bg-green-400/20 rounded-lg",children:y.jsx(A_,{size:20,className:"text-green-300"})}),y.jsx("span",{className:"text-blue-100 text-sm font-medium",children:"Today's Sales"})]}),y.jsxs("p",{className:"text-2xl font-bold",children:["RM ",r.todaySales.toFixed(2)]})]}),y.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/20",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx("div",{className:"p-2 bg-blue-400/20 rounded-lg",children:y.jsx(Bm,{size:20,className:"text-blue-300"})}),y.jsx("span",{className:"text-blue-100 text-sm font-medium",children:"Total Revenue"})]}),y.jsxs("p",{className:"text-2xl font-bold",children:["RM ",r.totalSales.toFixed(2)]})]}),y.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/20",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx("div",{className:"p-2 bg-purple-400/20 rounded-lg",children:y.jsx(yf,{size:20,className:"text-purple-300"})}),y.jsx("span",{className:"text-blue-100 text-sm font-medium",children:"Customers"})]}),y.jsx("p",{className:"text-2xl font-bold",children:r.customerCount})]}),y.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/20",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx("div",{className:"p-2 bg-orange-400/20 rounded-lg",children:y.jsx(gf,{size:20,className:"text-orange-300"})}),y.jsx("span",{className:"text-blue-100 text-sm font-medium",children:"Products"})]}),y.jsx("p",{className:"text-2xl font-bold",children:r.productCount})]})]})]})}),y.jsxs("div",{className:"max-w-5xl mx-auto px-4 -mt-24",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[y.jsxs("button",{onClick:()=>a("/sales/new"),className:"bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1 flex flex-col items-center text-center group",children:[y.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center mb-4 group-hover:bg-blue-100 transition-colors",children:y.jsx(qw,{size:32,className:"text-blue-600"})}),y.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"New Sale"}),y.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Create a new invoice for a customer"})]}),y.jsxs("button",{onClick:()=>a("/customers"),className:"bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1 flex flex-col items-center text-center group",children:[y.jsx("div",{className:"w-16 h-16 bg-purple-50 rounded-full flex items-center justify-center mb-4 group-hover:bg-purple-100 transition-colors",children:y.jsx(yf,{size:32,className:"text-purple-600"})}),y.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Manage Customers"}),y.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Add or edit customer details"})]}),y.jsxs("button",{onClick:()=>a("/products"),className:"bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1 flex flex-col items-center text-center group",children:[y.jsx("div",{className:"w-16 h-16 bg-orange-50 rounded-full flex items-center justify-center mb-4 group-hover:bg-orange-100 transition-colors",children:y.jsx(gf,{size:32,className:"text-orange-600"})}),y.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Inventory"}),y.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Manage products and pricing"})]})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[y.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[y.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Recent Sales"}),y.jsxs("button",{onClick:()=>a("/sales"),className:"text-blue-600 text-sm font-medium hover:underline flex items-center gap-1",children:["View All ",y.jsx(Lw,{size:16})]})]}),y.jsx("div",{className:"divide-y divide-gray-50",children:l.length>0?l.map(Q=>y.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center text-gray-500",children:y.jsx(zw,{size:18})}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium text-gray-800",children:O(Q.customerId)}),y.jsxs("p",{className:"text-xs text-gray-500",children:[bi(new Date(Q.date)),Q.memo&&y.jsxs("span",{className:"ml-2 italic text-gray-400",children:["- ",Q.memo]})]})]})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("p",{className:"font-bold text-gray-800",children:["RM ",(Q.grandTotal||0).toFixed(2)]}),y.jsxs("p",{className:"text-xs text-gray-500",children:["Inv #",Q.id]})]})]},Q.id)):y.jsx("div",{className:"p-8 text-center text-gray-500",children:"No sales found. Start by creating a new sale!"})})]}),y.jsxs("div",{className:"space-y-6",children:[r.customerCount===0&&r.productCount===0&&y.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-blue-50 rounded-xl p-6 border border-blue-100",children:[y.jsx("h3",{className:"font-bold text-indigo-900 mb-2",children:"New here?"}),y.jsx("p",{className:"text-sm text-indigo-700 mb-4",children:"Populate your database with sample data to see how the app looks and feels."}),y.jsxs("button",{onClick:N,disabled:p,className:"w-full py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2",children:[y.jsx(of,{size:18}),p?"Seeding...":"Load Sample Data"]})]}),y.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[y.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Quick Links"}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("button",{onClick:()=>a("/settings"),className:"w-full text-left px-4 py-2 rounded-lg hover:bg-gray-50 text-gray-600 font-medium text-sm transition-colors",children:"Company Settings"}),y.jsx("button",{onClick:()=>a("/sales"),className:"w-full text-left px-4 py-2 rounded-lg hover:bg-gray-50 text-gray-600 font-medium text-sm transition-colors",children:"Sales History"})]})]})]})]})]})]})}const zN="modulepreload",BN=function(a){return"/spfamilyventuresbook/"+a},s_={},o_=function(t,r,s){let l=Promise.resolve();if(r&&r.length>0){let v=function(A){return Promise.all(A.map(N=>Promise.resolve(N).then(O=>({status:"fulfilled",value:O}),O=>({status:"rejected",reason:O}))))};var p=v;document.getElementsByTagName("link");const b=document.querySelector("meta[property=csp-nonce]"),_=b?.nonce||b?.getAttribute("nonce");l=v(r.map(A=>{if(A=BN(A),A in s_)return;s_[A]=!0;const N=A.endsWith(".css"),O=N?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${O}`))return;const Q=document.createElement("link");if(Q.rel=N?"stylesheet":zN,N||(Q.as="script"),Q.crossOrigin="",Q.href=A,_&&Q.setAttribute("nonce",_),document.head.appendChild(Q),N)return new Promise((me,ue)=>{Q.addEventListener("load",me),Q.addEventListener("error",()=>ue(new Error(`Unable to preload CSS for ${A}`)))})}))}function c(b){const _=new Event("vite:preloadError",{cancelable:!0});if(_.payload=b,window.dispatchEvent(_),!_.defaultPrevented)throw b}return l.then(b=>{for(const _ of b||[])_.status==="rejected"&&c(_.reason);return t().catch(c)})},qN=async()=>{try{const a=await Qe.customers.toArray(),t=await Qe.products.toArray(),r=await Qe.sales.toArray(),s=await Qe.settings.toArray(),l={version:1,timestamp:new Date().toISOString(),customers:a,products:t,sales:r,settings:s},c=new Blob([JSON.stringify(l,null,2)],{type:"application/json"}),p=URL.createObjectURL(c),b=document.createElement("a");return b.href=p,b.download=`sp_sales_backup_${bi(new Date)}.json`,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(p),{success:!0,message:"Backup exported successfully."}}catch(a){return console.error("Export failed:",a),{success:!1,message:"Failed to export backup."}}},FN=async a=>new Promise((t,r)=>{const s=new FileReader;s.onload=async l=>{try{const c=JSON.parse(l.target.result);if(!c.customers||!c.products||!c.sales)throw new Error("Invalid backup file format.");await Qe.transaction("rw",Qe.customers,Qe.products,Qe.sales,Qe.settings,async()=>{c.customers.length&&await Qe.customers.bulkPut(c.customers),c.products.length&&await Qe.products.bulkPut(c.products),c.sales.length&&await Qe.sales.bulkPut(c.sales),c.settings&&c.settings.length&&await Qe.settings.bulkPut(c.settings)}),t({success:!0,message:"Backup imported successfully."})}catch(c){console.error("Import failed:",c),t({success:!1,message:"Failed to import backup. Invalid file."})}},s.onerror=()=>{t({success:!1,message:"Failed to read file."})},s.readAsText(a)}),N1=se.createContext(null),HN=({children:a})=>{const[t,r]=se.useState(null),[s,l]=se.useState(!0);se.useEffect(()=>{const _=localStorage.getItem("user");_&&r(JSON.parse(_)),l(!1)},[]);const c=async(_,v)=>{try{const A=await Qe.users.where("username").equals(_).first();if(A&&A.password===v){const N={id:A.id,username:A.username};return r(N),localStorage.setItem("user",JSON.stringify(N)),{success:!0}}return{success:!1,message:"Invalid username or password"}}catch(A){return console.error("Login error:",A),{success:!1,message:"Login failed"}}},p=()=>{r(null),localStorage.removeItem("user")},b=async _=>{if(!t)return{success:!1,message:"Not logged in"};try{return await Qe.users.update(t.id,{password:_}),{success:!0,message:"Password updated successfully"}}catch(v){return console.error("Update password error:",v),{success:!1,message:"Failed to update password"}}};return y.jsx(N1.Provider,{value:{user:t,login:c,logout:p,updatePassword:b,loading:s},children:!s&&a})},Sp=()=>se.useContext(N1);function KN(){const a=Tp(),[t,r]=se.useState({}),[s,l]=se.useState(""),{user:c,updatePassword:p,logout:b}=Sp(),[_,v]=se.useState(""),[A,N]=se.useState("");se.useEffect(()=>{a.id&&!t.id&&r(a)},[a,t.id]);const O=ue=>{const{name:te,value:Y}=ue.target;r(re=>({...re,[te]:Y}))},Q=async(ue,te)=>{const Y=ue.target.files[0];if(Y){const re=new FileReader;re.onloadend=()=>{r(pe=>({...pe,[te]:re.result}))},re.readAsDataURL(Y)}},me=async ue=>{ue.preventDefault();try{t.id&&(await Qe.settings.put(t),l("Settings saved successfully!"),setTimeout(()=>l(""),3e3))}catch(te){console.error("Failed to save settings:",te),l("Error saving settings.")}};return t.id?y.jsxs("div",{className:"p-4 max-w-lg mx-auto pb-24",children:[y.jsx("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Company Settings"}),y.jsxs("form",{onSubmit:me,className:"space-y-4",children:[y.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 space-y-3",children:[y.jsx("h2",{className:"font-semibold text-gray-700 mb-2",children:"Company Details"}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Company Name"}),y.jsx("input",{type:"text",name:"companyName",value:t.companyName||"",onChange:O,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 outline-none"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Registration Number"}),y.jsx("input",{type:"text",name:"regNum",value:t.regNum||"",onChange:O,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 outline-none"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Description Line 1"}),y.jsx("input",{type:"text",name:"desc1",value:t.desc1||"",onChange:O,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 outline-none"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Description Line 2"}),y.jsx("input",{type:"text",name:"desc2",value:t.desc2||"",onChange:O,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 outline-none"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Contact Info"}),y.jsx("input",{type:"text",name:"contact",value:t.contact||"",onChange:O,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 outline-none"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Invoice Start Number"}),y.jsx("input",{type:"number",name:"invoiceStart",value:t.invoiceStart||"",onChange:O,className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g. 10000"})]})]}),y.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 space-y-4",children:[y.jsx("h2",{className:"font-semibold text-gray-700 mb-2",children:"Logos"}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Left Logo (Company)"}),y.jsxs("div",{className:"relative border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:bg-gray-50 transition-colors",children:[t.logoLeft?y.jsx("img",{src:t.logoLeft,alt:"Left Logo",className:"h-20 mx-auto object-contain mb-2"}):y.jsx("div",{className:"h-20 flex items-center justify-center text-gray-400",children:"No Logo"}),y.jsxs("label",{className:"cursor-pointer block",children:[y.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Change"}),y.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:ue=>Q(ue,"logoLeft")})]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Right Logo (Poultry)"}),y.jsxs("div",{className:"relative border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:bg-gray-50 transition-colors",children:[t.logoRight?y.jsx("img",{src:t.logoRight,alt:"Right Logo",className:"h-20 mx-auto object-contain mb-2"}):y.jsx("div",{className:"h-20 flex items-center justify-center text-gray-400",children:"No Logo"}),y.jsxs("label",{className:"cursor-pointer block",children:[y.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Change"}),y.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:ue=>Q(ue,"logoRight")})]})]})]})]})]}),y.jsxs("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold shadow-md hover:bg-blue-700 flex items-center justify-center gap-2",children:[y.jsx(N_,{size:20}),"Save Settings"]}),s&&y.jsx("div",{className:`text-center p-2 rounded ${s.includes("Error")?"text-red-600 bg-red-50":"text-green-600 bg-green-50"}`,children:s})]}),y.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-8 mt-8",children:[y.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[y.jsx(D_,{size:24,className:"text-blue-600"}),"User Profile"]}),y.jsx("div",{className:"space-y-4",children:y.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-500",children:"Logged in as"}),y.jsx("p",{className:"font-bold text-gray-900",children:c?.username})]}),y.jsx("button",{onClick:b,className:"text-sm text-red-600 hover:text-red-800 font-medium",children:"Sign Out"})]}),y.jsxs("div",{className:"border-t pt-4",children:[y.jsxs("h3",{className:"font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[y.jsx(R_,{size:16})," Change Password"]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"password",placeholder:"New Password",value:_,onChange:ue=>v(ue.target.value),className:"flex-1 p-2 border rounded-md text-sm"}),y.jsx("button",{onClick:async()=>{if(!_)return;const ue=await p(_);N(ue.message),ue.success&&v(""),setTimeout(()=>N(""),3e3)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700",children:"Update"})]}),A&&y.jsx("p",{className:`text-xs mt-2 ${A.includes("Failed")?"text-red-600":"text-green-600"}`,children:A})]})]})})]}),y.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-8",children:[y.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[y.jsx(of,{size:24,className:"text-blue-600"}),"Data Management"]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-100",children:[y.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Backup & Restore"}),y.jsx("p",{className:"text-sm text-blue-700 mb-4",children:"Save your data to a file or restore from a backup. Use this to move data between devices."}),y.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[y.jsxs("button",{onClick:async()=>{const ue=await qN();alert(ue.message)},className:"flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[y.jsx(Um,{size:18})," Export Data"]}),y.jsxs("label",{className:"flex items-center justify-center gap-2 px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 cursor-pointer",children:[y.jsx(qm,{size:18})," Import Data",y.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:async ue=>{if(ue.target.files?.[0]&&confirm("This will merge the backup data with your current data. Continue?")){const te=await FN(ue.target.files[0]);alert(te.message),te.success&&window.location.reload()}}})]})]})]}),y.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-100",children:[y.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:"Cloud Sync Status"}),y.jsx("p",{className:"text-sm text-green-700 mb-4",children:"Check if your device can connect to the cloud database."}),y.jsxs("button",{onClick:async()=>{try{const{doc:ue,setDoc:te}=await o_(async()=>{const{doc:re,setDoc:pe}=await Promise.resolve().then(()=>vN);return{doc:re,setDoc:pe}},[]),{db:Y}=await o_(async()=>{const{db:re}=await Promise.resolve().then(()=>xN);return{db:re}},void 0);await te(ue(Y,"_connection_test","test"),{timestamp:new Date().toISOString(),device:navigator.userAgent}),alert("Connection Successful! Cloud sync is working.")}catch(ue){console.error(ue),alert("Connection Failed: "+ue.message+`

Please check your Firestore Rules in the Firebase Console.`)}},className:"flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[y.jsx(of,{size:18})," Test Connection"]})]})]})]}),y.jsxs("div",{className:"mt-12 border-t pt-8",children:[y.jsx("h2",{className:"text-lg font-bold text-red-600 mb-4",children:"Danger Zone"}),y.jsxs("button",{onClick:async()=>{if(confirm("WARNING: This will delete ALL data (customers, products, sales). This action cannot be undone. Are you sure?")){const ue=await i_();alert(ue.message)}},className:"w-full bg-red-50 text-red-600 border border-red-200 py-3 rounded-lg font-semibold hover:bg-red-100 flex items-center justify-center gap-2 mb-3",children:[y.jsx(xl,{size:20}),"Clear All Data"]}),y.jsxs("button",{onClick:async()=>{if(confirm("WARNING: This will delete ALL data (customers, products, sales) and replace it with sample data. Are you sure?")){await i_();const ue=await R1();alert(ue.message)}},className:"w-full bg-red-50 text-red-600 border border-red-200 py-3 rounded-lg font-semibold hover:bg-red-100 flex items-center justify-center gap-2",children:[y.jsx(of,{size:20}),"Reset & Seed Sample Data"]})]})]}):y.jsx("div",{className:"p-4",children:"Loading settings..."})}function GN(){const a=ga(()=>Qe.products.toArray()),[t,r]=se.useState(!1),[s,l]=se.useState(null),[c,p]=se.useState(""),b=se.useRef(null),[_,v]=se.useState({name:"",price:""}),A=(Y=null)=>{Y?(l(Y),v({name:Y.name,price:Y.price})):(l(null),v({name:"",price:""})),r(!0)},N=()=>{r(!1),l(null)},O=async Y=>{Y.preventDefault();try{s?await Qe.products.update(s.id,{name:_.name,price:parseFloat(_.price)}):await Qe.products.add({name:_.name,price:parseFloat(_.price)}),N()}catch(re){console.error("Failed to save product:",re),alert("Error saving product")}},Q=async Y=>{window.confirm("Are you sure you want to delete this product?")&&await Qe.products.delete(Y)},me=()=>{const Y=JSON.stringify(a,null,2),re=new Blob([Y],{type:"application/json"}),pe=URL.createObjectURL(re),Ne=document.createElement("a");Ne.href=pe,Ne.download="products_backup.json",document.body.appendChild(Ne),Ne.click(),document.body.removeChild(Ne)},ue=Y=>{const re=Y.target.files[0];if(!re)return;const pe=new FileReader;pe.onload=async Ne=>{try{const qe=JSON.parse(Ne.target.result);Array.isArray(qe)?(await Qe.products.bulkPut(qe),alert("Products imported successfully!")):alert("Invalid file format")}catch(qe){console.error("Import failed:",qe),alert("Failed to import products")}},pe.readAsText(re),Y.target.value=null},te=a?.filter(Y=>Y.name.toLowerCase().includes(c.toLowerCase()))||[];return y.jsxs("div",{className:"p-4 pb-24 max-w-4xl mx-auto",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Products"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("button",{onClick:()=>b.current.click(),className:"flex items-center gap-1 px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:[y.jsx(qm,{size:16})," Import"]}),y.jsx("input",{type:"file",ref:b,className:"hidden",accept:".json",onChange:ue}),y.jsxs("button",{onClick:me,className:"flex items-center gap-1 px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:[y.jsx(Um,{size:16})," Export"]}),y.jsxs("button",{onClick:()=>A(),className:"flex items-center gap-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow-sm",children:[y.jsx(Lf,{size:18})," Add Product"]})]})]}),y.jsxs("div",{className:"relative mb-4",children:[y.jsx(zm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),y.jsx("input",{type:"text",placeholder:"Search products...",value:c,onChange:Y=>p(Y.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),y.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left min-w-[600px]",children:[y.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-3 font-medium text-gray-600",children:"Name"}),y.jsx("th",{className:"px-4 py-3 font-medium text-gray-600",children:"Price (RM)"}),y.jsx("th",{className:"px-4 py-3 font-medium text-gray-600 text-right",children:"Actions"})]})}),y.jsxs("tbody",{className:"divide-y divide-gray-100",children:[te.map(Y=>y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsx("td",{className:"px-4 py-3",children:Y.name}),y.jsxs("td",{className:"px-4 py-3",children:["RM ",Y.price?.toFixed(2)]}),y.jsxs("td",{className:"px-4 py-3 text-right space-x-2",children:[y.jsx("button",{onClick:()=>A(Y),className:"text-blue-600 hover:text-blue-800 p-1",children:y.jsx(C_,{size:18})}),y.jsx("button",{onClick:()=>Q(Y.id),className:"text-red-600 hover:text-red-800 p-1",children:y.jsx(xl,{size:18})})]})]},Y.id)),te.length===0&&y.jsx("tr",{children:y.jsx("td",{colSpan:"3",className:"px-4 py-8 text-center text-gray-500",children:"No products found. Add one to get started."})})]})]})}),t&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:[y.jsx("h2",{className:"text-xl font-bold mb-4",children:s?"Edit Product":"Add Product"}),y.jsxs("form",{onSubmit:O,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name"}),y.jsx("input",{type:"text",required:!0,value:_.name,onChange:Y=>v({..._,name:Y.target.value}),className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 outline-none"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price (RM)"}),y.jsx("input",{type:"number",step:"0.01",required:!0,value:_.price,onChange:Y=>v({..._,price:Y.target.value}),className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 outline-none"})]}),y.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[y.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),y.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save"})]})]})]})})]})}function QN(){const a=ga(()=>Qe.customers.toArray()),[t,r]=se.useState(!1),[s,l]=se.useState(null),[c,p]=se.useState(""),b=se.useRef(null),[_,v]=se.useState({name:"",contact:"",email:"",address:""}),A=(Y=null)=>{Y?(l(Y),v({name:Y.name,contact:Y.contact,email:Y.email||"",address:Y.address||""})):(l(null),v({name:"",contact:"",email:"",address:""})),r(!0)},N=()=>{r(!1),l(null)},O=async Y=>{Y.preventDefault();try{s?await Qe.customers.update(s.id,_):await Qe.customers.add(_),N()}catch(re){console.error("Failed to save customer:",re),alert("Error saving customer")}},Q=async Y=>{window.confirm("Are you sure you want to delete this customer?")&&await Qe.customers.delete(Y)},me=()=>{const Y=JSON.stringify(a,null,2),re=new Blob([Y],{type:"application/json"}),pe=URL.createObjectURL(re),Ne=document.createElement("a");Ne.href=pe,Ne.download="customers_backup.json",document.body.appendChild(Ne),Ne.click(),document.body.removeChild(Ne)},ue=Y=>{const re=Y.target.files[0];if(!re)return;const pe=new FileReader;pe.onload=async Ne=>{try{const qe=JSON.parse(Ne.target.result);Array.isArray(qe)?(await Qe.customers.bulkPut(qe),alert("Customers imported successfully!")):alert("Invalid file format")}catch(qe){console.error("Import failed:",qe),alert("Failed to import customers")}},pe.readAsText(re),Y.target.value=null},te=a?.filter(Y=>Y.name.toLowerCase().includes(c.toLowerCase())||Y.contact.includes(c))||[];return y.jsxs("div",{className:"p-4 pb-24 max-w-5xl mx-auto",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Customers"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("button",{onClick:()=>b.current.click(),className:"flex items-center gap-1 px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:[y.jsx(qm,{size:16})," Import"]}),y.jsx("input",{type:"file",ref:b,className:"hidden",accept:".json",onChange:ue}),y.jsxs("button",{onClick:me,className:"flex items-center gap-1 px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:[y.jsx(Um,{size:16})," Export"]}),y.jsxs("button",{onClick:()=>A(),className:"flex items-center gap-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow-sm",children:[y.jsx(Lf,{size:18})," Add Customer"]})]})]}),y.jsxs("div",{className:"relative mb-4",children:[y.jsx(zm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),y.jsx("input",{type:"text",placeholder:"Search customers...",value:c,onChange:Y=>p(Y.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:te.map(Y=>y.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:Y.name}),y.jsxs("div",{className:"flex gap-1",children:[y.jsx("button",{onClick:()=>A(Y),className:"text-blue-600 hover:text-blue-800 p-1",children:y.jsx(C_,{size:16})}),y.jsx("button",{onClick:()=>Q(Y.id),className:"text-red-600 hover:text-red-800 p-1",children:y.jsx(xl,{size:16})})]})]}),y.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(oT,{size:14,className:"text-gray-400"}),y.jsx("span",{children:Y.contact})]}),Y.email&&y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(eT,{size:14,className:"text-gray-400"}),y.jsx("span",{children:Y.email})]}),Y.address&&y.jsxs("div",{className:"flex items-start gap-2",children:[y.jsx(nT,{size:14,className:"text-gray-400 mt-1"}),y.jsx("span",{className:"flex-1",children:Y.address})]})]})]},Y.id))}),te.length===0&&y.jsx("div",{className:"text-center py-12 text-gray-500",children:"No customers found. Add one to get started."}),t&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:[y.jsx("h2",{className:"text-xl font-bold mb-4",children:s?"Edit Customer":"Add Customer"}),y.jsxs("form",{onSubmit:O,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),y.jsx("input",{type:"text",required:!0,value:_.name,onChange:Y=>v({..._,name:Y.target.value}),className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 outline-none"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact No."}),y.jsx("input",{type:"text",required:!0,value:_.contact,onChange:Y=>v({..._,contact:Y.target.value}),className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 outline-none"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email (Optional)"}),y.jsx("input",{type:"email",value:_.email,onChange:Y=>v({..._,email:Y.target.value}),className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 outline-none"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address (Optional)"}),y.jsx("textarea",{value:_.address,onChange:Y=>v({..._,address:Y.target.value}),className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 outline-none",rows:"3"})]}),y.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[y.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),y.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save"})]})]})]})})]})}function YN(){const a=ga(()=>Qe.sales.reverse().toArray()),t=ga(()=>Qe.customers.toArray()),[r,s]=se.useState(""),l=Ol(),c=v=>t?.find(A=>A.id===v)?.name||"Unknown Customer",p=v=>v?.reduce((A,N)=>A+(N.discount||0),0)||0,b=a?.filter(v=>{const A=c(v.customerId).toLowerCase(),N=bi(new Date(v.date)),O=v.memo?.toLowerCase()||"";return A.includes(r.toLowerCase())||N.includes(r)||O.includes(r.toLowerCase())})||[],_=async v=>{window.confirm("Are you sure you want to delete this sale record?")&&await Qe.sales.delete(v)};return y.jsxs("div",{className:"p-4 pb-24 max-w-6xl mx-auto",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Sales Dashboard"}),y.jsxs(Pf,{to:"/sales/new",className:"flex items-center gap-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow-sm",children:[y.jsx(Lf,{size:18})," New Sale"]})]}),y.jsxs("div",{className:"relative mb-4",children:[y.jsx(zm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),y.jsx("input",{type:"text",placeholder:"Search by customer, date, or memo...",value:r,onChange:v=>s(v.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),y.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left min-w-[800px]",children:[y.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-3 font-medium text-gray-600",children:"Date"}),y.jsx("th",{className:"px-4 py-3 font-medium text-gray-600",children:"Customer"}),y.jsx("th",{className:"px-4 py-3 font-medium text-gray-600",children:"Memo"}),y.jsx("th",{className:"px-4 py-3 font-medium text-gray-600 text-right",children:"Discount"}),y.jsx("th",{className:"px-4 py-3 font-medium text-gray-600 text-right",children:"Grand Total"}),y.jsx("th",{className:"px-4 py-3 font-medium text-gray-600 text-right",children:"Actions"})]})}),y.jsxs("tbody",{className:"divide-y divide-gray-100",children:[b.map(v=>y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsx("td",{className:"px-4 py-3 text-sm",children:bi(new Date(v.date))}),y.jsx("td",{className:"px-4 py-3 font-medium",children:c(v.customerId)}),y.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 italic",children:v.memo||"-"}),y.jsx("td",{className:"px-4 py-3 text-right text-red-500 text-sm",children:p(v.items)>0?`RM ${p(v.items).toFixed(2)}`:"-"}),y.jsxs("td",{className:"px-4 py-3 text-right font-bold text-green-600",children:["RM ",(v.grandTotal||0).toFixed(2)]}),y.jsxs("td",{className:"px-4 py-3 text-right space-x-2",children:[y.jsx("button",{onClick:()=>l(`/sales/${v.id}`),className:"text-blue-600 hover:text-blue-800 p-1",title:"View Invoice",children:y.jsx(Xw,{size:18})}),y.jsx("button",{onClick:()=>_(v.id),className:"text-red-600 hover:text-red-800 p-1",title:"Delete",children:y.jsx(xl,{size:18})})]})]},v.id)),b.length===0&&y.jsx("tr",{children:y.jsx("td",{colSpan:"6",className:"px-4 py-8 text-center text-gray-500",children:"No sales found. Create a new sale to get started."})})]})]})})]})}var mf={exports:{}},XN=mf.exports,l_;function $N(){return l_||(l_=1,(function(a,t){(function(r,s){a.exports=s(Mf())})(typeof self<"u"?self:XN,function(r){return(function(){var s={155:function(re){re.exports=r}},l={};function c(re){var pe=l[re];if(pe!==void 0)return pe.exports;var Ne=l[re]={exports:{}};return s[re](Ne,Ne.exports,c),Ne.exports}c.d=function(re,pe){for(var Ne in pe)c.o(pe,Ne)&&!c.o(re,Ne)&&Object.defineProperty(re,Ne,{enumerable:!0,get:pe[Ne]})},c.o=function(re,pe){return Object.prototype.hasOwnProperty.call(re,pe)},c.r=function(re){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(re,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(re,"__esModule",{value:!0})};var p={};c.r(p),c.d(p,{useReactToPrint:function(){return Y}});var b=c(155);const _="printWindow";function v({level:re="error",messages:pe,suppressErrors:Ne=!1}){Ne||(re==="error"?console.error(pe):re==="warning"?console.warn(pe):console.debug(pe))}function A(re,pe){if(pe||!re){const Ne=document.getElementById(_);Ne&&document.body.removeChild(Ne)}}function N(re){return re instanceof Error?re:new Error("Unknown Error")}function O(re,pe){const{documentTitle:Ne,onAfterPrint:qe,onPrintError:Ye,preserveAfterPrint:M,print:j,suppressErrors:V}=pe;setTimeout(()=>{var B,z;if(re.contentWindow){let k=function(){qe?.(),A(M)};var Z=k;if(re.contentWindow.focus(),j)j(re).then(k).catch(yt=>{Ye?Ye("print",N(yt)):v({messages:["An error was thrown by the specified `print` function"],suppressErrors:V})});else{if(re.contentWindow.print){const yt=(z=(B=re.contentDocument)===null||B===void 0?void 0:B.title)!==null&&z!==void 0?z:"",Rt=re.ownerDocument.title;Ne&&(re.ownerDocument.title=Ne,re.contentDocument&&(re.contentDocument.title=Ne)),re.contentWindow.print(),Ne&&(re.ownerDocument.title=Rt,re.contentDocument&&(re.contentDocument.title=yt))}else v({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:V});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(yt=>{var Rt,J;return((J=(Rt=navigator.userAgent)!==null&&Rt!==void 0?Rt:navigator.vendor)!==null&&J!==void 0?J:"opera"in window&&window.opera).match(yt)})?setTimeout(k,500):k()}}else v({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:V})},500)}function Q(re){const pe=[],Ne=document.createTreeWalker(re,NodeFilter.SHOW_ELEMENT,null);let qe=Ne.nextNode();for(;qe;)pe.push(qe),qe=Ne.nextNode();return pe}function me(re,pe,Ne){const qe=Q(re),Ye=Q(pe);if(qe.length===Ye.length)for(let M=0;M<qe.length;M++){const j=qe[M],V=Ye[M],B=j.shadowRoot;if(B!==null){const z=V.attachShadow({mode:B.mode});z.innerHTML=B.innerHTML,me(B,z,Ne)}}else v({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",re,pe],suppressErrors:Ne})}const ue=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function te(re,pe,Ne,qe){var Ye,M,j,V,B;const{contentNode:z,clonedContentNode:Z,clonedImgNodes:k,clonedVideoNodes:yt,numResourcesToLoad:Rt,originalCanvasNodes:J}=Ne,{bodyClass:Se,fonts:Ae,ignoreGlobalStyles:at,pageStyle:tt,nonce:q,suppressErrors:_e,copyShadowRoots:je}=qe;re.onload=null;const Re=(Ye=re.contentDocument)!==null&&Ye!==void 0?Ye:(M=re.contentWindow)===null||M===void 0?void 0:M.document;if(Re){const Be=Re.body.appendChild(Z);je&&me(z,Be,!!_e),Ae&&(!((j=re.contentDocument)===null||j===void 0)&&j.fonts&&(!((V=re.contentWindow)===null||V===void 0)&&V.FontFace)?Ae.forEach(Ke=>{const Je=new FontFace(Ke.family,Ke.source,{weight:Ke.weight,style:Ke.style});re.contentDocument.fonts.add(Je),Je.loaded.then(()=>{pe(Je)}).catch(Ft=>{pe(Je,["Failed loading the font:",Je,"Load error:",N(Ft)])})}):(Ae.forEach(Ke=>{pe(Ke)}),v({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:_e})));const $e=tt??ue,rt=Re.createElement("style");q&&(rt.setAttribute("nonce",q),Re.head.setAttribute("nonce",q)),rt.appendChild(Re.createTextNode($e)),Re.head.appendChild(rt),Se&&Re.body.classList.add(...Se.split(" "));const qt=Re.querySelectorAll("canvas");for(let Ke=0;Ke<J.length;++Ke){const Je=J[Ke],Ft=qt[Ke];if(Ft===void 0){v({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",Je],suppressErrors:_e});continue}const pt=Ft.getContext("2d");pt&&pt.drawImage(Je,0,0)}for(let Ke=0;Ke<k.length;Ke++){const Je=k[Ke],Ft=Je.getAttribute("src");if(Ft){const pt=new Image;pt.onload=()=>{pe(Je)},pt.onerror=(Ut,on,Yn,Nt,Mt)=>{pe(Je,["Error loading <img>",Je,"Error",Mt])},pt.src=Ft}else pe(Je,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',Je])}for(let Ke=0;Ke<yt.length;Ke++){const Je=yt[Ke];Je.preload="auto";const Ft=Je.getAttribute("poster");if(Ft){const pt=new Image;pt.onload=()=>{pe(Je)},pt.onerror=(Ut,on,Yn,Nt,Mt)=>{pe(Je,["Error loading video poster",Ft,"for video",Je,"Error:",Mt])},pt.src=Ft}else Je.readyState>=2?pe(Je):Je.src?(Je.onloadeddata=()=>{pe(Je)},Je.onerror=(pt,Ut,on,Yn,Nt)=>{pe(Je,["Error loading video",Je,"Error",Nt])},Je.onstalled=()=>{pe(Je,["Loading video stalled, skipping",Je])}):pe(Je,["Error loading video, `src` is empty",Je])}const Oe="select",hn=z.querySelectorAll(Oe),On=Re.querySelectorAll(Oe);for(let Ke=0;Ke<hn.length;Ke++)On[Ke].value=hn[Ke].value;if(!at){const Ke=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let Je=0,Ft=Ke.length;Je<Ft;++Je){const pt=Ke[Je];if(pt.tagName.toLowerCase()==="style"){const Ut=Re.createElement(pt.tagName),on=pt.sheet;if(on){let Yn="";try{const Nt=on.cssRules.length;for(let Mt=0;Mt<Nt;++Mt)typeof on.cssRules[Mt].cssText=="string"&&(Yn+=`${on.cssRules[Mt].cssText}\r
`)}catch(Nt){v({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",pt,`Original error: ${N(Nt).message}`],level:"warning"})}Ut.setAttribute("id",`react-to-print-${Je}`),q&&Ut.setAttribute("nonce",q),Ut.appendChild(Re.createTextNode(Yn)),Re.head.appendChild(Ut)}}else if(pt.getAttribute("href"))if(pt.hasAttribute("disabled"))v({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",pt],level:"warning"}),pe(pt);else{const Ut=Re.createElement(pt.tagName);for(let on=0,Yn=pt.attributes.length;on<Yn;++on){const Nt=pt.attributes[on];Nt&&Ut.setAttribute(Nt.nodeName,(B=Nt.nodeValue)!==null&&B!==void 0?B:"")}Ut.onload=()=>{pe(Ut)},Ut.onerror=(on,Yn,Nt,Mt,wn)=>{pe(Ut,["Failed to load",Ut,"Error:",wn])},q&&Ut.setAttribute("nonce",q),Re.head.appendChild(Ut)}else v({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",pt],level:"warning"}),pe(pt)}}}Rt===0&&O(re,qe)}function Y({bodyClass:re,contentRef:pe,copyShadowRoots:Ne,documentTitle:qe,fonts:Ye,ignoreGlobalStyles:M,nonce:j,onAfterPrint:V,onBeforePrint:B,onPrintError:z,pageStyle:Z,preserveAfterPrint:k,print:yt,printIframeProps:Rt,suppressErrors:J}){return(0,b.useCallback)(Ae=>{function at(){const tt={bodyClass:re,contentRef:pe,copyShadowRoots:Ne,documentTitle:qe,fonts:Ye,ignoreGlobalStyles:M,nonce:j,onAfterPrint:V,onPrintError:z,pageStyle:Z,preserveAfterPrint:k,print:yt,suppressErrors:J},q=(function(Re){const Be=document.createElement("iframe");return Be.width=`${document.documentElement.clientWidth}px`,Be.height=`${document.documentElement.clientHeight}px`,Be.style.position="absolute",Be.style.top=`-${document.documentElement.clientHeight+100}px`,Be.style.left=`-${document.documentElement.clientWidth+100}px`,Be.id=_,Be.srcdoc="<!DOCTYPE html>",Re&&(Re.allow&&(Be.allow=Re.allow),Re.referrerPolicy!==void 0&&(Be.referrerPolicy=Re.referrerPolicy),Re.sandbox!==void 0&&(Be.sandbox=Re.sandbox)),Be})(Rt),_e=(function(Re,Be){const{contentRef:$e,fonts:rt,ignoreGlobalStyles:qt,suppressErrors:Oe}=Be,hn=(function({contentRef:Ut,optionalContent:on,suppressErrors:Yn}){return on&&typeof on=="function"?(Ut&&v({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),on()):Ut?Ut.current:void v({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:Yn})})({contentRef:$e,optionalContent:Re,suppressErrors:Oe});if(!hn)return;const On=hn.cloneNode(!0),Ke=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),Je=On.querySelectorAll("img"),Ft=On.querySelectorAll("video"),pt=rt?rt.length:0;return{contentNode:hn,clonedContentNode:On,clonedImgNodes:Je,clonedVideoNodes:Ft,numResourcesToLoad:(qt?0:Ke.length)+Je.length+Ft.length+pt,originalCanvasNodes:hn.querySelectorAll("canvas")}})(Ae,tt);if(!_e)return void v({messages:["There is nothing to print"],suppressErrors:J});const je=(function(Re,Be,$e){const{suppressErrors:rt}=Re,qt=[],Oe=[];return function(hn,On){qt.includes(hn)?v({level:"debug",messages:["Tried to mark a resource that has already been handled",hn],suppressErrors:rt}):(On?(v({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...On],suppressErrors:rt}),Oe.push(hn)):qt.push(hn),qt.length+Oe.length===Be&&O($e,Re))}})(tt,_e.numResourcesToLoad,q);(function(Re,Be,$e,rt){Re.onload=()=>{te(Re,Be,$e,rt)},document.body.appendChild(Re)})(q,je,_e,tt)}A(k,!0),B?B().then(()=>{at()}).catch(tt=>{z?.("onBeforePrint",N(tt))}):at()},[re,pe,Ne,qe,Ye,M,j,V,B,z,Z,k,yt,J])}return p})()})})(mf)),mf.exports}var ZN=$N();const JN=({settings:a,customer:t,saleDate:r,id:s,items:l,products:c,prevBalance:p,prevBalanceMemo:b,subtotal:_,paidAmount:v,grandTotal:A})=>{const N=te=>c?.find(Y=>Y.id===te)?.name||"Unknown",O=l.reduce((te,Y)=>te+(Y.discount||0),0),Q=A-(v||0),me=parseInt(a.invoiceStart)||1e4,ue=s?me+(parseInt(s)-1):"NEW";return y.jsxs("div",{className:"bg-white p-8 max-w-4xl mx-auto print:p-0 print:w-full print:max-w-none font-sans",children:[y.jsxs("div",{className:"flex flex-col md:flex-row print:flex-row justify-between items-center md:items-start print:items-start mb-8 border-b-2 border-gray-100 pb-6 gap-4",children:[y.jsx("div",{className:"w-40 h-40 flex-shrink-0",children:a.logoLeft&&y.jsx("img",{src:a.logoLeft,alt:"Logo",className:"w-full h-full object-contain"})}),y.jsxs("div",{className:"text-center flex-1 px-4 order-first md:order-none print:order-none w-full",children:[y.jsx("h1",{className:"text-xl font-extrabold uppercase tracking-wide text-gray-900",children:a.companyName}),y.jsx("p",{className:"text-sm font-bold text-gray-600",children:a.regNum}),y.jsx("p",{className:"text-xs mt-1 text-gray-500 font-medium",children:a.desc1}),y.jsx("p",{className:"text-xs text-gray-500 font-medium",children:a.desc2}),y.jsx("p",{className:"text-sm font-bold mt-2 text-gray-800",children:a.contact})]}),y.jsx("div",{className:"w-40 h-40 flex-shrink-0 hidden md:block print:block",children:a.logoRight&&y.jsx("img",{src:a.logoRight,alt:"Poultry",className:"w-full h-full object-contain"})})]}),y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end mb-8 gap-6",children:[y.jsxs("div",{className:"w-full md:w-auto",children:[y.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase mb-1",children:"Billed To"}),y.jsx("h2",{className:"text-lg font-bold text-gray-900",children:t.name}),y.jsx("p",{className:"text-sm text-gray-600 max-w-[250px]",children:t.address}),y.jsx("p",{className:"text-sm text-gray-600",children:t.contact})]}),y.jsxs("div",{className:"text-left md:text-right w-full md:w-auto",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-400 uppercase mb-1",children:"Delivery Order / Invoice"}),y.jsxs("p",{className:"text-sm font-bold text-gray-600",children:["#INV-",ue]}),y.jsxs("p",{className:"text-sm font-bold text-gray-600",children:["Date: ",bi(new Date(r))]})]})]}),y.jsx("div",{className:"hidden md:block print:!block overflow-x-auto",children:y.jsxs("table",{className:"w-full mb-8 border-collapse min-w-[600px] print:!min-w-full print:!table",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[y.jsx("th",{className:"text-center py-3 px-2 text-sm font-bold text-gray-600 w-12",children:"#"}),y.jsx("th",{className:"text-left py-3 px-2 text-sm font-bold text-gray-600",children:"Item"}),y.jsx("th",{className:"text-center py-3 px-2 text-sm font-bold text-gray-600",children:"Quantity"}),y.jsx("th",{className:"text-right py-3 px-2 text-sm font-bold text-gray-600",children:"Unit Price"}),y.jsx("th",{className:"text-right py-3 px-2 text-sm font-bold text-gray-600",children:"Total"})]})}),y.jsx("tbody",{children:l.map((te,Y)=>y.jsxs("tr",{className:"border-b border-gray-50",children:[y.jsx("td",{className:"text-center py-3 px-2 text-sm text-gray-600",children:Y+1}),y.jsxs("td",{className:"py-3 px-2",children:[y.jsx("div",{className:"font-bold text-gray-800",children:N(parseInt(te.productId))}),te.memo&&y.jsx("div",{className:"text-xs text-gray-500 italic mt-0.5",children:te.memo}),te.discount>0&&y.jsxs("div",{className:"text-xs text-red-500 mt-0.5",children:["Disc: -",parseFloat(te.discount).toFixed(2)]})]}),y.jsxs("td",{className:"text-center py-3 px-2 text-sm text-gray-800 font-medium",children:[te.qty," ",te.unit]}),y.jsxs("td",{className:"text-right py-3 px-2 text-sm text-gray-800",children:["RM ",parseFloat(te.price).toFixed(2)]}),y.jsxs("td",{className:"text-right py-3 px-2 text-sm font-bold text-gray-800",children:["RM ",(te.qty*te.price-(te.discount||0)).toFixed(2)]})]},Y))})]})}),y.jsx("div",{className:"md:hidden print:hidden space-y-4 mb-8",children:l.map((te,Y)=>y.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-100",children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsxs("div",{children:[y.jsx("div",{className:"font-bold text-gray-900",children:N(parseInt(te.productId))}),te.memo&&y.jsx("div",{className:"text-xs text-gray-500 italic",children:te.memo})]}),y.jsxs("div",{className:"text-xs font-bold text-gray-500 bg-white px-2 py-1 rounded border",children:["#",Y+1]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-3",children:[y.jsxs("div",{children:[y.jsx("span",{className:"text-gray-500 text-xs block",children:"Quantity"}),y.jsxs("span",{className:"font-medium",children:[te.qty," ",te.unit]})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("span",{className:"text-gray-500 text-xs block",children:"Unit Price"}),y.jsxs("span",{className:"font-medium",children:["RM ",parseFloat(te.price).toFixed(2)]})]})]}),te.discount>0&&y.jsxs("div",{className:"flex justify-between text-xs text-red-500 mb-2",children:[y.jsx("span",{children:"Discount"}),y.jsxs("span",{children:["- RM ",parseFloat(te.discount).toFixed(2)]})]}),y.jsxs("div",{className:"flex justify-between items-center border-t border-gray-200 pt-2",children:[y.jsx("span",{className:"font-bold text-gray-600",children:"Total"}),y.jsxs("span",{className:"font-bold text-gray-900 text-lg",children:["RM ",(te.qty*te.price-(te.discount||0)).toFixed(2)]})]})]},Y))}),y.jsx("div",{className:"flex justify-end mb-12",children:y.jsxs("div",{className:"w-80",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2 px-2",children:[y.jsx("span",{className:"text-sm font-bold text-gray-600",children:"Subtotal"}),y.jsxs("span",{className:"text-sm font-bold text-gray-800",children:["RM ",_.toFixed(2)]})]}),y.jsxs("div",{className:"flex justify-between items-center bg-green-700 text-white px-3 py-1.5 rounded-sm mb-1",children:[y.jsx("span",{className:"text-sm font-medium",children:"Discount"}),y.jsxs("span",{className:"text-sm font-bold",children:["- RM ",O.toFixed(2)]})]}),y.jsxs("div",{className:"flex justify-between items-center bg-green-700 text-white px-3 py-1.5 rounded-sm mb-2",children:[y.jsxs("span",{className:"text-sm font-medium",children:["Previous Balance ",b&&`(${b})`]}),y.jsxs("span",{className:"text-sm font-bold",children:["RM ",parseFloat(p).toFixed(2)]})]}),y.jsxs("div",{className:"flex justify-between items-center mb-2 px-2",children:[y.jsx("span",{className:"text-sm font-bold text-gray-600",children:"Paid"}),y.jsxs("span",{className:"text-sm font-bold text-gray-800",children:["- RM ",parseFloat(v||0).toFixed(2)]})]}),y.jsxs("div",{className:"flex justify-between items-center border-t-2 border-gray-200 pt-2 px-2",children:[y.jsx("span",{className:"text-lg font-extrabold text-gray-900",children:"Balance Due"}),y.jsxs("span",{className:"text-lg font-extrabold text-gray-900",children:["RM ",Q.toFixed(2)]})]})]})}),y.jsxs("div",{className:"text-center space-y-1",children:[y.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Thank you for your business!"}),y.jsx("p",{className:"text-xs text-gray-400 italic",children:"This is a computer-generated document. No signature is required."})]})]})};function u_(){const{id:a}=VE(),t=Ol(),r=Tp(),s=ga(()=>Qe.customers.toArray()),l=ga(()=>Qe.products.toArray()),[c,p]=se.useState(bi(new Date)),[b,_]=se.useState(""),[v,A]=se.useState([]),[N,O]=se.useState(0),[Q,me]=se.useState(""),[ue,te]=se.useState(0),[Y,re]=se.useState(!1),[pe,Ne]=se.useState(!1),[qe,Ye]=se.useState(!0),M=se.useRef(),j=ZN.useReactToPrint({contentRef:M,documentTitle:`Invoice-${a||"New"}`});se.useEffect(()=>{a&&Qe.sales.get(parseInt(a)).then(J=>{J&&(p(J.date),_(J.customerId),A(J.items),O(J.prevBalance||0),me(J.memo||""),te(J.paidAmount||0),re(!0))})},[a]);const V=()=>{A([...v,{productId:"",qty:1,unit:"Kg",price:0,discount:0,memo:""}])},B=(J,Se,Ae)=>{const at=[...v];if(at[J][Se]=Ae,Se==="productId"){const tt=l.find(q=>q.id===parseInt(Ae));tt&&(at[J].price=tt.price)}A(at)},z=J=>{A(v.filter((Se,Ae)=>Ae!==J))},Z=()=>v.reduce((J,Se)=>J+(Se.qty*Se.price-(Se.discount||0)),0),k=()=>Z()+parseFloat(N||0),yt=async(J=!1)=>{if(!b){alert("Please select a customer");return}if(v.length===0){alert("Please add at least one item");return}const Se={date:c,customerId:parseInt(b),items:v.map(Ae=>({...Ae,productId:parseInt(Ae.productId),qty:parseFloat(Ae.qty),price:parseFloat(Ae.price),discount:parseFloat(Ae.discount||0),memo:Ae.memo||""})),subtotal:Z(),prevBalance:parseFloat(N),memo:Q,paidAmount:parseFloat(ue),grandTotal:k()};try{let Ae=a?parseInt(a):null;if(Ae)await Qe.sales.update(Ae,Se),alert("Sale updated!");else{if(Ae=await Qe.sales.add(Se),!J){t(`/sales/${Ae}`);return}if(!a){t(`/sales/${Ae}?print=true`);return}}J?(re(!0),Ne(!0)):re(!0)}catch(Ae){console.error("Error saving sale:",Ae),alert("Failed to save sale")}};se.useEffect(()=>{new URLSearchParams(window.location.search).get("print")==="true"&&Y&&(window.history.replaceState({},"",window.location.pathname),Ne(!0))},[Y]),se.useEffect(()=>{if(pe&&Y){const J=setTimeout(()=>{j(),Ne(!1)},500);return()=>clearTimeout(J)}},[pe,Y]);const Rt=()=>s?.find(J=>J.id===parseInt(b))||{};return y.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24 print:bg-white print:pb-0",children:[qe&&y.jsxs("div",{className:"sticky top-0 bg-white shadow-sm p-4 flex justify-between items-center z-10 no-print",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>t("/"),className:"p-2 hover:bg-gray-100 rounded-full",children:y.jsx(kw,{size:20})}),y.jsx("h1",{className:"text-xl font-bold",children:a?"Invoice View":"New Sale"})]}),y.jsx("div",{className:"flex gap-2",children:Y?y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>Ye(!1),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg",title:"Screenshot Mode",children:y.jsx(aT,{size:20})}),y.jsx("button",{onClick:()=>re(!1),className:"px-4 py-2 text-blue-600 font-medium hover:bg-blue-50 rounded-lg",children:"Edit"}),y.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900",children:[y.jsx(cT,{size:18})," Save as PDF"]})]}):y.jsxs(y.Fragment,{children:[y.jsxs("button",{onClick:()=>re(!0),className:"flex items-center gap-2 px-4 py-2 text-gray-600 font-medium hover:bg-gray-100 rounded-lg",children:[y.jsx(Qw,{size:18})," Preview"]}),y.jsxs("button",{onClick:()=>yt(!1),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[y.jsx(N_,{size:18})," Save"]})]})})]}),!qe&&y.jsx("button",{onClick:()=>Ye(!0),className:"fixed top-4 right-4 z-50 p-2 bg-gray-800 text-white rounded-full shadow-lg opacity-50 hover:opacity-100 transition-opacity no-print",title:"Exit Screenshot Mode",children:y.jsx(ET,{size:20})}),Y?y.jsx("div",{ref:M,children:y.jsx(JN,{settings:r,customer:Rt(),saleDate:c,id:a,items:v,products:l,prevBalance:N,prevBalanceMemo:Q,paidAmount:ue,subtotal:Z(),grandTotal:k()})}):y.jsxs("div",{className:"max-w-5xl mx-auto p-4 space-y-6",children:[y.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),y.jsx("input",{type:"date",value:c,onChange:J=>p(J.target.value),className:"w-full p-2 border rounded-md"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer"}),y.jsxs("select",{value:b,onChange:J=>_(J.target.value),className:"w-full p-2 border rounded-md",children:[y.jsx("option",{value:"",children:"Select Customer"}),s?.map(J=>y.jsx("option",{value:J.id,children:J.name},J.id))]})]})]})}),y.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[y.jsx("h2",{className:"font-semibold mb-4",children:"Items"}),y.jsxs("div",{children:[y.jsxs("div",{className:"hidden md:flex gap-2 border-b pb-2 mb-2 text-sm font-medium text-gray-600",children:[y.jsx("div",{className:"flex-1 min-w-[200px]",children:"Product"}),y.jsx("div",{className:"w-48",children:"Memo"}),y.jsx("div",{className:"w-20",children:"Qty"}),y.jsx("div",{className:"w-24",children:"Unit"}),y.jsx("div",{className:"w-24",children:"Price"}),y.jsx("div",{className:"w-24",children:"Discount"}),y.jsx("div",{className:"w-24 text-right",children:"Total"}),y.jsx("div",{className:"w-10"})]}),y.jsx("div",{className:"space-y-4 md:space-y-2",children:v.map((J,Se)=>y.jsxs("div",{className:"flex flex-col md:flex-row gap-3 md:gap-2 items-start border md:border-none p-4 md:p-0 rounded-lg md:rounded-none bg-gray-50 md:bg-white relative",children:[y.jsx("button",{onClick:()=>z(Se),className:"absolute top-2 right-2 p-2 text-red-500 hover:bg-red-100 rounded-full md:hidden",children:y.jsx(xl,{size:18})}),y.jsxs("div",{className:"w-full md:flex-1 md:min-w-[200px]",children:[y.jsx("label",{className:"md:hidden text-xs font-bold text-gray-500 mb-1 block",children:"Product"}),y.jsxs("select",{value:J.productId,onChange:Ae=>B(Se,"productId",Ae.target.value),className:"w-full p-2 border rounded-md text-sm bg-white",children:[y.jsx("option",{value:"",children:"Select Product"}),l?.map(Ae=>y.jsx("option",{value:Ae.id,children:Ae.name},Ae.id))]})]}),y.jsxs("div",{className:"w-full md:w-48",children:[y.jsx("label",{className:"md:hidden text-xs font-bold text-gray-500 mb-1 block",children:"Memo"}),y.jsx("input",{type:"text",placeholder:"Memo",value:J.memo||"",onChange:Ae=>B(Se,"memo",Ae.target.value),className:"w-full p-2 border rounded-md text-sm"})]}),y.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[y.jsxs("div",{className:"w-1/2 md:w-20",children:[y.jsx("label",{className:"md:hidden text-xs font-bold text-gray-500 mb-1 block",children:"Qty"}),y.jsx("input",{type:"number",value:J.qty,onChange:Ae=>B(Se,"qty",Ae.target.value),className:"w-full p-2 border rounded-md text-sm"})]}),y.jsxs("div",{className:"w-1/2 md:w-24",children:[y.jsx("label",{className:"md:hidden text-xs font-bold text-gray-500 mb-1 block",children:"Unit"}),y.jsxs("select",{value:J.unit,onChange:Ae=>B(Se,"unit",Ae.target.value),className:"w-full p-2 border rounded-md text-sm bg-white",children:[y.jsx("option",{value:"Kg",children:"Kg"}),y.jsx("option",{value:"Pcs",children:"Pcs"})]})]})]}),y.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[y.jsxs("div",{className:"w-1/2 md:w-24",children:[y.jsx("label",{className:"md:hidden text-xs font-bold text-gray-500 mb-1 block",children:"Price"}),y.jsx("input",{type:"number",step:"0.01",value:J.price,onChange:Ae=>B(Se,"price",Ae.target.value),className:"w-full p-2 border rounded-md text-sm"})]}),y.jsxs("div",{className:"w-1/2 md:w-24",children:[y.jsx("label",{className:"md:hidden text-xs font-bold text-gray-500 mb-1 block",children:"Discount"}),y.jsx("input",{type:"number",step:"0.01",value:J.discount,onChange:Ae=>B(Se,"discount",Ae.target.value),className:"w-full p-2 border rounded-md text-sm text-red-600",placeholder:"0.00"})]})]}),y.jsxs("div",{className:"w-full md:w-24 md:text-right flex justify-between md:block items-center mt-2 md:mt-0 pt-2 md:pt-2 border-t md:border-none",children:[y.jsx("span",{className:"md:hidden text-sm font-bold text-gray-600",children:"Total:"}),y.jsx("span",{className:"font-medium text-sm",children:(J.qty*J.price-(J.discount||0)).toFixed(2)})]}),y.jsx("div",{className:"hidden md:flex w-10 justify-center",children:y.jsx("button",{onClick:()=>z(Se),className:"p-2 text-red-500 hover:bg-red-50 rounded-full",children:y.jsx(xl,{size:18})})})]},Se))})]}),y.jsxs("button",{onClick:V,className:"mt-4 flex items-center gap-2 text-blue-600 font-medium hover:bg-blue-50 px-3 py-2 rounded-lg",children:[y.jsx(Lf,{size:18})," Add Item"]})]}),y.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm space-y-4",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:"font-medium",children:"Subtotal"}),y.jsx("span",{className:"text-xl font-bold",children:Z().toFixed(2)})]}),y.jsxs("div",{className:"border-t pt-4",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Previous Balance"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"text",placeholder:"Memo (e.g. Bal b/f)",value:Q,onChange:J=>me(J.target.value),className:"flex-1 p-2 border rounded-md"}),y.jsx("input",{type:"number",step:"0.01",placeholder:"Amount",value:N,onChange:J=>O(J.target.value),className:"w-32 p-2 border rounded-md text-right"})]})]}),y.jsxs("div",{className:"border-t pt-4",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount Paid"}),y.jsx("div",{className:"flex justify-end",children:y.jsx("input",{type:"number",step:"0.01",placeholder:"0.00",value:ue,onChange:J=>te(J.target.value),className:"w-32 p-2 border rounded-md text-right font-bold text-green-700"})})]}),y.jsxs("div",{className:"flex justify-between items-center border-t pt-4 text-lg",children:[y.jsx("span",{className:"font-bold",children:"Grand Total"}),y.jsxs("span",{className:"font-bold text-blue-600",children:["RM ",k().toFixed(2)]})]})]})]})]})}function WN(){const{user:a}=Sp();return a?y.jsx(__,{}):y.jsx(XE,{to:"/login",replace:!0})}function eC(){const[a,t]=se.useState(""),[r,s]=se.useState(""),[l,c]=se.useState(""),{login:p}=Sp(),b=Ol(),_=async v=>{v.preventDefault(),c("");const A=await p(a,r);A.success?b("/"):c(A.message)};return y.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Welcome Back"}),y.jsx("p",{className:"text-gray-500 mt-2",children:"Please sign in to continue"})]}),y.jsxs("form",{onSubmit:_,className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx(D_,{size:20,className:"text-gray-400"})}),y.jsx("input",{type:"text",value:a,onChange:v=>t(v.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your username",required:!0})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx(R_,{size:20,className:"text-gray-400"})}),y.jsx("input",{type:"password",value:r,onChange:v=>s(v.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your password",required:!0})]})]}),l&&y.jsx("div",{className:"text-red-500 text-sm text-center bg-red-50 p-2 rounded",children:l}),y.jsx("button",{type:"submit",className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Sign In"})]})]})})}function tC(){const[a,t]=se.useState({start:bi(new Date(new Date().getFullYear(),new Date().getMonth(),1)),end:bi(new Date)}),[r,s]=se.useState("sales"),l=ga(async()=>(await Qe.sales.where("date").between(a.start,a.end,!0,!0).toArray()).sort((v,A)=>new Date(A.date)-new Date(v.date)),[a]),c=ga(()=>Qe.products.toArray()),p=ga(()=>Qe.customers.toArray()),b=se.useMemo(()=>{if(!l||!c||!p)return null;const _={revenue:0,paid:0,balance:0,count:l.length},v={},A={};return l.forEach(N=>{_.revenue+=N.subtotal||0,_.paid+=N.paidAmount||0,_.balance+=(N.grandTotal||0)-(N.paidAmount||0),N.items.forEach(O=>{v[O.productId]||(v[O.productId]={id:O.productId,name:c.find(Q=>Q.id===O.productId)?.name||"Unknown",qty:0,revenue:0,unit:O.unit}),v[O.productId].qty+=parseFloat(O.qty)||0,v[O.productId].revenue+=O.qty*O.price-(O.discount||0)}),A[N.customerId]||(A[N.customerId]={id:N.customerId,name:p.find(O=>O.id===N.customerId)?.name||"Unknown",count:0,total:0}),A[N.customerId].count+=1,A[N.customerId].total+=N.subtotal||0}),{summary:_,products:Object.values(v).sort((N,O)=>O.revenue-N.revenue),customers:Object.values(A).sort((N,O)=>O.total-N.total)}},[l,c,p]);return b?y.jsxs("div",{className:"p-4 max-w-6xl mx-auto pb-24",children:[y.jsxs("h1",{className:"text-2xl font-bold mb-6 text-gray-800 flex items-center gap-2",children:[y.jsx(Bm,{className:"text-blue-600"})," Reports & Analytics"]}),y.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-6 flex flex-col md:flex-row gap-4 items-end md:items-center justify-between",children:[y.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Start Date"}),y.jsx("input",{type:"date",value:a.start,onChange:_=>t(v=>({...v,start:_.target.value})),className:"p-2 border rounded-md text-sm w-full"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"End Date"}),y.jsx("input",{type:"date",value:a.end,onChange:_=>t(v=>({...v,end:_.target.value})),className:"p-2 border rounded-md text-sm w-full"})]})]}),y.jsxs("div",{className:"flex gap-4 w-full md:w-auto overflow-x-auto pb-2 md:pb-0",children:[y.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-100 min-w-[120px]",children:[y.jsx("p",{className:"text-xs text-green-600 font-bold uppercase",children:"Revenue"}),y.jsxs("p",{className:"text-lg font-bold text-green-900",children:["RM ",b.summary.revenue.toFixed(2)]})]}),y.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-100 min-w-[120px]",children:[y.jsx("p",{className:"text-xs text-blue-600 font-bold uppercase",children:"Paid"}),y.jsxs("p",{className:"text-lg font-bold text-blue-900",children:["RM ",b.summary.paid.toFixed(2)]})]}),y.jsxs("div",{className:"bg-red-50 p-3 rounded-lg border border-red-100 min-w-[120px]",children:[y.jsx("p",{className:"text-xs text-red-600 font-bold uppercase",children:"Balance"}),y.jsxs("p",{className:"text-lg font-bold text-red-900",children:["RM ",b.summary.balance.toFixed(2)]})]})]})]}),y.jsxs("div",{className:"flex gap-2 mb-6 border-b",children:[y.jsxs("button",{onClick:()=>s("sales"),className:`px-4 py-2 font-medium text-sm flex items-center gap-2 ${r==="sales"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[y.jsx(A_,{size:16})," Sales"]}),y.jsxs("button",{onClick:()=>s("products"),className:`px-4 py-2 font-medium text-sm flex items-center gap-2 ${r==="products"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[y.jsx(gf,{size:16})," Products"]}),y.jsxs("button",{onClick:()=>s("customers"),className:`px-4 py-2 font-medium text-sm flex items-center gap-2 ${r==="customers"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[y.jsx(yf,{size:16})," Customers"]})]}),y.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[r==="sales"&&y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-sm text-left",children:[y.jsx("thead",{className:"bg-gray-50 text-gray-600 font-bold border-b",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-3",children:"Date"}),y.jsx("th",{className:"p-3",children:"Customer"}),y.jsx("th",{className:"p-3 text-right",children:"Total"}),y.jsx("th",{className:"p-3 text-right",children:"Paid"}),y.jsx("th",{className:"p-3 text-right",children:"Balance"})]})}),y.jsxs("tbody",{className:"divide-y",children:[l.map(_=>y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsx("td",{className:"p-3",children:bi(new Date(_.date))}),y.jsx("td",{className:"p-3 font-medium",children:p?.find(v=>v.id===_.customerId)?.name||"Unknown"}),y.jsxs("td",{className:"p-3 text-right font-bold",children:["RM ",(_.grandTotal||0).toFixed(2)]}),y.jsxs("td",{className:"p-3 text-right text-green-600",children:["RM ",(_.paidAmount||0).toFixed(2)]}),y.jsxs("td",{className:"p-3 text-right text-red-600",children:["RM ",((_.grandTotal||0)-(_.paidAmount||0)).toFixed(2)]})]},_.id)),l.length===0&&y.jsx("tr",{children:y.jsx("td",{colSpan:"5",className:"p-8 text-center text-gray-500",children:"No sales found in this period."})})]})]})}),r==="products"&&y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-sm text-left",children:[y.jsx("thead",{className:"bg-gray-50 text-gray-600 font-bold border-b",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-3",children:"Product Name"}),y.jsx("th",{className:"p-3 text-center",children:"Units Sold"}),y.jsx("th",{className:"p-3 text-right",children:"Total Revenue"})]})}),y.jsxs("tbody",{className:"divide-y",children:[b.products.map(_=>y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsx("td",{className:"p-3 font-medium",children:_.name}),y.jsxs("td",{className:"p-3 text-center",children:[_.qty.toFixed(2)," ",_.unit]}),y.jsxs("td",{className:"p-3 text-right font-bold",children:["RM ",_.revenue.toFixed(2)]})]},_.id)),b.products.length===0&&y.jsx("tr",{children:y.jsx("td",{colSpan:"3",className:"p-8 text-center text-gray-500",children:"No product data available."})})]})]})}),r==="customers"&&y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-sm text-left",children:[y.jsx("thead",{className:"bg-gray-50 text-gray-600 font-bold border-b",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-3",children:"Customer Name"}),y.jsx("th",{className:"p-3 text-center",children:"Orders"}),y.jsx("th",{className:"p-3 text-right",children:"Total Spent"})]})}),y.jsxs("tbody",{className:"divide-y",children:[b.customers.map(_=>y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsx("td",{className:"p-3 font-medium",children:_.name}),y.jsx("td",{className:"p-3 text-center",children:_.count}),y.jsxs("td",{className:"p-3 text-right font-bold",children:["RM ",_.total.toFixed(2)]})]},_.id)),b.customers.length===0&&y.jsx("tr",{children:y.jsx("td",{colSpan:"3",className:"p-8 text-center text-gray-500",children:"No customer data available."})})]})]})})]})]}):y.jsx("div",{className:"p-8 text-center",children:"Loading reports..."})}function nC(){return y.jsx(HN,{children:y.jsx(bw,{basename:"/spfamilyventuresbook",children:y.jsxs(ZE,{children:[y.jsx(ka,{path:"/login",element:y.jsx(eC,{})}),y.jsx(ka,{element:y.jsx(WN,{}),children:y.jsxs(ka,{path:"/",element:y.jsx(DN,{}),children:[y.jsx(ka,{index:!0,element:y.jsx(UN,{})}),y.jsx(ka,{path:"sales",element:y.jsx(YN,{})}),y.jsx(ka,{path:"sales/new",element:y.jsx(u_,{})}),y.jsx(ka,{path:"sales/:id",element:y.jsx(u_,{})}),y.jsx(ka,{path:"products",element:y.jsx(GN,{})}),y.jsx(ka,{path:"customers",element:y.jsx(QN,{})}),y.jsx(ka,{path:"reports",element:y.jsx(tC,{})}),y.jsx(ka,{path:"settings",element:y.jsx(KN,{})})]})})]})})})}class rC extends To.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){this.setState({error:t,errorInfo:r}),console.error("Uncaught error:",t,r)}render(){return this.state.hasError?y.jsxs("div",{className:"p-8 bg-red-50 text-red-900 min-h-screen",children:[y.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Something went wrong."}),y.jsxs("details",{className:"whitespace-pre-wrap",children:[this.state.error&&this.state.error.toString(),y.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}nE.createRoot(document.getElementById("root")).render(y.jsx(To.StrictMode,{children:y.jsx(rC,{children:y.jsx(nC,{})})}));
